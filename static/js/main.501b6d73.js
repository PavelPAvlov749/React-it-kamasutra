/*! For license information please see main.501b6d73.js.LICENSE.txt */
!function(){"use strict";var e={110:function(e,t,n){var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),y=0;y<o.length;++y){var g=o[y];if(!a[g]&&(!r||!r[g])&&(!v||!v[g])&&(!s||!s[g])){var m=h(n,g);try{c(t,g,m)}catch(A){}}}}return t}},746:function(e,t){var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,m=n?Symbol.for("react.fundamental"):60117,A=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case y:case v:case u:return e;default:return t}}case i:return t}}}function b(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=y,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return b(e)||w(e)===l},t.isConcurrentMode=b,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===y},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===m||e.$$typeof===A||e.$$typeof===k||e.$$typeof===g)},t.typeOf=w},309:function(e,t,n){e.exports=n(746)},463:function(e,t,n){var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function m(e){return e[1].toUpperCase()}function A(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,m);y[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,m);y[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,m);y[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),b=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),I=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,U=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var B=!1;function j(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function V(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case b:return"Portal";case C:return"Profiler";case E:return"StrictMode";case T:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return U({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&A(e,"checked",t,!1)}function Z(e,t){X(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return U({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ae(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ge=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function me(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function Ae(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var be=null,_e=null,Ee=null;function Ce(e){if(e=Ai(e)){if("function"!==typeof be)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),be(e.stateNode,e.type,t))}}function Se(e){_e?Ee?Ee.push(e):Ee=[e]:_e=e}function Ie(){if(_e){var e=_e,t=Ee;if(Ee=_e=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function xe(e,t){return e(t)}function Te(){}var Ne=!1;function Re(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return xe(e,t,n)}finally{Ne=!1,(null!==_e||null!==Ee)&&(Te(),Ie())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){De=!1}function Le(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Ue=null,Fe=!1,Be=null,je={onError:function(e){Me=!0,Ue=e}};function Ve(e,t,n,r,i,a,o,s,u){Me=!1,Ue=null,Le.apply(je,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Qe(e){if(qe(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Qe(i),e;if(o===r)return Qe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Je=i.unstable_requestPaint,Xe=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function mt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var At=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,bt,_t,Et,Ct,St=!1,It=[],xt=null,Tt=null,Nt=null,Rt=new Map,Pt=new Map,Dt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=Ai(t))&&bt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ut(e){var t=mi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void Ct(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Ai(n))&&bt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Bt(e,t,n){Ft(e)&&n.delete(t)}function jt(){St=!1,null!==xt&&Ft(xt)&&(xt=null),null!==Tt&&Ft(Tt)&&(Tt=null),null!==Nt&&Ft(Nt)&&(Nt=null),Rt.forEach(Bt),Pt.forEach(Bt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jt)))}function qt(e){function t(t){return Vt(t,e)}if(0<It.length){Vt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==xt&&Vt(xt,e),null!==Tt&&Vt(Tt,e),null!==Nt&&Vt(Nt,e),Rt.forEach(t),Pt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ut(n),null===n.blockedOn&&Dt.shift()}var zt=k.ReactCurrentBatchConfig,Qt=!0;function Ht(e,t,n,r){var i=At,a=zt.transition;zt.transition=null;try{At=1,Kt(e,t,n,r)}finally{At=i,zt.transition=a}}function Wt(e,t,n,r){var i=At,a=zt.transition;zt.transition=null;try{At=4,Kt(e,t,n,r)}finally{At=i,zt.transition=a}}function Kt(e,t,n,r){if(Qt){var i=Yt(e,t,n,r);if(null===i)Qr(e,t,r,Gt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return xt=Mt(xt,e,t,n,r,i),!0;case"dragenter":return Tt=Mt(Tt,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=Ai(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Qr(e,t,r,Gt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Qr(e,t,r,null,n)}}var Gt=null;function Yt(e,t,n,r){if(Gt=null,null!==(e=mi(e=we(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=U({},cn,{view:0,detail:0}),hn=an(fn),dn=U({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(U({},dn,{dataTransfer:0})),yn=an(U({},fn,{relatedTarget:0})),gn=an(U({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),mn=U({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),An=an(mn),kn=an(U({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Cn(){return En}var Sn=U({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?bn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=an(Sn),xn=an(U({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=an(U({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Nn=an(U({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=U({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(Rn),Dn=[9,13,27,32],On=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Un=l&&(!On||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Bn=!1;function jn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Hn(e,t,n,r){Se(r),0<(t=Wr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Kn=null;function Gn(e){Fr(e,0)}function Yn(e){if(K(ki(e)))return e}function Jn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Zn;if(l){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Xn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Kn=Wn=null)}function nr(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];Hn(t,Kn,e,we(e)),Re(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,yr=null,gr=null,mr=null,Ar=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Ar||null==yr||yr!==G(r)||("selectionStart"in(r=yr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&ur(mr,r)||(mr=r,0<(r=Wr(gr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var br={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Er={};function Cr(e){if(_r[e])return _r[e];if(!br[e])return e;var t,n=br[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return _r[e]=n[t];return e}l&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);var Sr=Cr("animationend"),Ir=Cr("animationiteration"),xr=Cr("animationstart"),Tr=Cr("transitionend"),Nr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Nr.set(e,t),u(t,[e])}for(var Dr=0;Dr<Rr.length;Dr++){var Or=Rr[Dr];Pr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Pr(Sr,"onAnimationEnd"),Pr(Ir,"onAnimationIteration"),Pr(xr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Ur(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Ve.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Ue;Me=!1,Ue=null,Fe||(Fe=!0,Be=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Ur(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Ur(i,s,c),a=u}}}if(Fe)throw e=Be,Fe=!1,Be=null,e}function Br(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,jr("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Jt(t)){case 1:var i=Ht;break;case 4:i=Wt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Qr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=mi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Re((function(){var r=a,i=we(n),o=[];e:{var s=Nr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=In;break;case"focusin":c="focus",u=yn;break;case"focusout":c="blur",u=yn;break;case"beforeblur":case"afterblur":u=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Tn;break;case Sr:case Ir:case xr:u=gn;break;case Tr:u=Nn;break;case"scroll":u=hn;break;case"wheel":u=Pn;break;case"copy":case"cut":case"paste":u=An;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=xn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&l.push(Hr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!mi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?mi(c):null)&&(c!==(f=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=xn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ki(u),d=null==c?s:ki(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,mi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Kr(d))p++;for(d=0,v=h;v;v=Kr(v))d++;for(;0<p-d;)l=Kr(l),p--;for(;0<d-p;)h=Kr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Kr(l),h=Kr(h)}l=null}else l=null;null!==u&&Gr(o,s,u,l,!1),null!==c&&null!==f&&Gr(o,f,c,l,!0)}if("select"===(u=(s=r?ki(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var y=Jn;else if(Qn(s))if(Xn)y=or;else{y=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=ar);switch(y&&(y=y(e,r))?Hn(o,y,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?ki(r):window,e){case"focusin":(Qn(g)||"true"===g.contentEditable)&&(yr=g,gr=r,mr=null);break;case"focusout":mr=gr=yr=null;break;case"mousedown":Ar=!0;break;case"contextmenu":case"mouseup":case"dragend":Ar=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var m;if(On)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else qn?jn(e,n)&&(A="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(A="onCompositionStart");A&&(Un&&"ko"!==n.locale&&(qn||"onCompositionStart"!==A?"onCompositionEnd"===A&&qn&&(m=en()):(Zt="value"in(Xt=i)?Xt.value:Xt.textContent,qn=!0)),0<(g=Wr(r,A)).length&&(A=new kn(A,e,null,n,i),o.push({event:A,listeners:g}),m?A.data=m:null!==(m=Vn(n))&&(A.data=m))),(m=Mn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Bn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!On&&jn(e,t)?(e=en(),$t=Zt=Xt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=m))}Fr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Pe(n,a))&&o.unshift(Hr(n,u,s)):i||null!=(u=Pe(n,a))&&o.push(Hr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Jr,"")}function Zr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,yi="__reactListeners$"+fi,gi="__reactHandles$"+fi;function mi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function Ai(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var bi=[],_i=-1;function Ei(e){return{current:e}}function Ci(e){0>_i||(e.current=bi[_i],bi[_i]=null,_i--)}function Si(e,t){_i++,bi[_i]=e.current,e.current=t}var Ii={},xi=Ei(Ii),Ti=Ei(!1),Ni=Ii;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ci(Ti),Ci(xi)}function Oi(e,t,n){if(xi.current!==Ii)throw Error(a(168));Si(xi,t),Si(Ti,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,z(e)||"Unknown",i));return U({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Ni=xi.current,Si(xi,e),Si(Ti,Ti.current),!0}function Ui(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ci(Ti),Ci(xi),Si(xi,e)):Ci(Ti),Si(Ti,n)}var Fi=null,Bi=!1,ji=!1;function Vi(e){null===Fi?Fi=[e]:Fi.push(e)}function qi(){if(!ji&&null!==Fi){ji=!0;var e=0,t=At;try{var n=Fi;for(At=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Bi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ke($e,qi),i}finally{At=t,ji=!1}}return null}var zi=[],Qi=0,Hi=null,Wi=0,Ki=[],Gi=0,Yi=null,Ji=1,Xi="";function Zi(e,t){zi[Qi++]=Wi,zi[Qi++]=Hi,Hi=e,Wi=t}function $i(e,t,n){Ki[Gi++]=Ji,Ki[Gi++]=Xi,Ki[Gi++]=Yi,Yi=e;var r=Ji;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ji=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Ji=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Zi(e,1),$i(e,1,0))}function ta(e){for(;e===Hi;)Hi=zi[--Qi],zi[Qi]=null,Wi=zi[--Qi],zi[Qi]=null;for(;e===Yi;)Yi=Ki[--Gi],Ki[Gi]=null,Xi=Ki[--Gi],Ki[Gi]=null,Ji=Ki[--Gi],Ki[Gi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Ji,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=k.ReactCurrentBatchConfig;function ya(e,t){if(e&&e.defaultProps){for(var n in t=U({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ga=Ei(null),ma=null,Aa=null,ka=null;function wa(){ka=Aa=ma=null}function ba(e){var t=ga.current;Ci(ga),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ea(e,t){ma=e,ka=Aa=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ks=!0),e.firstContext=null)}function Ca(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===Aa){if(null===ma)throw Error(a(308));Aa=e,ma.dependencies={lanes:0,firstContext:e}}else Aa=Aa.next=e;return t}var Sa=null;function Ia(e){null===Sa?Sa=[e]:Sa.push(e)}function xa(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ia(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ta(e,r)}function Ta(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ta(e,n)}return null===(i=r.interleaved)?(t.next=t,Ia(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ta(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,mt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ua(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=U({},f,h);break e;case 2:Na=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Uu|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ba=(new r.Component).refs;function ja(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:U({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Va={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oa(e,i,r))&&(rc(t,e,r,n),La(t,e,r))}};function qa(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function za(e,t,n){var r=!1,i=Ii,a=t.contextType;return"object"===typeof a&&null!==a?a=Ca(a):(i=Pi(t)?Ni:xi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ii),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Va,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Qa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Va.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ba,Ra(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ca(a):(a=Pi(t)?Ni:xi.current,i.context=Ri(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ja(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Va.enqueueReplaceState(i,i.state,null),Ua(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Wa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ba&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ka(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ga(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Ga(a)===t.type)?((r=i(t,n.props)).ref=Wa(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Wa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Wa(e,null,t),n.return=e,n;case b:return(t=Bc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ka(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case b:return n.key===i?l(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ka(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case b:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ka(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,y=null;null!==f&&v<s.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var g=d(i,f,s[v],u);if(null===g){null===f&&(f=y);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g,f=y}if(v===s.length)return n(i,f),ia&&Zi(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Zi(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(y=p(f,i,v,s[v],u))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),ia&&Zi(i,v),c}function y(i,s,u,c){var l=L(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,y=s=0,g=null,m=u.next();null!==v&&!m.done;y++,m=u.next()){v.index>y?(g=v,v=null):g=v.sibling;var A=d(i,v,m.value,c);if(null===A){null===v&&(v=g);break}e&&v&&null===A.alternate&&t(i,v),s=o(A,s,y),null===f?l=A:f.sibling=A,f=A,v=g}if(m.done)return n(i,v),ia&&Zi(i,y),l;if(null===v){for(;!m.done;y++,m=u.next())null!==(m=h(i,m.value,c))&&(s=o(m,s,y),null===f?l=m:f.sibling=m,f=m);return ia&&Zi(i,y),l}for(v=r(i,v);!m.done;y++,m=u.next())null!==(m=p(v,i,y,m.value,c))&&(e&&null!==m.alternate&&v.delete(null===m.key?y:m.key),s=o(m,s,y),null===f?l=m:f.sibling=m,f=m);return e&&v.forEach((function(e){return t(i,e)})),ia&&Zi(i,y),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Ga(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Wa(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Mc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Lc(o.type,o.key,o.props,null,r.mode,u)).ref=Wa(r,a,o),u.return=r,r=u)}return s(r);case b:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Bc(o,r.mode,u)).return=r,r=a}return s(r);case P:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(L(o))return y(r,a,o,u);Ka(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Ja=Ya(!0),Xa=Ya(!1),Za={},$a=Ei(Za),eo=Ei(Za),to=Ei(Za);function no(e){if(e===Za)throw Error(a(174));return e}function ro(e,t){switch(Si(to,t),Si(eo,e),Si($a,Za),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci($a),Si($a,t)}function io(){Ci($a),Ci(eo),Ci(to)}function ao(e){no(to.current);var t=no($a.current),n=ue(t,e.type);t!==n&&(Si(eo,e),Si($a,n))}function oo(e){eo.current===e&&(Ci($a),Ci(eo))}var so=Ei(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,po=0,vo=null,yo=null,go=null,mo=!1,Ao=!1,ko=0,wo=0;function bo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Eo(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),Ao){o=0;do{if(Ao=!1,ko=0,25<=o)throw Error(a(301));o+=1,go=yo=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(Ao)}if(fo.current=os,t=null!==yo&&null!==yo.next,po=0,go=yo=vo=null,mo=!1,t)throw Error(a(300));return e}function Co(){var e=0!==ko;return ko=0,e}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?vo.memoizedState=go=e:go=go.next=e,go}function Io(){if(null===yo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=yo.next;var t=null===go?vo.memoizedState:go.next;if(null!==t)go=t,yo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(yo=e).memoizedState,baseState:yo.baseState,baseQueue:yo.baseQueue,queue:yo.queue,next:null},null===go?vo.memoizedState=go=e:go=go.next=e}return go}function xo(e,t){return"function"===typeof t?t(e):t}function To(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=yo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,vo.lanes|=f,Uu|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(ks=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Uu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ks=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ro(){}function Po(e,t){var n=vo,r=Io(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ks=!0),r=r.queue,Qo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,Bo(9,Oo.bind(null,n,r,i,t),void 0,null),null===Nu)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Uo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Uo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Uo(e){var t=Ta(e,1);null!==t&&rc(t,e,1,-1)}function Fo(e){var t=So();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xo,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Bo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function jo(){return Io().memoizedState}function Vo(e,t,n,r){var i=So();vo.flags|=e,i.memoizedState=Bo(1|t,n,void 0,void 0===r?null:r)}function qo(e,t,n,r){var i=Io();r=void 0===r?null:r;var a=void 0;if(null!==yo){var o=yo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=Bo(t,n,a,r))}vo.flags|=e,i.memoizedState=Bo(1|t,n,a,r)}function zo(e,t){return Vo(8390656,8,e,t)}function Qo(e,t){return qo(2048,8,e,t)}function Ho(e,t){return qo(4,2,e,t)}function Wo(e,t){return qo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Go(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qo(4,4,Ko.bind(null,t,e),n)}function Yo(){}function Jo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ks=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Uu|=n,e.baseState=!0),t)}function $o(e,t){var n=At;At=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{At=n,ho.transition=r}}function es(){return Io().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=xa(e,t,n,r))){rc(n,e,r,tc()),as(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ia(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=xa(e,t,i,r))&&(rc(n,e,r,i=tc()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){Ao=mo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,mt(e,n)}}var os={readContext:Ca,useCallback:bo,useContext:bo,useEffect:bo,useImperativeHandle:bo,useInsertionEffect:bo,useLayoutEffect:bo,useMemo:bo,useReducer:bo,useRef:bo,useState:bo,useDebugValue:bo,useDeferredValue:bo,useTransition:bo,useMutableSource:bo,useSyncExternalStore:bo,useId:bo,unstable_isNewReconciler:!1},ss={readContext:Ca,useCallback:function(e,t){return So().memoizedState=[e,void 0===t?null:t],e},useContext:Ca,useEffect:zo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vo(4,2,e,t)},useMemo:function(e,t){var n=So();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=So();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},So().memoizedState=e},useState:Fo,useDebugValue:Yo,useDeferredValue:function(e){return So().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=$o.bind(null,e[1]),So().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=So();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Nu)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,zo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Bo(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=So(),t=Nu.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Ji&~(1<<32-ot(Ji)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ca,useCallback:Jo,useContext:Ca,useEffect:Qo,useImperativeHandle:Go,useInsertionEffect:Ho,useLayoutEffect:Wo,useMemo:Xo,useReducer:To,useRef:jo,useState:function(){return To(xo)},useDebugValue:Yo,useDeferredValue:function(e){return Zo(Io(),yo.memoizedState,e)},useTransition:function(){return[To(xo)[0],Io().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Po,useId:es,unstable_isNewReconciler:!1},cs={readContext:Ca,useCallback:Jo,useContext:Ca,useEffect:Qo,useImperativeHandle:Go,useInsertionEffect:Ho,useLayoutEffect:Wo,useMemo:Xo,useReducer:No,useRef:jo,useState:function(){return No(xo)},useDebugValue:Yo,useDeferredValue:function(e){var t=Io();return null===yo?t.memoizedState=e:Zo(t,yo.memoizedState,e)},useTransition:function(){return[No(xo)[0],Io().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Po,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hu||(Hu=!0,Wu=r),hs(0,t)},n}function vs(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Ku?Ku=new Set([this]):Ku.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ys(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ms(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Oa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var As=k.ReactCurrentOwner,ks=!1;function ws(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ja(t,e.child,n,r)}function bs(e,t,n,r,i){n=n.render;var a=t.ref;return Ea(t,i),r=Eo(e,t,n,r,a,i),n=Co(),null===e||ks?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function _s(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Dc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Es(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Oc(a,r)).ref=t.ref,e.return=t,t.child=e}function Es(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(ks=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(ks=!0)}}return Is(e,t,n,r,i)}function Cs(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Ou,Du),Du|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Ou,Du),Du|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Si(Ou,Du),Du|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(Ou,Du),Du|=r;return ws(e,t,i,n),t.child}function Ss(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Is(e,t,n,r,i){var a=Pi(n)?Ni:xi.current;return a=Ri(t,a),Ea(t,i),n=Eo(e,t,n,r,a,i),r=Co(),null===e||ks?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function xs(e,t,n,r,i){if(Pi(n)){var a=!0;Mi(t)}else a=!1;if(Ea(t,i),null===t.stateNode)Qs(e,t),za(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ca(c):c=Ri(t,c=Pi(n)?Ni:xi.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Qa(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,Ua(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ti.current||Na?("function"===typeof l&&(ja(t,n,l,r),u=t.memoizedState),(s=Na||qa(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pa(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ya(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ca(u):u=Ri(t,u=Pi(n)?Ni:xi.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&Qa(t,o,r,u),Na=!1,h=t.memoizedState,o.state=h,Ua(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ti.current||Na?("function"===typeof d&&(ja(t,n,d,r),p=t.memoizedState),(c=Na||qa(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ts(e,t,n,r,a,i)}function Ts(e,t,n,r,i,a){Ss(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Ui(t,n,!1),Hs(e,t,a);r=t.stateNode,As.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ja(t,e.child,null,a),t.child=Ja(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Ui(t,n,!0),t.child}function Ns(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ro(e,t.containerInfo)}function Rs(e,t,n,r,i){return da(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Ps,Ds,Os,Ls,Ms={dehydrated:null,treeContext:null,retryLane:0};function Us(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Uc(u,i,0,null),e=Mc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Us(n),t.memoizedState=Ms,e):Bs(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,js(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Uc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ja(t,e.child,null,s),t.child.memoizedState=Us(s),t.memoizedState=Ms,o);if(0===(1&t.mode))return js(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,js(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),ks||u){if(null!==(r=Nu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ta(e,i),rc(r,e,i,-1))}return yc(),js(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=xc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[Gi++]=Ji,Ki[Gi++]=Xi,Ki[Gi++]=Yi,Ji=e.id,Xi=e.overflow,Yi=t),t=Bs(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Oc(r,s):(s=Mc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Us(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Oc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Bs(e,t){return(t=Uc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function js(e,t,n,r){return null!==r&&pa(r),Ja(t,e.child,null,n),(e=Bs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function qs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function zs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vs(e,n,t);else if(19===e.tag)Vs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),qs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}qs(t,!0,n,null,a);break;case"together":qs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Uu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Pi(t.type)&&Di(),Ks(t),null;case 3:return r=t.stateNode,io(),Ci(Ti),Ci(xi),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sc(aa),aa=null))),Ds(e,t),Ks(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ks(t),null}if(e=no($a.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Br(Lr[i],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":J(r,o),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Br("invalid",r);break;case"textarea":ie(r,o),Br("invalid",r)}for(var u in me(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Br("scroll",r)}switch(n){case"input":W(r),$(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Ps(e,t,!1,!1),t.stateNode=e;e:{switch(u=Ae(n,r),n){case"dialog":Br("cancel",e),Br("close",e),i=r;break;case"iframe":case"object":case"embed":Br("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Br(Lr[i],e);i=r;break;case"source":Br("error",e),i=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),i=r;break;case"details":Br("toggle",e),i=r;break;case"input":J(e,r),i=Y(e,r),Br("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=U({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Br("invalid",e)}for(o in me(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?ye(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Br("scroll",e):null!=l&&A(e,o,l,u))}switch(n){case"input":W(e),$(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Ls(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no($a.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ks(t),null;case 13:if(Ci(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),o=!1}else null!==aa&&(sc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Lu&&(Lu=3):yc())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return io(),Ds(e,t),null===e&&qr(t.stateNode.containerInfo),Ks(t),null;case 10:return ba(t.type._context),Ks(t),null;case 19:if(Ci(so),null===(o=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ws(o,!1);else{if(0!==Lu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ws(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>zu&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Ks(t),null}else 2*Xe()-o.renderingStartTime>zu&&1073741824!==n&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=so.current,Si(so,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Du)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ys(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ci(Ti),Ci(xi),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ci(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(so),null;case 4:return io(),null;case 10:return ba(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ps=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(){},Os=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no($a.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=U({},i,{value:void 0}),r=U({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(l in me(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Br("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var Js=!1,Xs=!1,Zs="function"===typeof WeakSet?WeakSet:Set,$s=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cc(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Cc(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,n,a)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[yi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var fu=null,hu=!1;function du(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||eu(n,t);case 6:var r=fu,i=hu;fu=null,du(e,t,n),hu=i,null!==(fu=r)&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fu.removeChild(n.stateNode));break;case 18:null!==fu&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),qt(e)):ui(fu,n.stateNode));break;case 4:r=fu,i=hu,fu=n.stateNode.containerInfo,hu=!0,du(e,t,n),fu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tu(n,t,o),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!Xs&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Cc(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,du(e,t,n),Xs=r):du(e,t,n);break;default:du(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zs),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function yu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:fu=u.stateNode,hu=!1;break e;case 3:case 4:fu=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===fu)throw Error(a(160));pu(o,s,i),fu=null,hu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Cc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yu(t,e),mu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(y){Cc(e,e.return,y)}try{ru(5,e,e.return)}catch(y){Cc(e,e.return,y)}}break;case 1:yu(t,e),mu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(yu(t,e),mu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(y){Cc(e,e.return,y)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&X(i,o),Ae(u,s);var l=Ae(u,o);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?ye(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):A(i,f,h,l)}switch(u){case"input":Z(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(y){Cc(e,e.return,y)}}break;case 6:if(yu(t,e),mu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){Cc(e,e.return,y)}}break;case 3:if(yu(t,e),mu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(y){Cc(e,e.return,y)}break;case 4:default:yu(t,e),mu(e);break;case 13:yu(t,e),mu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(qu=Xe())),4&r&&vu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(l=Xs)||f,yu(t,e),Xs=l):yu(t,e),mu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for($s=e,f=e.child;null!==f;){for(h=$s=f;null!==$s;){switch(p=(d=$s).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:eu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){Cc(r,n,y)}}break;case 5:eu(d,d.return);break;case 22:if(null!==d.memoizedState){bu(h);continue}}null!==p?(p.return=d,$s=p):bu(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(y){Cc(e,e.return,y)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(y){Cc(e,e.return,y)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:yu(t,e),mu(e),4&r&&vu(e);case 21:}}function mu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),lu(e,uu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cu(e,uu(e),o);break;default:throw Error(a(161))}}catch(s){Cc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Au(e,t,n){$s=e,ku(e,t,n)}function ku(e,t,n){for(var r=0!==(1&e.mode);null!==$s;){var i=$s,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Js;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Xs;s=Js;var c=Xs;if(Js=o,(Xs=u)&&!c)for($s=i;null!==$s;)u=(o=$s).child,22===o.tag&&null!==o.memoizedState?_u(i):null!==u?(u.return=o,$s=u):_u(i);for(;null!==a;)$s=a,ku(a,t,n),a=a.sibling;$s=i,Js=s,Xs=c}wu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,$s=a):wu(e)}}function wu(e){for(;null!==$s;){var t=$s;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ya(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&qt(h)}}}break;default:throw Error(a(163))}Xs||512&t.flags&&au(t)}catch(d){Cc(t,t.return,d)}}if(t===e){$s=null;break}if(null!==(n=t.sibling)){n.return=t.return,$s=n;break}$s=t.return}}function bu(e){for(;null!==$s;){var t=$s;if(t===e){$s=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$s=n;break}$s=t.return}}function _u(e){for(;null!==$s;){var t=$s;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Cc(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Cc(t,i,u)}}var a=t.return;try{au(t)}catch(u){Cc(t,a,u)}break;case 5:var o=t.return;try{au(t)}catch(u){Cc(t,o,u)}}}catch(u){Cc(t,t.return,u)}if(t===e){$s=null;break}var s=t.sibling;if(null!==s){s.return=t.return,$s=s;break}$s=t.return}}var Eu,Cu=Math.ceil,Su=k.ReactCurrentDispatcher,Iu=k.ReactCurrentOwner,xu=k.ReactCurrentBatchConfig,Tu=0,Nu=null,Ru=null,Pu=0,Du=0,Ou=Ei(0),Lu=0,Mu=null,Uu=0,Fu=0,Bu=0,ju=null,Vu=null,qu=0,zu=1/0,Qu=null,Hu=!1,Wu=null,Ku=null,Gu=!1,Yu=null,Ju=0,Xu=0,Zu=null,$u=-1,ec=0;function tc(){return 0!==(6&Tu)?Xe():-1!==$u?$u:$u=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Tu)&&0!==Pu?Pu&-Pu:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=At)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function rc(e,t,n,r){if(50<Xu)throw Xu=0,Zu=null,Error(a(185));gt(e,n,r),0!==(2&Tu)&&e===Nu||(e===Nu&&(0===(2&Tu)&&(Fu|=n),4===Lu&&uc(e,Pu)),ic(e,r),1===n&&0===Tu&&0===(1&t.mode)&&(zu=Xe()+500,Bi&&qi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Nu?Pu:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Bi=!0,Vi(e)}(cc.bind(null,e)):Vi(cc.bind(null,e)),oi((function(){0===(6&Tu)&&qi()})),n=null;else{switch(kt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if($u=-1,ec=0,0!==(6&Tu))throw Error(a(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===Nu?Pu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Tu;Tu|=2;var o=vc();for(Nu===e&&Pu===t||(Qu=null,zu=Xe()+500,dc(e,t));;)try{Ac();break}catch(u){pc(e,u)}wa(),Su.current=o,Tu=i,null!==Ru?t=0:(Nu=null,Pu=0,t=Lu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Mu,dc(e,0),uc(e,r),ic(e,Xe()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Mu,dc(e,0),uc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:bc(e,Vu,Qu);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=qu+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(bc.bind(null,e,Vu,Qu),t);break}bc(e,Vu,Qu);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cu(r/1960))-r)){e.timeoutHandle=ri(bc.bind(null,e,Vu,Qu),r);break}bc(e,Vu,Qu);break;default:throw Error(a(329))}}}return ic(e,Xe()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=ju;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Vu,Vu=n,null!==t&&sc(t)),e}function sc(e){null===Vu?Vu=e:Vu.push.apply(Vu,e)}function uc(e,t){for(t&=~Bu,t&=~Fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Tu))throw Error(a(327));_c();var t=ht(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Mu,dc(e,0),uc(e,t),ic(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bc(e,Vu,Qu),ic(e,Xe()),null}function lc(e,t){var n=Tu;Tu|=1;try{return e(t)}finally{0===(Tu=n)&&(zu=Xe()+500,Bi&&qi())}}function fc(e){null!==Yu&&0===Yu.tag&&0===(6&Tu)&&_c();var t=Tu;Tu|=1;var n=xu.transition,r=At;try{if(xu.transition=null,At=1,e)return e()}finally{At=r,xu.transition=n,0===(6&(Tu=t))&&qi()}}function hc(){Du=Ou.current,Ci(Ou)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ru)for(n=Ru.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Ci(Ti),Ci(xi),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ci(so);break;case 10:ba(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Nu=e,Ru=e=Oc(e.current,null),Pu=Du=t,Lu=0,Mu=null,Bu=Fu=Uu=0,Vu=ju=null,null!==Sa){for(t=0;t<Sa.length;t++)if(null!==(r=(n=Sa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Sa=null}return e}function pc(e,t){for(;;){var n=Ru;try{if(wa(),fo.current=os,mo){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}mo=!1}if(po=0,go=yo=vo=null,Ao=!1,ko=0,Iu.current=null,null===n||null===n.return){Lu=1,Mu=t,Ru=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Pu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ms(p,s,u,0,t),1&p.mode&&ys(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var y=new Set;y.add(c),t.updateQueue=y}else v.add(c);break e}if(0===(1&t)){ys(o,l,t),yc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ms(g,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Lu&&(Lu=2),null===ju?ju=[o]:ju.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,ps(0,c,t));break e;case 1:u=c;var m=o.type,A=o.stateNode;if(0===(128&o.flags)&&("function"===typeof m.getDerivedStateFromError||null!==A&&"function"===typeof A.componentDidCatch&&(null===Ku||!Ku.has(A)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(k){t=k,Ru===n&&null!==n&&(Ru=n=n.return);continue}break}}function vc(){var e=Su.current;return Su.current=os,null===e?os:e}function yc(){0!==Lu&&3!==Lu&&2!==Lu||(Lu=4),null===Nu||0===(268435455&Uu)&&0===(268435455&Fu)||uc(Nu,Pu)}function gc(e,t){var n=Tu;Tu|=2;var r=vc();for(Nu===e&&Pu===t||(Qu=null,dc(e,t));;)try{mc();break}catch(i){pc(e,i)}if(wa(),Tu=n,Su.current=r,null!==Ru)throw Error(a(261));return Nu=null,Pu=0,Lu}function mc(){for(;null!==Ru;)kc(Ru)}function Ac(){for(;null!==Ru&&!Ye();)kc(Ru)}function kc(e){var t=Eu(e.alternate,e,Du);e.memoizedProps=e.pendingProps,null===t?wc(e):Ru=t,Iu.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Du)))return void(Ru=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Ru=n);if(null===e)return Lu=6,void(Ru=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ru=t);Ru=t=e}while(null!==t);0===Lu&&(Lu=5)}function bc(e,t,n){var r=At,i=xu.transition;try{xu.transition=null,At=1,function(e,t,n,r){do{_c()}while(null!==Yu);if(0!==(6&Tu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Nu&&(Ru=Nu=null,Pu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gu||(Gu=!0,Nc(tt,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=xu.transition,xu.transition=null;var s=At;At=1;var u=Tu;Tu|=4,Iu.current=null,function(e,t){if(ei=Qt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Qt=!1,$s=t;null!==$s;)if(e=(t=$s).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$s=e;else for(;null!==$s;){t=$s;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var y=v.memoizedProps,g=v.memoizedState,m=t.stateNode,A=m.getSnapshotBeforeUpdate(t.elementType===t.type?y:ya(t.type,y),g);m.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(w){Cc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,$s=e;break}$s=t.return}v=nu,nu=!1}(e,n),gu(n,e),pr(ti),Qt=!!ei,ti=ei=null,e.current=n,Au(n,e,i),Je(),Tu=u,At=s,xu.transition=o}else e.current=n;if(Gu&&(Gu=!1,Yu=e,Ju=i),o=e.pendingLanes,0===o&&(Ku=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hu)throw Hu=!1,e=Wu,Wu=null,e;0!==(1&Ju)&&0!==e.tag&&_c(),o=e.pendingLanes,0!==(1&o)?e===Zu?Xu++:(Xu=0,Zu=e):Xu=0,qi()}(e,t,n,r)}finally{xu.transition=i,At=r}return null}function _c(){if(null!==Yu){var e=kt(Ju),t=xu.transition,n=At;try{if(xu.transition=null,At=16>e?16:e,null===Yu)var r=!1;else{if(e=Yu,Yu=null,Ju=0,0!==(6&Tu))throw Error(a(331));var i=Tu;for(Tu|=4,$s=e.current;null!==$s;){var o=$s,s=o.child;if(0!==(16&$s.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for($s=l;null!==$s;){var f=$s;switch(f.tag){case 0:case 11:case 15:ru(8,f,o)}var h=f.child;if(null!==h)h.return=f,$s=h;else for(;null!==$s;){var d=(f=$s).sibling,p=f.return;if(ou(f),f===l){$s=null;break}if(null!==d){d.return=p,$s=d;break}$s=p}}}var v=o.alternate;if(null!==v){var y=v.child;if(null!==y){v.child=null;do{var g=y.sibling;y.sibling=null,y=g}while(null!==y)}}$s=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,$s=s;else e:for(;null!==$s;){if(0!==(2048&(o=$s).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var m=o.sibling;if(null!==m){m.return=o.return,$s=m;break e}$s=o.return}}var A=e.current;for($s=A;null!==$s;){var k=(s=$s).child;if(0!==(2064&s.subtreeFlags)&&null!==k)k.return=s,$s=k;else e:for(s=A;null!==$s;){if(0!==(2048&(u=$s).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(b){Cc(u,u.return,b)}if(u===s){$s=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,$s=w;break e}$s=u.return}}if(Tu=i,qi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(b){}r=!0}return r}finally{At=n,xu.transition=t}}return!1}function Ec(e,t,n){e=Oa(e,t=ps(0,t=ls(n,t),1),1),t=tc(),null!==e&&(gt(e,1,t),ic(e,t))}function Cc(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ku||!Ku.has(r))){t=Oa(t,e=vs(t,e=ls(n,e),1),1),e=tc(),null!==t&&(gt(t,1,e),ic(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Nu===e&&(Pu&n)===n&&(4===Lu||3===Lu&&(130023424&Pu)===Pu&&500>Xe()-qu?dc(e,0):Bu|=n),ic(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Ta(e,t))&&(gt(e,t,n),ic(e,n))}function xc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ic(e,n)}function Nc(e,t){return Ke(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Rc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Dc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Mc(n.children,i,o,t);case E:s=8,i|=8;break;case C:return(e=Pc(12,n,t,2|i)).elementType=C,e.lanes=o,e;case T:return(e=Pc(13,n,t,i)).elementType=T,e.lanes=o,e;case N:return(e=Pc(19,n,t,i)).elementType=N,e.lanes=o,e;case D:return Uc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case I:s=9;break e;case x:s=11;break e;case R:s=14;break e;case P:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Pc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Uc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Bc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,s,u){return e=new jc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Pc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function qc(e){if(!e)return Ii;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function zc(e,t,n,r,i,a,o,s,u){return(e=Vc(n,r,!0,e,0,a,0,s,u)).context=qc(null),n=e.current,(a=Da(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Oa(n,a,i),e.current.lanes=i,gt(e,i,r),ic(e,r),e}function Qc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oa(i,t,o))&&(rc(e,i,o,a),La(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Eu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)ks=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ks=!1,function(e,t,n){switch(t.tag){case 3:Ns(t),da();break;case 5:ao(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(ga,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Si(so,1&so.current),null!==(e=Hs(e,t,n))?e.sibling:null);Si(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Cs(e,t,n)}return Hs(e,t,n)}(e,t,n);ks=0!==(131072&e.flags)}else ks=!1,ia&&0!==(1048576&t.flags)&&$i(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Qs(e,t),e=t.pendingProps;var i=Ri(t,xi.current);Ea(t,n),i=Eo(null,t,r,e,i,n);var o=Co();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ra(t),i.updater=Va,t.stateNode=i,i._reactInternals=t,Ha(t,r,e,n),t=Ts(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Qs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===x)return 11;if(e===R)return 14}return 2}(r),e=ya(r,e),i){case 0:t=Is(null,t,r,e,n);break e;case 1:t=xs(null,t,r,e,n);break e;case 11:t=bs(null,t,r,e,n);break e;case 14:t=_s(null,t,r,ya(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 1:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 3:e:{if(Ns(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Pa(e,t),Ua(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Rs(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=Rs(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Hs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ss(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fs(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ja(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,bs(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Si(ga,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ti.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Da(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_a(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),_a(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ea(t,n),r=r(i=Ca(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ya(r=t.type,t.pendingProps),_s(e,t,r,i=ya(r.type,i),n);case 15:return Es(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ya(r,i),Qs(e,t),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,Ea(t,n),za(t,r,i),Ha(t,r,i,n),Ts(null,t,r,!0,e,n);case 19:return zs(e,t,n);case 22:return Cs(e,t,n)}throw Error(a(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Hc(o);s.call(e)}}Qc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hc(o);a.call(e)}}var o=zc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=o,e[pi]=o.current,qr(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Hc(u);s.call(e)}}var u=Vc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=u,e[pi]=u.current,qr(8===e.nodeType?e.parentNode:e),fc((function(){Qc(t,u,n,r)})),u}(n,t,e,i,r);return Hc(o)}Jc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Qc(e,t,null,null)},Jc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Qc(null,e,null,null)})),t[pi]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ut(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(mt(t,1|n),ic(t,Xe()),0===(6&Tu)&&(zu=Xe()+500,qi()))}break;case 13:fc((function(){var t=Ta(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Kc(e,1)}},bt=function(e){if(13===e.tag){var t=Ta(e,134217728);if(null!==t)rc(t,e,134217728,tc());Kc(e,134217728)}},_t=function(e){if(13===e.tag){var t=nc(e),n=Ta(e,t);if(null!==n)rc(n,e,t,tc());Kc(e,t)}},Et=function(){return At},Ct=function(e,t){var n=At;try{return At=e,t()}finally{At=n}},be=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));K(r),Z(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},xe=lc,Te=fc;var tl={usingClientEntryPoint:!1,Events:[Ai,ki,wi,Se,Ie,lc]},nl={findFiberByHostInstance:mi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:b,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,qr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},77:function(e){var t=Array.isArray,n=Object.keys,r=Object.prototype.hasOwnProperty,i="undefined"!==typeof Element;function a(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){var s,u,c,l=t(e),f=t(o);if(l&&f){if((u=e.length)!=o.length)return!1;for(s=u;0!==s--;)if(!a(e[s],o[s]))return!1;return!0}if(l!=f)return!1;var h=e instanceof Date,d=o instanceof Date;if(h!=d)return!1;if(h&&d)return e.getTime()==o.getTime();var p=e instanceof RegExp,v=o instanceof RegExp;if(p!=v)return!1;if(p&&v)return e.toString()==o.toString();var y=n(e);if((u=y.length)!==n(o).length)return!1;for(s=u;0!==s--;)if(!r.call(o,y[s]))return!1;if(i&&e instanceof Element&&o instanceof Element)return e===o;for(s=u;0!==s--;)if(("_owner"!==(c=y[s])||!e.$$typeof)&&!a(e[c],o[c]))return!1;return!0}return e!==e&&o!==o}e.exports=function(e,t){try{return a(e,t)}catch(n){if(n.message&&n.message.match(/stack|recursion/i)||-2146828260===n.number)return console.warn("Warning: react-fast-compare does not handle circular references.",n.name,n.message),!1;throw n}}},459:function(e,t){var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case h:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case u:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.isContextConsumer=function(e){return g(e)===c}},900:function(e,t,n){e.exports=n(459)},374:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function g(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}function m(){}function A(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=g.prototype;var k=A.prototype=new m;k.constructor=A,v(k,g.prototype),k.isPureReactComponent=!0;var w=Array.isArray,b=Object.prototype.hasOwnProperty,_={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)b.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:_.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function x(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+x(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),T(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+x(s=e[c],c);u+=T(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=T(s=s.value,t,i,l=a+x(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},D={transition:null},O={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:D,ReactCurrentOwner:_};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=A,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)b.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,y=!1,g="function"===typeof setTimeout?setTimeout:null,m="function"===typeof clearTimeout?clearTimeout:null,A="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(y=!1,k(e),!v)if(null!==r(c))v=!0,D(b);else{var t=r(l);null!==t&&O(w,t.startTime-e)}}function b(e,n){v=!1,y&&(y=!1,m(S),S=-1),p=!0;var a=d;try{for(k(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!T());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),k(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&O(w,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,E=!1,C=null,S=-1,I=5,x=-1;function T(){return!(t.unstable_now()-x<I)}function N(){if(null!==C){var e=t.unstable_now();x=e;var n=!0;try{n=C(!0,e)}finally{n?_():(E=!1,C=null)}}else E=!1}if("function"===typeof A)_=function(){A(N)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=N,_=function(){P.postMessage(null)}}else _=function(){g(N,0)};function D(e){C=e,E||(E=!0,_())}function O(e,n){S=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(b))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(y?(m(S),S=-1):y=!0,O(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,D(b))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){e.exports=n(813)},561:function(e,t,n){var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return s((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},595:function(e,t,n){var r=n(791),i=n(248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,s=r.useRef,u=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=s(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=c((function(){function e(e){if(!u){if(u=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,s=n)}var o,s,u=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=o(e,f[0],f[1]);return u((function(){h.hasValue=!0,h.value=d}),[d]),l(d),d}},248:function(e,t,n){e.exports=n(561)},327:function(e,t,n){e.exports=n(595)},413:function(e,t,n){e.exports=n.p+"static/media/MessageTone.71875f38f16101cf915c.mp3"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".0a10f886.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="react-it-kamasutra:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/React-it-kamasutra/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkreact_it_kamasutra=self.webpackChunkreact_it_kamasutra||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){var e=n(791),t=n.t(e,2),r=n(250);function i(e){if(Array.isArray(e))return e}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){return i(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||o(e,t)||s()}var c,l={App:"App_App__B2Ebb"};function f(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function h(e){return function(e){if(Array.isArray(e))return a(e)}(e)||f(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function v(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function g(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function A(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){var t=w();return function(){var n,r=k(e);if(t){var i=k(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===p(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}(this,n)}}function E(e,t,n){return E=w()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&m(i,n.prototype),i},E.apply(null,arguments)}function C(e){var t="function"===typeof Map?new Map:void 0;return C=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return E(e,arguments,k(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),m(n,e)},C(e)}function S(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(c||(c={}));var x,T="popstate";function N(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function R(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function P(e,t){return{usr:e.state,key:e.key,idx:t}}function D(e,t,n,r){return void 0===n&&(n=null),I({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?L(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function O(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function L(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function M(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,s=i.v5Compat,u=void 0!==s&&s,l=o.history,f=c.Pop,h=null,d=p();function p(){return(l.state||{idx:null}).idx}function v(){f=c.Pop;var e=p(),t=null==e?null:e-d;d=e,h&&h({action:f,location:g.location,delta:t})}function y(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:O(e);return N(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,l.replaceState(I({},l.state,{idx:d}),""));var g={get action(){return f},get location(){return e(o,l)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(T,v),h=e,function(){o.removeEventListener(T,v),h=null}},createHref:function(e){return t(o,e)},createURL:y,encodeLocation:function(e){var t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){f=c.Push;var r=D(g.location,e,t);n&&n(r,e);var i=P(r,d=p()+1),a=g.createHref(r);try{l.pushState(i,"",a)}catch(Hd){o.location.assign(a)}u&&h&&h({action:f,location:g.location,delta:1})},replace:function(e,t){f=c.Replace;var r=D(g.location,e,t);n&&n(r,e);var i=P(r,d=p()),a=g.createHref(r);l.replaceState(i,"",a),u&&h&&h({action:f,location:g.location,delta:0})},go:function(e){return l.go(e)}};return g}function U(e,t,n){void 0===n&&(n="/");var r=X(("string"===typeof t?L(t):t).pathname||"/",n);if(null==r)return null;var i=F(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=G(i[o],J(r));return a}function F(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(N(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=ne([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(N(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),F(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:K(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=S(B(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function B(e){var t=e.split("/");if(0===t.length)return[];var n,r=i(n=t)||f(n)||o(n)||s(),a=r[0],u=r.slice(1),c=a.endsWith("?"),l=a.replace(/\?$/,"");if(0===u.length)return c?[l,""]:[l];var d=B(u.join("/")),p=[];return p.push.apply(p,h(d.map((function(e){return""===e?l:[l,e].join("/")})))),c&&p.push.apply(p,h(d)),p.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(x||(x={}));var j=/^:\w+$/,V=3,q=2,z=1,Q=10,H=-2,W=function(e){return"*"===e};function K(e,t){var n=e.split("/"),r=n.length;return n.some(W)&&(r+=H),t&&(r+=q),n.filter((function(e){return!W(e)})).reduce((function(e,t){return e+(j.test(t)?V:""===t?z:Q)}),r)}function G(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=Y({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:ne([i,l.pathname]),pathnameBase:re(ne([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=ne([i,l.pathnameBase]))}return a}function Y(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);Z("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=u(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],c=s.replace(/(.)\/+$/,"$1"),l=o.slice(1),f=a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(Hd){return Z(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+Hd+")."),e}}(l[n]||"",t),e}),{});return{params:f,pathname:s,pathnameBase:c,pattern:e}}function J(e){try{return decodeURI(e)}catch(Hd){return Z(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+Hd+")."),e}}function X(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Z(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function $(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function ee(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function te(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=L(e):(N(!(i=I({},e)).pathname||!i.pathname.includes("?"),$("?","pathname","search",i)),N(!i.pathname||!i.pathname.includes("#"),$("#","pathname","hash",i)),N(!i.search||!i.search.includes("#"),$("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;i.pathname=c.join("/")}a=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?L(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:ie(a),hash:ae(s)}}(i,a),f=s&&"/"!==s&&s.endsWith("/"),h=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var ne=function(e){return e.join("/").replace(/\/\/+/g,"/")},re=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ie=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ae=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},oe=function(e){A(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n)}(C(Error));function se(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var ue=["post","put","patch","delete"],ce=(new Set(ue),["get"].concat(ue));new Set(ce),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");function le(){return le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},le.apply(this,arguments)}var fe="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},he=e.useState,de=e.useEffect,pe=e.useLayoutEffect,ve=e.useDebugValue;function ye(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!fe(n,r)}catch(Hd){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,function(e){e.useSyncExternalStore}(t);var ge=e.createContext(null);var me=e.createContext(null);var Ae=e.createContext(null);var ke=e.createContext(null);var we=e.createContext(null);var be=e.createContext({outlet:null,matches:[]});var _e=e.createContext(null);function Ee(){return null!=e.useContext(we)}function Ce(){return Ee()||N(!1),e.useContext(we).location}function Se(){Ee()||N(!1);var t=e.useContext(ke),n=t.basename,r=t.navigator,i=e.useContext(be).matches,a=Ce().pathname,o=JSON.stringify(ee(i).map((function(e){return e.pathnameBase}))),s=e.useRef(!1);e.useEffect((function(){s.current=!0}));var u=e.useCallback((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=te(e,JSON.parse(o),a,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:ne([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,o,a]);return u}function Ie(t,n){var r=(void 0===n?{}:n).relative,i=e.useContext(be).matches,a=Ce().pathname,o=JSON.stringify(ee(i).map((function(e){return e.pathnameBase})));return e.useMemo((function(){return te(t,JSON.parse(o),a,"path"===r)}),[t,o,a,r])}function xe(){var t=function(){var t,n=e.useContext(_e),r=Oe(Ne.UseRouteError),i=Le(Ne.UseRouteError);if(n)return n;return null==(t=r.errors)?void 0:t[i]}(),n=se(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:a},r):null,null)}var Te,Ne,Re=function(t){A(r,t);var n=_(r);function r(e){var t;return d(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return g(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?e.createElement(be.Provider,{value:this.props.routeContext},e.createElement(_e.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(e.Component);function Pe(t){var n=t.routeContext,r=t.match,i=t.children,a=e.useContext(ge);return a&&a.static&&a.staticContext&&r.route.errorElement&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(be.Provider,{value:n},i)}function De(t,n,r){if(void 0===n&&(n=[]),null==t){if(null==r||!r.errors)return null;t=r.matches}var i=t,a=null==r?void 0:r.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||N(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(t,o,s){var u=o.route.id?null==a?void 0:a[o.route.id]:null,c=r?o.route.errorElement||e.createElement(xe,null):null,l=n.concat(i.slice(0,s+1)),f=function(){return e.createElement(Pe,{match:o,routeContext:{outlet:t,matches:l}},u?c:void 0!==o.route.element?o.route.element:t)};return r&&(o.route.errorElement||0===s)?e.createElement(Re,{location:r.location,component:c,error:u,children:f(),routeContext:{outlet:null,matches:l}}):f()}),null)}function Oe(t){var n=e.useContext(me);return n||N(!1),n}function Le(t){var n=function(t){var n=e.useContext(be);return n||N(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||N(!1),r.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(Te||(Te={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(Ne||(Ne={}));var Me;function Ue(t){var n=t.to,r=t.replace,i=t.state,a=t.relative;Ee()||N(!1);var o=e.useContext(me),s=Se();return e.useEffect((function(){o&&"idle"!==o.navigation.state||s(n,{replace:r,state:i,relative:a})})),null}function Fe(e){N(!1)}function Be(t){var n=t.basename,r=void 0===n?"/":n,i=t.children,a=void 0===i?null:i,o=t.location,s=t.navigationType,u=void 0===s?c.Pop:s,l=t.navigator,f=t.static,h=void 0!==f&&f;Ee()&&N(!1);var d=r.replace(/^\/*/,"/"),p=e.useMemo((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof o&&(o=L(o));var v=o,y=v.pathname,g=void 0===y?"/":y,m=v.search,A=void 0===m?"":m,k=v.hash,w=void 0===k?"":k,b=v.state,_=void 0===b?null:b,E=v.key,C=void 0===E?"default":E,S=e.useMemo((function(){var e=X(g,d);return null==e?null:{pathname:e,search:A,hash:w,state:_,key:C}}),[d,g,A,w,_,C]);return null==S?null:e.createElement(ke.Provider,{value:p},e.createElement(we.Provider,{children:a,value:{location:S,navigationType:u}}))}function je(t){var n=t.children,r=t.location,i=e.useContext(ge);return function(t,n){Ee()||N(!1);var r,i=e.useContext(ke).navigator,a=e.useContext(me),o=e.useContext(be).matches,s=o[o.length-1],u=s?s.params:{},l=(s&&s.pathname,s?s.pathnameBase:"/"),f=(s&&s.route,Ce());if(n){var h,d="string"===typeof n?L(n):n;"/"===l||(null==(h=d.pathname)?void 0:h.startsWith(l))||N(!1),r=d}else r=f;var p=r.pathname||"/",v=U(t,{pathname:"/"===l?p:p.slice(l.length)||"/"}),y=De(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:ne([l,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:ne([l,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,a||void 0);return n&&y?e.createElement(we.Provider,{value:{location:le({pathname:"/",search:"",hash:"",state:null,key:"default"},r),navigationType:c.Pop}},y):y}(i&&!n?i.router.routes:qe(n),r)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Me||(Me={}));var Ve=new Promise((function(){}));e.Component;function qe(t,n){void 0===n&&(n=[]);var r=[];return e.Children.forEach(t,(function(t,i){if(e.isValidElement(t))if(t.type!==e.Fragment){t.type!==Fe&&N(!1),t.props.index&&t.props.children&&N(!1);var a=[].concat(h(n),[i]),o={id:t.props.id||a.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,hasErrorBoundary:null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle};t.props.children&&(o.children=qe(t.props.children,a)),r.push(o)}else r.push.apply(r,qe(t.props.children,n))})),r}function ze(){return ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ze.apply(this,arguments)}function Qe(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var He=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],We=["aria-current","caseSensitive","className","end","style","to","children"];function Ke(t){var n,r=t.basename,i=t.children,a=t.window,o=e.useRef();null==o.current&&(o.current=(void 0===(n={window:a,v5Compat:!0})&&(n={}),M((function(e,t){var n=L(e.location.hash.substr(1)),r=n.pathname,i=void 0===r?"/":r,a=n.search,o=void 0===a?"":a,s=n.hash;return D("",{pathname:i,search:o,hash:void 0===s?"":s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){var n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){var i=e.location.href,a=i.indexOf("#");r=-1===a?i:i.slice(0,a)}return r+"#"+("string"===typeof t?t:O(t))}),(function(e,t){R("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),n)));var s=o.current,c=u(e.useState({action:s.action,location:s.location}),2),l=c[0],f=c[1];return e.useLayoutEffect((function(){return s.listen(f)}),[s]),e.createElement(Be,{basename:r,children:i,location:l.location,navigationType:l.action,navigator:s})}var Ge="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ye=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Je=e.forwardRef((function(t,n){var r,i=t.onClick,a=t.relative,o=t.reloadDocument,s=t.replace,u=t.state,c=t.target,l=t.to,f=t.preventScrollReset,h=Qe(t,He),d=e.useContext(ke).basename,p=!1;if("string"===typeof l&&Ye.test(l)&&(r=l,Ge)){var v=new URL(window.location.href),y=l.startsWith("//")?new URL(v.protocol+l):new URL(l),g=X(y.pathname,d);y.origin===v.origin&&null!=g?l=g+y.search+y.hash:p=!0}var m=function(t,n){var r=(void 0===n?{}:n).relative;Ee()||N(!1);var i=e.useContext(ke),a=i.basename,o=i.navigator,s=Ie(t,{relative:r}),u=s.hash,c=s.pathname,l=s.search,f=c;return"/"!==a&&(f="/"===c?a:ne([a,c])),o.createHref({pathname:f,search:l,hash:u})}(l,{relative:a}),A=function(t,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=r.preventScrollReset,u=r.relative,c=Se(),l=Ce(),f=Ie(t,{relative:u});return e.useCallback((function(e){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,i)){e.preventDefault();var n=void 0!==a?a:O(l)===O(f);c(t,{replace:n,state:o,preventScrollReset:s,relative:u})}}),[l,c,f,a,o,i,t,s,u])}(l,{replace:s,state:u,target:c,preventScrollReset:f,relative:a});return e.createElement("a",ze({},h,{href:r||m,onClick:p||o?i:function(e){i&&i(e),e.defaultPrevented||A(e)},ref:n,target:c}))}));var Xe=e.forwardRef((function(t,n){var r=t["aria-current"],i=void 0===r?"page":r,a=t.caseSensitive,o=void 0!==a&&a,s=t.className,u=void 0===s?"":s,c=t.end,l=void 0!==c&&c,f=t.style,h=t.to,d=t.children,p=Qe(t,We),v=Ie(h,{relative:p.relative}),y=Ce(),g=e.useContext(me),m=e.useContext(ke).navigator,A=m.encodeLocation?m.encodeLocation(v).pathname:v.pathname,k=y.pathname,w=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;o||(k=k.toLowerCase(),w=w?w.toLowerCase():null,A=A.toLowerCase());var b,_=k===A||!l&&k.startsWith(A)&&"/"===k.charAt(A.length),E=null!=w&&(w===A||!l&&w.startsWith(A)&&"/"===w.charAt(A.length)),C=_?i:void 0;b="function"===typeof u?u({isActive:_,isPending:E}):[u,_?"active":null,E?"pending":null].filter(Boolean).join(" ");var S="function"===typeof f?f({isActive:_,isPending:E}):f;return e.createElement(Je,ze({},p,{"aria-current":C,className:b,ref:n,style:S,to:h}),"function"===typeof d?d({isActive:_,isPending:E}):d)}));var Ze,$e;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Ze||(Ze={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}($e||($e={}));var et=n(77),tt=n.n(et),nt=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===rt}(e)}(e)};var rt="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function it(e,t){return!1!==t.clone&&t.isMergeableObject(e)?ot((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function at(e,t,n){return e.concat(t).map((function(e){return it(e,n)}))}function ot(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||at,n.isMergeableObject=n.isMergeableObject||nt;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):function(e,t,n){var r={};return n.isMergeableObject(e)&&Object.keys(e).forEach((function(t){r[t]=it(e[t],n)})),Object.keys(t).forEach((function(i){n.isMergeableObject(t[i])&&e[i]?r[i]=ot(e[i],t[i],n):r[i]=it(t[i],n)})),r}(e,t,n):it(t,n)}ot.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return ot(e,n,t)}),{})};var st=ot,ut="object"==typeof global&&global&&global.Object===Object&&global,ct="object"==typeof self&&self&&self.Object===Object&&self,lt=ut||ct||Function("return this")(),ft=lt.Symbol,ht=Object.prototype,dt=ht.hasOwnProperty,pt=ht.toString,vt=ft?ft.toStringTag:void 0;var yt=function(e){var t=dt.call(e,vt),n=e[vt];try{e[vt]=void 0;var r=!0}catch(a){}var i=pt.call(e);return r&&(t?e[vt]=n:delete e[vt]),i},gt=Object.prototype.toString;var mt=function(e){return gt.call(e)},At="[object Null]",kt="[object Undefined]",wt=ft?ft.toStringTag:void 0;var bt=function(e){return null==e?void 0===e?kt:At:wt&&wt in Object(e)?yt(e):mt(e)};var _t=function(e,t){return function(n){return e(t(n))}},Et=_t(Object.getPrototypeOf,Object);var Ct=function(e){return null!=e&&"object"==typeof e},St="[object Object]",It=Function.prototype,xt=Object.prototype,Tt=It.toString,Nt=xt.hasOwnProperty,Rt=Tt.call(Object);var Pt=function(e){if(!Ct(e)||bt(e)!=St)return!1;var t=Et(e);if(null===t)return!0;var n=Nt.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Tt.call(n)==Rt};var Dt=function(){this.__data__=[],this.size=0};var Ot=function(e,t){return e===t||e!==e&&t!==t};var Lt=function(e,t){for(var n=e.length;n--;)if(Ot(e[n][0],t))return n;return-1},Mt=Array.prototype.splice;var Ut=function(e){var t=this.__data__,n=Lt(t,e);return!(n<0)&&(n==t.length-1?t.pop():Mt.call(t,n,1),--this.size,!0)};var Ft=function(e){var t=this.__data__,n=Lt(t,e);return n<0?void 0:t[n][1]};var Bt=function(e){return Lt(this.__data__,e)>-1};var jt=function(e,t){var n=this.__data__,r=Lt(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function Vt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Vt.prototype.clear=Dt,Vt.prototype.delete=Ut,Vt.prototype.get=Ft,Vt.prototype.has=Bt,Vt.prototype.set=jt;var qt=Vt;var zt=function(){this.__data__=new qt,this.size=0};var Qt=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var Ht=function(e){return this.__data__.get(e)};var Wt=function(e){return this.__data__.has(e)};var Kt=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},Gt="[object AsyncFunction]",Yt="[object Function]",Jt="[object GeneratorFunction]",Xt="[object Proxy]";var Zt=function(e){if(!Kt(e))return!1;var t=bt(e);return t==Yt||t==Jt||t==Gt||t==Xt},$t=lt["__core-js_shared__"],en=function(){var e=/[^.]+$/.exec($t&&$t.keys&&$t.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var tn=function(e){return!!en&&en in e},nn=Function.prototype.toString;var rn=function(e){if(null!=e){try{return nn.call(e)}catch(t){}try{return e+""}catch(t){}}return""},an=/^\[object .+?Constructor\]$/,on=Function.prototype,sn=Object.prototype,un=on.toString,cn=sn.hasOwnProperty,ln=RegExp("^"+un.call(cn).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var fn=function(e){return!(!Kt(e)||tn(e))&&(Zt(e)?ln:an).test(rn(e))};var hn=function(e,t){return null==e?void 0:e[t]};var dn=function(e,t){var n=hn(e,t);return fn(n)?n:void 0},pn=dn(lt,"Map"),vn=dn(Object,"create");var yn=function(){this.__data__=vn?vn(null):{},this.size=0};var gn=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},mn="__lodash_hash_undefined__",An=Object.prototype.hasOwnProperty;var kn=function(e){var t=this.__data__;if(vn){var n=t[e];return n===mn?void 0:n}return An.call(t,e)?t[e]:void 0},wn=Object.prototype.hasOwnProperty;var bn=function(e){var t=this.__data__;return vn?void 0!==t[e]:wn.call(t,e)},_n="__lodash_hash_undefined__";var En=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=vn&&void 0===t?_n:t,this};function Cn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Cn.prototype.clear=yn,Cn.prototype.delete=gn,Cn.prototype.get=kn,Cn.prototype.has=bn,Cn.prototype.set=En;var Sn=Cn;var In=function(){this.size=0,this.__data__={hash:new Sn,map:new(pn||qt),string:new Sn}};var xn=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Tn=function(e,t){var n=e.__data__;return xn(t)?n["string"==typeof t?"string":"hash"]:n.map};var Nn=function(e){var t=Tn(this,e).delete(e);return this.size-=t?1:0,t};var Rn=function(e){return Tn(this,e).get(e)};var Pn=function(e){return Tn(this,e).has(e)};var Dn=function(e,t){var n=Tn(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function On(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}On.prototype.clear=In,On.prototype.delete=Nn,On.prototype.get=Rn,On.prototype.has=Pn,On.prototype.set=Dn;var Ln=On,Mn=200;var Un=function(e,t){var n=this.__data__;if(n instanceof qt){var r=n.__data__;if(!pn||r.length<Mn-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ln(r)}return n.set(e,t),this.size=n.size,this};function Fn(e){var t=this.__data__=new qt(e);this.size=t.size}Fn.prototype.clear=zt,Fn.prototype.delete=Qt,Fn.prototype.get=Ht,Fn.prototype.has=Wt,Fn.prototype.set=Un;var Bn=Fn;var jn=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},Vn=function(){try{var e=dn(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();var qn=function(e,t,n){"__proto__"==t&&Vn?Vn(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},zn=Object.prototype.hasOwnProperty;var Qn=function(e,t,n){var r=e[t];zn.call(e,t)&&Ot(r,n)&&(void 0!==n||t in e)||qn(e,t,n)};var Hn=function(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),i?qn(n,s,u):Qn(n,s,u)}return n};var Wn=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},Kn="[object Arguments]";var Gn=function(e){return Ct(e)&&bt(e)==Kn},Yn=Object.prototype,Jn=Yn.hasOwnProperty,Xn=Yn.propertyIsEnumerable,Zn=Gn(function(){return arguments}())?Gn:function(e){return Ct(e)&&Jn.call(e,"callee")&&!Xn.call(e,"callee")},$n=Zn,er=Array.isArray;var tr=function(){return!1},nr="object"==typeof exports&&exports&&!exports.nodeType&&exports,rr=nr&&"object"==typeof module&&module&&!module.nodeType&&module,ir=rr&&rr.exports===nr?lt.Buffer:void 0,ar=(ir?ir.isBuffer:void 0)||tr,or=9007199254740991,sr=/^(?:0|[1-9]\d*)$/;var ur=function(e,t){var n=typeof e;return!!(t=null==t?or:t)&&("number"==n||"symbol"!=n&&sr.test(e))&&e>-1&&e%1==0&&e<t},cr=9007199254740991;var lr=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=cr},fr={};fr["[object Float32Array]"]=fr["[object Float64Array]"]=fr["[object Int8Array]"]=fr["[object Int16Array]"]=fr["[object Int32Array]"]=fr["[object Uint8Array]"]=fr["[object Uint8ClampedArray]"]=fr["[object Uint16Array]"]=fr["[object Uint32Array]"]=!0,fr["[object Arguments]"]=fr["[object Array]"]=fr["[object ArrayBuffer]"]=fr["[object Boolean]"]=fr["[object DataView]"]=fr["[object Date]"]=fr["[object Error]"]=fr["[object Function]"]=fr["[object Map]"]=fr["[object Number]"]=fr["[object Object]"]=fr["[object RegExp]"]=fr["[object Set]"]=fr["[object String]"]=fr["[object WeakMap]"]=!1;var hr=function(e){return Ct(e)&&lr(e.length)&&!!fr[bt(e)]};var dr=function(e){return function(t){return e(t)}},pr="object"==typeof exports&&exports&&!exports.nodeType&&exports,vr=pr&&"object"==typeof module&&module&&!module.nodeType&&module,yr=vr&&vr.exports===pr&&ut.process,gr=function(){try{var e=vr&&vr.require&&vr.require("util").types;return e||yr&&yr.binding&&yr.binding("util")}catch(t){}}(),mr=gr&&gr.isTypedArray,Ar=mr?dr(mr):hr,kr=Object.prototype.hasOwnProperty;var wr=function(e,t){var n=er(e),r=!n&&$n(e),i=!n&&!r&&ar(e),a=!n&&!r&&!i&&Ar(e),o=n||r||i||a,s=o?Wn(e.length,String):[],u=s.length;for(var c in e)!t&&!kr.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ur(c,u))||s.push(c);return s},br=Object.prototype;var _r=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||br)},Er=_t(Object.keys,Object),Cr=Object.prototype.hasOwnProperty;var Sr=function(e){if(!_r(e))return Er(e);var t=[];for(var n in Object(e))Cr.call(e,n)&&"constructor"!=n&&t.push(n);return t};var Ir=function(e){return null!=e&&lr(e.length)&&!Zt(e)};var xr=function(e){return Ir(e)?wr(e):Sr(e)};var Tr=function(e,t){return e&&Hn(t,xr(t),e)};var Nr=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},Rr=Object.prototype.hasOwnProperty;var Pr=function(e){if(!Kt(e))return Nr(e);var t=_r(e),n=[];for(var r in e)("constructor"!=r||!t&&Rr.call(e,r))&&n.push(r);return n};var Dr=function(e){return Ir(e)?wr(e,!0):Pr(e)};var Or=function(e,t){return e&&Hn(t,Dr(t),e)},Lr="object"==typeof exports&&exports&&!exports.nodeType&&exports,Mr=Lr&&"object"==typeof module&&module&&!module.nodeType&&module,Ur=Mr&&Mr.exports===Lr?lt.Buffer:void 0,Fr=Ur?Ur.allocUnsafe:void 0;var Br=function(e,t){if(t)return e.slice();var n=e.length,r=Fr?Fr(n):new e.constructor(n);return e.copy(r),r};var jr=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var Vr=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a};var qr=function(){return[]},zr=Object.prototype.propertyIsEnumerable,Qr=Object.getOwnPropertySymbols,Hr=Qr?function(e){return null==e?[]:(e=Object(e),Vr(Qr(e),(function(t){return zr.call(e,t)})))}:qr;var Wr=function(e,t){return Hn(e,Hr(e),t)};var Kr=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},Gr=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Kr(t,Hr(e)),e=Et(e);return t}:qr;var Yr=function(e,t){return Hn(e,Gr(e),t)};var Jr=function(e,t,n){var r=t(e);return er(e)?r:Kr(r,n(e))};var Xr=function(e){return Jr(e,xr,Hr)};var Zr=function(e){return Jr(e,Dr,Gr)},$r=dn(lt,"DataView"),ei=dn(lt,"Promise"),ti=dn(lt,"Set"),ni=dn(lt,"WeakMap"),ri="[object Map]",ii="[object Promise]",ai="[object Set]",oi="[object WeakMap]",si="[object DataView]",ui=rn($r),ci=rn(pn),li=rn(ei),fi=rn(ti),hi=rn(ni),di=bt;($r&&di(new $r(new ArrayBuffer(1)))!=si||pn&&di(new pn)!=ri||ei&&di(ei.resolve())!=ii||ti&&di(new ti)!=ai||ni&&di(new ni)!=oi)&&(di=function(e){var t=bt(e),n="[object Object]"==t?e.constructor:void 0,r=n?rn(n):"";if(r)switch(r){case ui:return si;case ci:return ri;case li:return ii;case fi:return ai;case hi:return oi}return t});var pi=di,vi=Object.prototype.hasOwnProperty;var yi=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&vi.call(e,"index")&&(n.index=e.index,n.input=e.input),n},gi=lt.Uint8Array;var mi=function(e){var t=new e.constructor(e.byteLength);return new gi(t).set(new gi(e)),t};var Ai=function(e,t){var n=t?mi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},ki=/\w*$/;var wi=function(e){var t=new e.constructor(e.source,ki.exec(e));return t.lastIndex=e.lastIndex,t},bi=ft?ft.prototype:void 0,_i=bi?bi.valueOf:void 0;var Ei=function(e){return _i?Object(_i.call(e)):{}};var Ci=function(e,t){var n=t?mi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},Si="[object Boolean]",Ii="[object Date]",xi="[object Map]",Ti="[object Number]",Ni="[object RegExp]",Ri="[object Set]",Pi="[object String]",Di="[object Symbol]",Oi="[object ArrayBuffer]",Li="[object DataView]",Mi="[object Float32Array]",Ui="[object Float64Array]",Fi="[object Int8Array]",Bi="[object Int16Array]",ji="[object Int32Array]",Vi="[object Uint8Array]",qi="[object Uint8ClampedArray]",zi="[object Uint16Array]",Qi="[object Uint32Array]";var Hi=function(e,t,n){var r=e.constructor;switch(t){case Oi:return mi(e);case Si:case Ii:return new r(+e);case Li:return Ai(e,n);case Mi:case Ui:case Fi:case Bi:case ji:case Vi:case qi:case zi:case Qi:return Ci(e,n);case xi:return new r;case Ti:case Pi:return new r(e);case Ni:return wi(e);case Ri:return new r;case Di:return Ei(e)}},Wi=Object.create,Ki=function(){function e(){}return function(t){if(!Kt(t))return{};if(Wi)return Wi(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var Gi=function(e){return"function"!=typeof e.constructor||_r(e)?{}:Ki(Et(e))},Yi="[object Map]";var Ji=function(e){return Ct(e)&&pi(e)==Yi},Xi=gr&&gr.isMap,Zi=Xi?dr(Xi):Ji,$i="[object Set]";var ea=function(e){return Ct(e)&&pi(e)==$i},ta=gr&&gr.isSet,na=ta?dr(ta):ea,ra=1,ia=2,aa=4,oa="[object Arguments]",sa="[object Function]",ua="[object GeneratorFunction]",ca="[object Object]",la={};la[oa]=la["[object Array]"]=la["[object ArrayBuffer]"]=la["[object DataView]"]=la["[object Boolean]"]=la["[object Date]"]=la["[object Float32Array]"]=la["[object Float64Array]"]=la["[object Int8Array]"]=la["[object Int16Array]"]=la["[object Int32Array]"]=la["[object Map]"]=la["[object Number]"]=la[ca]=la["[object RegExp]"]=la["[object Set]"]=la["[object String]"]=la["[object Symbol]"]=la["[object Uint8Array]"]=la["[object Uint8ClampedArray]"]=la["[object Uint16Array]"]=la["[object Uint32Array]"]=!0,la["[object Error]"]=la[sa]=la["[object WeakMap]"]=!1;var fa=function e(t,n,r,i,a,o){var s,u=n&ra,c=n&ia,l=n&aa;if(r&&(s=a?r(t,i,a,o):r(t)),void 0!==s)return s;if(!Kt(t))return t;var f=er(t);if(f){if(s=yi(t),!u)return jr(t,s)}else{var h=pi(t),d=h==sa||h==ua;if(ar(t))return Br(t,u);if(h==ca||h==oa||d&&!a){if(s=c||d?{}:Gi(t),!u)return c?Yr(t,Or(s,t)):Wr(t,Tr(s,t))}else{if(!la[h])return a?t:{};s=Hi(t,h,u)}}o||(o=new Bn);var p=o.get(t);if(p)return p;o.set(t,s),na(t)?t.forEach((function(i){s.add(e(i,n,r,i,t,o))})):Zi(t)&&t.forEach((function(i,a){s.set(a,e(i,n,r,a,t,o))}));var v=f?void 0:(l?c?Zr:Xr:c?Dr:xr)(t);return jn(v||t,(function(i,a){v&&(i=t[a=i]),Qn(s,a,e(i,n,r,a,t,o))})),s},ha=4;var da=function(e){return fa(e,ha)};var pa=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},va="[object Symbol]";var ya=function(e){return"symbol"==typeof e||Ct(e)&&bt(e)==va},ga="Expected a function";function ma(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(ga);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(ma.Cache||Ln),n}ma.Cache=Ln;var Aa=ma,ka=500;var wa=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ba=/\\(\\)?/g,_a=function(e){var t=Aa(e,(function(e){return n.size===ka&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(wa,(function(e,n,r,i){t.push(r?i.replace(ba,"$1"):n||e)})),t})),Ea=1/0;var Ca=function(e){if("string"==typeof e||ya(e))return e;var t=e+"";return"0"==t&&1/e==-Ea?"-0":t},Sa=1/0,Ia=ft?ft.prototype:void 0,xa=Ia?Ia.toString:void 0;var Ta=function e(t){if("string"==typeof t)return t;if(er(t))return pa(t,e)+"";if(ya(t))return xa?xa.call(t):"";var n=t+"";return"0"==n&&1/t==-Sa?"-0":n};var Na=function(e){return null==e?"":Ta(e)};var Ra=function(e){return er(e)?pa(e,Ca):ya(e)?[e]:jr(_a(Na(e)))},Pa=!0;var Da=function(e,t){if(!Pa){if(e)return;var n="Warning: "+t;"undefined"!==typeof console&&console.warn(n);try{throw Error(n)}catch(tk){}}},Oa=n(110),La=n.n(Oa),Ma=1,Ua=4;var Fa=function(e){return fa(e,Ma|Ua)};function Ba(){return Ba=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ba.apply(this,arguments)}function ja(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Va(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function qa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var za=function(e){return Array.isArray(e)&&0===e.length},Qa=function(e){return"function"===typeof e},Ha=function(e){return null!==e&&"object"===typeof e},Wa=function(e){return String(Math.floor(Number(e)))===e},Ka=function(e){return"[object String]"===Object.prototype.toString.call(e)},Ga=function(t){return 0===e.Children.count(t)},Ya=function(e){return Ha(e)&&Qa(e.then)};function Ja(e,t,n,r){void 0===r&&(r=0);for(var i=Ra(t);e&&r<i.length;)e=e[i[r++]];return void 0===e?n:e}function Xa(e,t,n){for(var r=da(e),i=r,a=0,o=Ra(t);a<o.length-1;a++){var s=o[a],u=Ja(e,o.slice(0,a+1));if(u&&(Ha(u)||Array.isArray(u)))i=i[s]=da(u);else{var c=o[a+1];i=i[s]=Wa(c)&&Number(c)>=0?[]:{}}}return(0===a?e:i)[o[a]]===n?e:(void 0===n?delete i[o[a]]:i[o[a]]=n,0===a&&void 0===n&&delete r[o[a]],r)}function Za(e,t,n,r){void 0===n&&(n=new WeakMap),void 0===r&&(r={});for(var i=0,a=Object.keys(e);i<a.length;i++){var o=a[i],s=e[o];Ha(s)?n.get(s)||(n.set(s,!0),r[o]=Array.isArray(s)?[]:{},Za(s,t,n,r[o])):r[o]=t}return r}var $a=(0,e.createContext)(void 0);$a.displayName="FormikContext";var eo=$a.Provider;$a.Consumer;function to(){var t=(0,e.useContext)($a);return t||Da(!1),t}function no(e,t){switch(t.type){case"SET_VALUES":return Ba({},e,{values:t.payload});case"SET_TOUCHED":return Ba({},e,{touched:t.payload});case"SET_ERRORS":return tt()(e.errors,t.payload)?e:Ba({},e,{errors:t.payload});case"SET_STATUS":return Ba({},e,{status:t.payload});case"SET_ISSUBMITTING":return Ba({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return Ba({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return Ba({},e,{values:Xa(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return Ba({},e,{touched:Xa(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return Ba({},e,{errors:Xa(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return Ba({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return Ba({},e,{touched:Za(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":case"SUBMIT_SUCCESS":return Ba({},e,{isSubmitting:!1});default:return e}}var ro={},io={};function ao(t){var n=t.validateOnChange,r=void 0===n||n,i=t.validateOnBlur,a=void 0===i||i,o=t.validateOnMount,s=void 0!==o&&o,u=t.isInitialValid,c=t.enableReinitialize,l=void 0!==c&&c,f=t.onSubmit,h=Va(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),d=Ba({validateOnChange:r,validateOnBlur:a,validateOnMount:s,onSubmit:f},h),p=(0,e.useRef)(d.initialValues),v=(0,e.useRef)(d.initialErrors||ro),y=(0,e.useRef)(d.initialTouched||io),g=(0,e.useRef)(d.initialStatus),m=(0,e.useRef)(!1),A=(0,e.useRef)({});(0,e.useEffect)((function(){return m.current=!0,function(){m.current=!1}}),[]);var k=(0,e.useReducer)(no,{values:d.initialValues,errors:d.initialErrors||ro,touched:d.initialTouched||io,status:d.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),w=k[0],b=k[1],_=(0,e.useCallback)((function(e,t){return new Promise((function(n,r){var i=d.validate(e,t);null==i?n(ro):Ya(i)?i.then((function(e){n(e||ro)}),(function(e){r(e)})):n(i)}))}),[d.validate]),E=(0,e.useCallback)((function(e,t){var n=d.validationSchema,r=Qa(n)?n(t):n,i=t&&r.validateAt?r.validateAt(t,e):function(e,t,n,r){void 0===n&&(n=!1);void 0===r&&(r={});var i=so(e);return t[n?"validateSync":"validate"](i,{abortEarly:!1,context:r})}(e,r);return new Promise((function(e,t){i.then((function(){e(ro)}),(function(n){"ValidationError"===n.name?e(function(e){var t={};if(e.inner){if(0===e.inner.length)return Xa(t,e.path,e.message);var n=e.inner,r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var a;if(r){if(i>=n.length)break;a=n[i++]}else{if((i=n.next()).done)break;a=i.value}var o=a;Ja(t,o.path)||(t=Xa(t,o.path,o.message))}}return t}(n)):t(n)}))}))}),[d.validationSchema]),C=(0,e.useCallback)((function(e,t){return new Promise((function(n){return n(A.current[e].validate(t))}))}),[]),S=(0,e.useCallback)((function(e){var t=Object.keys(A.current).filter((function(e){return Qa(A.current[e].validate)})),n=t.length>0?t.map((function(t){return C(t,Ja(e,t))})):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(n).then((function(e){return e.reduce((function(e,n,r){return"DO_NOT_DELETE_YOU_WILL_BE_FIRED"===n||n&&(e=Xa(e,t[r],n)),e}),{})}))}),[C]),I=(0,e.useCallback)((function(e){return Promise.all([S(e),d.validationSchema?E(e):{},d.validate?_(e):{}]).then((function(e){var t=e[0],n=e[1],r=e[2];return st.all([t,n,r],{arrayMerge:uo})}))}),[d.validate,d.validationSchema,S,_,E]),x=lo((function(e){return void 0===e&&(e=w.values),b({type:"SET_ISVALIDATING",payload:!0}),I(e).then((function(e){return m.current&&(b({type:"SET_ISVALIDATING",payload:!1}),b({type:"SET_ERRORS",payload:e})),e}))}));(0,e.useEffect)((function(){s&&!0===m.current&&tt()(p.current,d.initialValues)&&x(p.current)}),[s,x]);var T=(0,e.useCallback)((function(e){var t=e&&e.values?e.values:p.current,n=e&&e.errors?e.errors:v.current?v.current:d.initialErrors||{},r=e&&e.touched?e.touched:y.current?y.current:d.initialTouched||{},i=e&&e.status?e.status:g.current?g.current:d.initialStatus;p.current=t,v.current=n,y.current=r,g.current=i;var a=function(){b({type:"RESET_FORM",payload:{isSubmitting:!!e&&!!e.isSubmitting,errors:n,touched:r,status:i,values:t,isValidating:!!e&&!!e.isValidating,submitCount:e&&e.submitCount&&"number"===typeof e.submitCount?e.submitCount:0}})};if(d.onReset){var o=d.onReset(w.values,G);Ya(o)?o.then(a):a()}else a()}),[d.initialErrors,d.initialStatus,d.initialTouched]);(0,e.useEffect)((function(){!0!==m.current||tt()(p.current,d.initialValues)||(l&&(p.current=d.initialValues,T()),s&&x(p.current))}),[l,d.initialValues,T,s,x]),(0,e.useEffect)((function(){l&&!0===m.current&&!tt()(v.current,d.initialErrors)&&(v.current=d.initialErrors||ro,b({type:"SET_ERRORS",payload:d.initialErrors||ro}))}),[l,d.initialErrors]),(0,e.useEffect)((function(){l&&!0===m.current&&!tt()(y.current,d.initialTouched)&&(y.current=d.initialTouched||io,b({type:"SET_TOUCHED",payload:d.initialTouched||io}))}),[l,d.initialTouched]),(0,e.useEffect)((function(){l&&!0===m.current&&!tt()(g.current,d.initialStatus)&&(g.current=d.initialStatus,b({type:"SET_STATUS",payload:d.initialStatus}))}),[l,d.initialStatus,d.initialTouched]);var N=lo((function(e){if(A.current[e]&&Qa(A.current[e].validate)){var t=Ja(w.values,e),n=A.current[e].validate(t);return Ya(n)?(b({type:"SET_ISVALIDATING",payload:!0}),n.then((function(e){return e})).then((function(t){b({type:"SET_FIELD_ERROR",payload:{field:e,value:t}}),b({type:"SET_ISVALIDATING",payload:!1})}))):(b({type:"SET_FIELD_ERROR",payload:{field:e,value:n}}),Promise.resolve(n))}return d.validationSchema?(b({type:"SET_ISVALIDATING",payload:!0}),E(w.values,e).then((function(e){return e})).then((function(t){b({type:"SET_FIELD_ERROR",payload:{field:e,value:t[e]}}),b({type:"SET_ISVALIDATING",payload:!1})}))):Promise.resolve()})),R=(0,e.useCallback)((function(e,t){var n=t.validate;A.current[e]={validate:n}}),[]),P=(0,e.useCallback)((function(e){delete A.current[e]}),[]),D=lo((function(e,t){return b({type:"SET_TOUCHED",payload:e}),(void 0===t?a:t)?x(w.values):Promise.resolve()})),O=(0,e.useCallback)((function(e){b({type:"SET_ERRORS",payload:e})}),[]),L=lo((function(e,t){var n=Qa(e)?e(w.values):e;return b({type:"SET_VALUES",payload:n}),(void 0===t?r:t)?x(n):Promise.resolve()})),M=(0,e.useCallback)((function(e,t){b({type:"SET_FIELD_ERROR",payload:{field:e,value:t}})}),[]),U=lo((function(e,t,n){return b({type:"SET_FIELD_VALUE",payload:{field:e,value:t}}),(void 0===n?r:n)?x(Xa(w.values,e,t)):Promise.resolve()})),F=(0,e.useCallback)((function(e,t){var n,r=t,i=e;if(!Ka(e)){e.persist&&e.persist();var a=e.target?e.target:e.currentTarget,o=a.type,s=a.name,u=a.id,c=a.value,l=a.checked,f=(a.outerHTML,a.options),h=a.multiple;r=t||(s||u),i=/number|range/.test(o)?(n=parseFloat(c),isNaN(n)?"":n):/checkbox/.test(o)?function(e,t,n){if("boolean"===typeof e)return Boolean(t);var r=[],i=!1,a=-1;if(Array.isArray(e))r=e,i=(a=e.indexOf(n))>=0;else if(!n||"true"==n||"false"==n)return Boolean(t);if(t&&n&&!i)return r.concat(n);if(!i)return r;return r.slice(0,a).concat(r.slice(a+1))}(Ja(w.values,r),l,c):f&&h?function(e){return Array.from(e).filter((function(e){return e.selected})).map((function(e){return e.value}))}(f):c}r&&U(r,i)}),[U,w.values]),B=lo((function(e){if(Ka(e))return function(t){return F(t,e)};F(e)})),j=lo((function(e,t,n){return void 0===t&&(t=!0),b({type:"SET_FIELD_TOUCHED",payload:{field:e,value:t}}),(void 0===n?a:n)?x(w.values):Promise.resolve()})),V=(0,e.useCallback)((function(e,t){e.persist&&e.persist();var n=e.target,r=n.name,i=n.id,a=(n.outerHTML,t||(r||i));j(a,!0)}),[j]),q=lo((function(e){if(Ka(e))return function(t){return V(t,e)};V(e)})),z=(0,e.useCallback)((function(e){Qa(e)?b({type:"SET_FORMIK_STATE",payload:e}):b({type:"SET_FORMIK_STATE",payload:function(){return e}})}),[]),Q=(0,e.useCallback)((function(e){b({type:"SET_STATUS",payload:e})}),[]),H=(0,e.useCallback)((function(e){b({type:"SET_ISSUBMITTING",payload:e})}),[]),W=lo((function(){return b({type:"SUBMIT_ATTEMPT"}),x().then((function(e){var t=e instanceof Error;if(!t&&0===Object.keys(e).length){var n;try{if(void 0===(n=Y()))return}catch(Hd){throw Hd}return Promise.resolve(n).then((function(e){return m.current&&b({type:"SUBMIT_SUCCESS"}),e})).catch((function(e){if(m.current)throw b({type:"SUBMIT_FAILURE"}),e}))}if(m.current&&(b({type:"SUBMIT_FAILURE"}),t))throw e}))})),K=lo((function(e){e&&e.preventDefault&&Qa(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&Qa(e.stopPropagation)&&e.stopPropagation(),W().catch((function(e){console.warn("Warning: An unhandled error was caught from submitForm()",e)}))})),G={resetForm:T,validateForm:x,validateField:N,setErrors:O,setFieldError:M,setFieldTouched:j,setFieldValue:U,setStatus:Q,setSubmitting:H,setTouched:D,setValues:L,setFormikState:z,submitForm:W},Y=lo((function(){return f(w.values,G)})),J=lo((function(e){e&&e.preventDefault&&Qa(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&Qa(e.stopPropagation)&&e.stopPropagation(),T()})),X=(0,e.useCallback)((function(e){return{value:Ja(w.values,e),error:Ja(w.errors,e),touched:!!Ja(w.touched,e),initialValue:Ja(p.current,e),initialTouched:!!Ja(y.current,e),initialError:Ja(v.current,e)}}),[w.errors,w.touched,w.values]),Z=(0,e.useCallback)((function(e){return{setValue:function(t,n){return U(e,t,n)},setTouched:function(t,n){return j(e,t,n)},setError:function(t){return M(e,t)}}}),[U,j,M]),$=(0,e.useCallback)((function(e){var t=Ha(e),n=t?e.name:e,r=Ja(w.values,n),i={name:n,value:r,onChange:B,onBlur:q};if(t){var a=e.type,o=e.value,s=e.as,u=e.multiple;"checkbox"===a?void 0===o?i.checked=!!r:(i.checked=!(!Array.isArray(r)||!~r.indexOf(o)),i.value=o):"radio"===a?(i.checked=r===o,i.value=o):"select"===s&&u&&(i.value=i.value||[],i.multiple=!0)}return i}),[q,B,w.values]),ee=(0,e.useMemo)((function(){return!tt()(p.current,w.values)}),[p.current,w.values]),te=(0,e.useMemo)((function(){return"undefined"!==typeof u?ee?w.errors&&0===Object.keys(w.errors).length:!1!==u&&Qa(u)?u(d):u:w.errors&&0===Object.keys(w.errors).length}),[u,ee,w.errors,d]);return Ba({},w,{initialValues:p.current,initialErrors:v.current,initialTouched:y.current,initialStatus:g.current,handleBlur:q,handleChange:B,handleReset:J,handleSubmit:K,resetForm:T,setErrors:O,setFormikState:z,setFieldTouched:j,setFieldValue:U,setFieldError:M,setStatus:Q,setSubmitting:H,setTouched:D,setValues:L,submitForm:W,validateForm:x,validateField:N,isValid:te,dirty:ee,unregisterField:P,registerField:R,getFieldProps:$,getFieldMeta:X,getFieldHelpers:Z,validateOnBlur:a,validateOnChange:r,validateOnMount:s})}function oo(t){var n=ao(t),r=t.component,i=t.children,a=t.render,o=t.innerRef;return(0,e.useImperativeHandle)(o,(function(){return n})),(0,e.createElement)(eo,{value:n},r?(0,e.createElement)(r,n):a?a(n):i?Qa(i)?i(n):Ga(i)?null:e.Children.only(i):null)}function so(e){var t=Array.isArray(e)?[]:{};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=String(n);!0===Array.isArray(e[r])?t[r]=e[r].map((function(e){return!0===Array.isArray(e)||Pt(e)?so(e):""!==e?e:void 0})):Pt(e[r])?t[r]=so(e[r]):t[r]=""!==e[r]?e[r]:void 0}return t}function uo(e,t,n){var r=e.slice();return t.forEach((function(t,i){if("undefined"===typeof r[i]){var a=!1!==n.clone&&n.isMergeableObject(t);r[i]=a?st(Array.isArray(t)?[]:{},t,n):t}else n.isMergeableObject(t)?r[i]=st(e[i],t,n):-1===e.indexOf(t)&&r.push(t)})),r}var co="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?e.useLayoutEffect:e.useEffect;function lo(t){var n=(0,e.useRef)(t);return co((function(){n.current=t})),(0,e.useCallback)((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.current.apply(void 0,t)}),[])}function fo(t){var n=t.validate,r=t.name,i=t.render,a=t.children,o=t.as,s=t.component,u=Va(t,["validate","name","render","children","as","component"]),c=Va(to(),["validate","validationSchema"]);var l=c.registerField,f=c.unregisterField;(0,e.useEffect)((function(){return l(r,{validate:n}),function(){f(r)}}),[l,f,r,n]);var h=c.getFieldProps(Ba({name:r},u)),d=c.getFieldMeta(r),p={field:h,form:c};if(i)return i(Ba({},p,{meta:d}));if(Qa(a))return a(Ba({},p,{meta:d}));if(s){if("string"===typeof s){var v=u.innerRef,y=Va(u,["innerRef"]);return(0,e.createElement)(s,Ba({ref:v},h,y),a)}return(0,e.createElement)(s,Ba({field:h,form:c},u),a)}var g=o||"input";if("string"===typeof g){var m=u.innerRef,A=Va(u,["innerRef"]);return(0,e.createElement)(g,Ba({ref:m},h,A),a)}return(0,e.createElement)(g,Ba({},h,u),a)}var ho=(0,e.forwardRef)((function(t,n){var r=t.action,i=Va(t,["action"]),a=null!=r?r:"#",o=to(),s=o.handleReset,u=o.handleSubmit;return(0,e.createElement)("form",Object.assign({onSubmit:u,ref:n,onReset:s,action:a},i))}));ho.displayName="Form";var po=function(e,t,n){var r=vo(e);return r.splice(t,0,n),r},vo=function(e){if(e){if(Array.isArray(e))return[].concat(e);var t=Object.keys(e).map((function(e){return parseInt(e)})).reduce((function(e,t){return t>e?t:e}),0);return Array.from(Ba({},e,{length:t+1}))}return[]},yo=function(t){function n(e){var n;return(n=t.call(this,e)||this).updateArrayField=function(e,t,r){var i=n.props,a=i.name;(0,i.formik.setFormikState)((function(n){var i="function"===typeof r?r:e,o="function"===typeof t?t:e,s=Xa(n.values,a,e(Ja(n.values,a))),u=r?i(Ja(n.errors,a)):void 0,c=t?o(Ja(n.touched,a)):void 0;return za(u)&&(u=void 0),za(c)&&(c=void 0),Ba({},n,{values:s,errors:r?Xa(n.errors,a,u):n.errors,touched:t?Xa(n.touched,a,c):n.touched})}))},n.push=function(e){return n.updateArrayField((function(t){return[].concat(vo(t),[Fa(e)])}),!1,!1)},n.handlePush=function(e){return function(){return n.push(e)}},n.swap=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=vo(e),i=r[t];return r[t]=r[n],r[n]=i,r}(n,e,t)}),!0,!0)},n.handleSwap=function(e,t){return function(){return n.swap(e,t)}},n.move=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=vo(e),i=r[t];return r.splice(t,1),r.splice(n,0,i),r}(n,e,t)}),!0,!0)},n.handleMove=function(e,t){return function(){return n.move(e,t)}},n.insert=function(e,t){return n.updateArrayField((function(n){return po(n,e,t)}),(function(t){return po(t,e,null)}),(function(t){return po(t,e,null)}))},n.handleInsert=function(e,t){return function(){return n.insert(e,t)}},n.replace=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=vo(e);return r[t]=n,r}(n,e,t)}),!1,!1)},n.handleReplace=function(e,t){return function(){return n.replace(e,t)}},n.unshift=function(e){var t=-1;return n.updateArrayField((function(n){var r=n?[e].concat(n):[e];return t<0&&(t=r.length),r}),(function(e){var n=e?[null].concat(e):[null];return t<0&&(t=n.length),n}),(function(e){var n=e?[null].concat(e):[null];return t<0&&(t=n.length),n})),t},n.handleUnshift=function(e){return function(){return n.unshift(e)}},n.handleRemove=function(e){return function(){return n.remove(e)}},n.handlePop=function(){return function(){return n.pop()}},n.remove=n.remove.bind(qa(n)),n.pop=n.pop.bind(qa(n)),n}ja(n,t);var r=n.prototype;return r.componentDidUpdate=function(e){this.props.validateOnChange&&this.props.formik.validateOnChange&&!tt()(Ja(e.formik.values,e.name),Ja(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},r.remove=function(e){var t;return this.updateArrayField((function(n){var r=n?vo(n):[];return t||(t=r[e]),Qa(r.splice)&&r.splice(e,1),r}),!0,!0),t},r.pop=function(){var e;return this.updateArrayField((function(t){var n=t;return e||(e=n&&n.pop&&n.pop()),n}),!0,!0),e},r.render=function(){var t={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},n=this.props,r=n.component,i=n.render,a=n.children,o=n.name,s=Ba({},t,{form:Va(n.formik,["validate","validationSchema"]),name:o});return r?(0,e.createElement)(r,s):i?i(s):a?"function"===typeof a?a(s):Ga(a)?null:e.Children.only(a):null},n}(e.Component);yo.defaultProps={validateOnChange:!0};e.Component,e.Component;var go=n(248),mo=n(327),Ao=n(164);var ko=function(e){e()},wo=function(){return ko},bo=(0,e.createContext)(null);function _o(){return(0,e.useContext)(bo)}var Eo=function(){throw new Error("uSES not initialized!")},Co=Eo,So=function(e,t){return e===t};function Io(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bo,n=t===bo?_o:function(){return(0,e.useContext)(t)};return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:So;var i=n(),a=i.store,o=i.subscription,s=i.getServerState,u=Co(o.addNestedSub,a.getState,s||a.getState,t,r);return(0,e.useDebugValue)(u),u}}var xo=Io();function To(){return To=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},To.apply(this,arguments)}function No(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Ro=n(900),Po=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Do(e,t,n,r,i){var a,o,s,u,c,l=i.areStatesEqual,f=i.areOwnPropsEqual,h=i.areStatePropsEqual,d=!1;function p(i,d){var p=!f(d,o),v=!l(i,a,d,o);return a=i,o=d,p&&v?(s=e(a,o),t.dependsOnOwnProps&&(u=t(r,o)),c=n(s,u,o)):p?(e.dependsOnOwnProps&&(s=e(a,o)),t.dependsOnOwnProps&&(u=t(r,o)),c=n(s,u,o)):v?function(){var t=e(a,o),r=!h(t,s);return s=t,r&&(c=n(s,u,o)),c}():c}return function(i,l){return d?p(i,l):(s=e(a=i,o=l),u=t(r,o),c=n(s,u,o),d=!0,c)}}function Oo(e){return function(t){var n=e(t);function r(){return n}return r.dependsOnOwnProps=!1,r}}function Lo(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function Mo(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e,void 0)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=Lo(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=Lo(i),i=r(t,n)),i},r}}function Uo(e,t){return function(n,r){throw new Error("Invalid value of type ".concat(typeof e," for ").concat(t," argument when connecting component ").concat(r.wrappedComponentName,"."))}}function Fo(e,t,n){return To({},n,e,t)}var Bo={notify:function(){},get:function(){return[]}};function jo(e,t){var n,r=Bo;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=wo(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=Bo)},getListeners:function(){return r}};return o}var Vo=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?e.useLayoutEffect:e.useEffect;function qo(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function zo(e,t){if(qo(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!qo(e[n[i]],t[n[i]]))return!1;return!0}var Qo=["reactReduxForwardedRef"],Ho=Eo,Wo=[null,null];function Ko(e,t,n,r,i,a){e.current=r,n.current=!1,i.current&&(i.current=null,a())}function Go(e,t){return e===t}var Yo=function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(i.pure,i.areStatesEqual),o=void 0===a?Go:a,s=i.areOwnPropsEqual,c=void 0===s?zo:s,l=i.areStatePropsEqual,f=void 0===l?zo:l,d=i.areMergedPropsEqual,p=void 0===d?zo:d,v=i.forwardRef,y=void 0!==v&&v,g=i.context,m=void 0===g?bo:g,A=function(e){return e?"function"===typeof e?Mo(e):Uo(e,"mapStateToProps"):Oo((function(){return{}}))}(t),k=function(e){return e&&"object"===typeof e?Oo((function(t){return function(e,t){var n={},r=function(){var r=e[i];"function"===typeof r&&(n[i]=function(){return t(r.apply(void 0,arguments))})};for(var i in e)r();return n}(e,t)})):e?"function"===typeof e?Mo(e):Uo(e,"mapDispatchToProps"):Oo((function(e){return{dispatch:e}}))}(n),w=function(e){return e?"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.areMergedPropsEqual,a=!1;return function(t,n,o){var s=e(t,n,o);return a?i(s,r)||(r=s):(a=!0,r=s),r}}}(e):Uo(e,"mergeProps"):function(){return Fo}}(r),b=Boolean(t);return function(t){var n=t.displayName||t.name||"Component",r="Connect(".concat(n,")"),i={shouldHandleStateChanges:b,displayName:r,wrappedComponentName:n,WrappedComponent:t,initMapStateToProps:A,initMapDispatchToProps:k,initMergeProps:w,areStatesEqual:o,areStatePropsEqual:f,areOwnPropsEqual:c,areMergedPropsEqual:p};function a(n){var r=(0,e.useMemo)((function(){var e=n.reactReduxForwardedRef,t=No(n,Qo);return[n.context,e,t]}),[n]),a=u(r,3),o=a[0],s=a[1],c=a[2],l=(0,e.useMemo)((function(){return o&&o.Consumer&&(0,Ro.isContextConsumer)(e.createElement(o.Consumer,null))?o:m}),[o,m]),f=(0,e.useContext)(l),d=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch),p=Boolean(f)&&Boolean(f.store);var v=d?n.store:f.store,y=p?f.getServerState:v.getState,g=(0,e.useMemo)((function(){return function(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,a=No(t,Po);return Do(n(e,a),r(e,a),i(e,a),e,a)}(v.dispatch,i)}),[v]),A=(0,e.useMemo)((function(){if(!b)return Wo;var e=jo(v,d?void 0:f.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[v,d,f]),k=u(A,2),w=k[0],_=k[1],E=(0,e.useMemo)((function(){return d?f:To({},f,{subscription:w})}),[d,f,w]),C=(0,e.useRef)(),S=(0,e.useRef)(c),I=(0,e.useRef)(),x=(0,e.useRef)(!1),T=((0,e.useRef)(!1),(0,e.useRef)(!1)),N=(0,e.useRef)();Vo((function(){return T.current=!0,function(){T.current=!1}}),[]);var R,P,D,O,L=(0,e.useMemo)((function(){return function(){return I.current&&c===S.current?I.current:g(v.getState(),c)}}),[v,c]),M=(0,e.useMemo)((function(){return function(e){return w?function(e,t,n,r,i,a,o,s,u,c,l){if(!e)return function(){};var f=!1,h=null,d=function(){if(!f&&s.current){var e,n,d=t.getState();try{e=r(d,i.current)}catch(p){n=p,h=p}n||(h=null),e===a.current?o.current||c():(a.current=e,u.current=e,o.current=!0,l())}};return n.onStateChange=d,n.trySubscribe(),d(),function(){if(f=!0,n.tryUnsubscribe(),n.onStateChange=null,h)throw h}}(b,v,w,g,S,C,x,T,I,_,e):function(){}}}),[w]);R=Ko,P=[S,C,x,c,I,_],Vo((function(){return R.apply(void 0,h(P))}),D);try{O=Ho(M,L,y?function(){return g(y(),c)}:L)}catch(F){throw N.current&&(F.message+="\nThe error may be correlated with this previous error:\n".concat(N.current.stack,"\n\n")),F}Vo((function(){N.current=void 0,I.current=void 0,C.current=O}));var U=(0,e.useMemo)((function(){return e.createElement(t,To({},O,{ref:s}))}),[s,t,O]);return(0,e.useMemo)((function(){return b?e.createElement(l.Provider,{value:E},U):U}),[l,U,E])}var s=e.memo(a);if(s.WrappedComponent=t,s.displayName=a.displayName=r,y){var l=e.forwardRef((function(t,n){return e.createElement(s,To({},t,{reactReduxForwardedRef:n}))})),d=l;return d.displayName=r,d.WrappedComponent=t,La()(d,t)}return La()(s,t)}};var Jo=function(t){var n=t.store,r=t.context,i=t.children,a=t.serverState,o=(0,e.useMemo)((function(){var e=jo(n);return{store:n,subscription:e,getServerState:a?function(){return a}:void 0}}),[n,a]),s=(0,e.useMemo)((function(){return n.getState()}),[n]);Vo((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,s]);var u=r||bo;return e.createElement(u.Provider,{value:o},i)};function Xo(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bo,n=t===bo?_o:function(){return(0,e.useContext)(t)};return function(){return n().store}}var Zo=Xo();function $o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bo,t=e===bo?Zo:Xo(e);return function(){return t().dispatch}}var es,ts=$o();!function(e){Co=e}(mo.useSyncExternalStoreWithSelector),function(e){Ho=e}(go.useSyncExternalStore),es=Ao.unstable_batchedUpdates,ko=es;var ns=n.p+"static/media/google_button.ba94402307dab3d9e2f0.png";function rs(){rs=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(T){u=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),s=new S(i||[]);return r(o,"_invoke",{value:b(e,n,s)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=c;var f={};function h(){}function d(){}function v(){}var y={};u(y,a,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(I([])));m&&m!==t&&n.call(m,a)&&(y=m);var A=v.prototype=h.prototype=Object.create(y);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,s){var u=l(e[r],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==p(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function b(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return x()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=_(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function I(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return d.prototype=v,r(A,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:d,configurable:!0}),d.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(A),e},e.awrap=function(e){return{__await:e}},k(w.prototype),u(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(A),u(A,s,"Generator"),u(A,a,(function(){return this})),u(A,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=I,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function is(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(Hd){return void n(Hd)}s.done?t(u):Promise.resolve(u).then(r,i)}function as(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){is(a,r,i,o,s,"next",e)}function s(e){is(a,r,i,o,s,"throw",e)}o(void 0)}))}}function os(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ss(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function us(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ss(Object(n),!0).forEach((function(t){os(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ss(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cs(){return cs="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},cs.apply(this,arguments)}var ls={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},fs=function(e,t){if(!e)throw hs(t)},hs=function(e){return new Error("Firebase Database ("+ls.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},ds=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ps={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ds(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new vs;var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},vs=function(e){A(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return g(n)}(C(Error)),ys=function(e){var t=ds(e);return ps.encodeByteArray(t,!0)},gs=function(e){return ys(e).replace(/\./g,"")},ms=function(e){try{return ps.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function As(e){return ks(void 0,e)}function ks(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=ks(e[n],t[n]));return e}var ws=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},bs=function(){try{return ws()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/React-it-kamasutra",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&ms(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},_s=function(e){var t,n;return null===(n=null===(t=bs())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Es=function(e){var t=_s(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},Cs=function(){var e;return null===(e=bs())||void 0===e?void 0:e.config},Ss=function(e){var t;return null===(t=bs())||void 0===t?void 0:t["_".concat(e)]},Is=function(){function e(){var t=this;d(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return g(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function xs(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[gs(JSON.stringify({alg:"none",type:"JWT"})),gs(JSON.stringify(a)),""].join(".")}function Ts(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ns(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ts())}function Rs(){var e,t=null===(e=bs())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function Ps(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Ds(){return!0===ls.NODE_CLIENT||!0===ls.NODE_ADMIN}function Os(){try{return"object"===typeof indexedDB}catch(e){return!1}}var Ls=function(e){A(n,e);var t=_(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(b(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(b(a),Ms.prototype.create),a}return g(n)}(C(Error)),Ms=function(){function e(t,n,r){d(this,e),this.service=t,this.serviceName=n,this.errors=r}return g(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Us,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Ls(n,a,t)}}]),e}();var Us=/\{\$([^}]+)}/g;function Fs(e){return JSON.parse(e)}function Bs(e){return JSON.stringify(e)}var js=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=Fs(ms(a[0])||""),n=Fs(ms(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function Vs(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function qs(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function zs(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Qs(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Hs(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Ws(s)&&Ws(u)){if(!Hs(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Ws(e){return null!==e&&"object"===typeof e}function Ks(e){for(var t=[],n=function(){var e=u(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Gs(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=u(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Ys(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Js=function(){function e(){d(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return g(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,c=this.chain_[0],l=this.chain_[1],f=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=h^l&(f^h),u=1518500249):(s=l^f^h,u=1859775393):p<60?(s=l&f|h&(l|f),u=2400959708):(s=l^f^h,u=3395469782);var v=(c<<5|c>>>27)+s+d+u+n[p]&4294967295;d=h,h=f,f=4294967295&(l<<30|l>>>2),l=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();var Xs=function(){function e(t,n){var r=this;d(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return g(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=S(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Zs),void 0===r.error&&(r.error=Zs),void 0===r.complete&&(r.complete=Zs);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Zs(){}function $s(e,t){return"".concat(e," failed: ").concat(t," argument ")}var eu=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function tu(e){return e&&e._delegate?e._delegate:e}var nu=function(){function e(t,n,r){d(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return g(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),ru="[DEFAULT]",iu=function(){function e(t,n){d(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return g(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Is;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ru})}catch(c){}var t,n=S(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=u(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ru;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=as(rs().mark((function e(){var t;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(h(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),h(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ru;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ru;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=S(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=u(i.value,2),c=s[0],l=s[1];r===this.normalizeInstanceIdentifier(c)&&l.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===ru?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ru;return this.component?this.component.multipleInstances?e:ru:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var au,ou,su=function(){function e(t){d(this,e),this.name=t,this.providers=new Map}return g(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new iu(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),uu=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ou||(ou={}));var cu={debug:ou.DEBUG,verbose:ou.VERBOSE,info:ou.INFO,warn:ou.WARN,error:ou.ERROR,silent:ou.SILENT},lu=ou.INFO,fu=(os(au={},ou.DEBUG,"log"),os(au,ou.VERBOSE,"log"),os(au,ou.INFO,"info"),os(au,ou.WARN,"warn"),os(au,ou.ERROR,"error"),au),hu=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=fu[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},du=function(){function e(t){d(this,e),this.name=t,this._logLevel=lu,this._logHandler=hu,this._userLogHandler=null,uu.push(this)}return g(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in ou))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?cu[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ou.DEBUG].concat(t)),this._logHandler.apply(this,[this,ou.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ou.VERBOSE].concat(t)),this._logHandler.apply(this,[this,ou.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ou.INFO].concat(t)),this._logHandler.apply(this,[this,ou.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ou.WARN].concat(t)),this._logHandler.apply(this,[this,ou.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ou.ERROR].concat(t)),this._logHandler.apply(this,[this,ou.ERROR].concat(t))}}]),e}();var pu,vu,yu=function(e,t){return t.some((function(t){return e instanceof t}))};var gu=new WeakMap,mu=new WeakMap,Au=new WeakMap,ku=new WeakMap,wu=new WeakMap;var bu={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return mu.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Au.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cu(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function _u(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(vu||(vu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Su(this),n),Cu(gu.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Cu(e.apply(Su(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Su(this),t].concat(r));return Au.set(a,t.sort?t.sort():[t]),Cu(a)}}function Eu(e){return"function"===typeof e?_u(e):(e instanceof IDBTransaction&&function(e){if(!mu.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));mu.set(e,t)}}(e),yu(e,pu||(pu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,bu):e)}function Cu(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Cu(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&gu.set(t,e)})).catch((function(){})),wu.set(t,e),t}(e);if(ku.has(e))return ku.get(e);var t=Eu(e);return t!==e&&(ku.set(e,t),wu.set(t,e)),t}var Su=function(e){return wu.get(e)};var Iu,xu,Tu=["get","getKey","getAll","getAllKeys","count"],Nu=["put","add","delete","clear"],Ru=new Map;function Pu(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Ru.get(t))return Ru.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Nu.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Tu.includes(n))){var a=function(){var e=as(rs().mark((function e(t){var a,o,s,u,c,l,f=arguments;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Ru.set(t,a),a}}}bu=function(e){return us(us({},e),{},{get:function(t,n,r){return Pu(t,n)||e.get(t,n,r)},has:function(t,n){return!!Pu(t,n)||e.has(t,n)}})}(bu);var Du=function(){function e(t){d(this,e),this.container=t}return g(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Ou="@firebase/app",Lu="0.9.4",Mu=new du("@firebase/app"),Uu="[DEFAULT]",Fu=(os(Iu={},Ou,"fire-core"),os(Iu,"@firebase/app-compat","fire-core-compat"),os(Iu,"@firebase/analytics","fire-analytics"),os(Iu,"@firebase/analytics-compat","fire-analytics-compat"),os(Iu,"@firebase/app-check","fire-app-check"),os(Iu,"@firebase/app-check-compat","fire-app-check-compat"),os(Iu,"@firebase/auth","fire-auth"),os(Iu,"@firebase/auth-compat","fire-auth-compat"),os(Iu,"@firebase/database","fire-rtdb"),os(Iu,"@firebase/database-compat","fire-rtdb-compat"),os(Iu,"@firebase/functions","fire-fn"),os(Iu,"@firebase/functions-compat","fire-fn-compat"),os(Iu,"@firebase/installations","fire-iid"),os(Iu,"@firebase/installations-compat","fire-iid-compat"),os(Iu,"@firebase/messaging","fire-fcm"),os(Iu,"@firebase/messaging-compat","fire-fcm-compat"),os(Iu,"@firebase/performance","fire-perf"),os(Iu,"@firebase/performance-compat","fire-perf-compat"),os(Iu,"@firebase/remote-config","fire-rc"),os(Iu,"@firebase/remote-config-compat","fire-rc-compat"),os(Iu,"@firebase/storage","fire-gcs"),os(Iu,"@firebase/storage-compat","fire-gcs-compat"),os(Iu,"@firebase/firestore","fire-fst"),os(Iu,"@firebase/firestore-compat","fire-fst-compat"),os(Iu,"fire-js","fire-js"),os(Iu,"firebase","fire-js-all"),Iu),Bu=new Map,ju=new Map;function Vu(e,t){try{e.container.addComponent(t)}catch(n){Mu.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function qu(e){var t=e.name;if(ju.has(t))return Mu.debug("There were multiple attempts to register component ".concat(t,".")),!1;ju.set(t,e);var n,r=S(Bu.values());try{for(r.s();!(n=r.n()).done;){Vu(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function zu(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var Qu=(os(xu={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),os(xu,"bad-app-name","Illegal App name: '{$appName}"),os(xu,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),os(xu,"app-deleted","Firebase App named '{$appName}' already deleted"),os(xu,"no-options","Need to provide options, when not being deployed to hosting via source."),os(xu,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),os(xu,"invalid-log-argument","First argument to `onLog` must be null or a function."),os(xu,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),os(xu,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),os(xu,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),os(xu,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),xu),Hu=new Ms("app","Firebase",Qu),Wu=function(){function e(t,n,r){var i=this;d(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new nu("app",(function(){return i}),"PUBLIC"))}return g(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Hu.create("app-deleted",{appName:this._name})}}]),e}(),Ku="9.17.2";function Gu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:Uu,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Hu.create("bad-app-name",{appName:String(i)});if(n||(n=Cs()),!n)throw Hu.create("no-options");var a=Bu.get(i);if(a){if(Hs(n,a.options)&&Hs(r,a.config))return a;throw Hu.create("duplicate-app",{appName:i})}var o,s=new su(i),u=S(ju.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new Wu(n,r,s);return Bu.set(i,l),l}function Yu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Uu,t=Bu.get(e);if(!t&&e===Uu)return Gu();if(!t)throw Hu.create("no-app",{appName:e});return t}function Ju(e,t,n){var r,i=null!==(r=Fu[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Mu.warn(s.join(" "))}qu(new nu("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var Xu="firebase-heartbeat-database",Zu=1,$u="firebase-heartbeat-store",ec=null;function tc(){return ec||(ec=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Cu(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Cu(s.result),e.oldVersion,e.newVersion,Cu(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}(Xu,Zu,{upgrade:function(e,t){if(0===t)e.createObjectStore($u)}}).catch((function(e){throw Hu.create("idb-open",{originalErrorMessage:e.message})}))),ec}function nc(e){return rc.apply(this,arguments)}function rc(){return rc=as(rs().mark((function e(t){var n,r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tc();case 3:return n=e.sent,e.abrupt("return",n.transaction($u).objectStore($u).get(oc(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof Ls?Mu.warn(e.t0.message):(r=Hu.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Mu.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),rc.apply(this,arguments)}function ic(e,t){return ac.apply(this,arguments)}function ac(){return ac=as(rs().mark((function e(t,n){var r,i,a,o;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tc();case 3:return r=e.sent,i=r.transaction($u,"readwrite"),a=i.objectStore($u),e.next=8,a.put(n,oc(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof Ls?Mu.warn(e.t0.message):(o=Hu.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Mu.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),ac.apply(this,arguments)}function oc(e){return"".concat(e.name,"!").concat(e.options.appId)}var sc=1024,uc=function(){function e(t){var n=this;d(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new hc(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return g(e,[{key:"triggerHeartbeat",value:function(){var e=as(rs().mark((function e(){var t,n,r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=cc(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=as(rs().mark((function e(){var t,n,r,i,a;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=cc(),n=lc(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=gs(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function cc(){return(new Date).toISOString().substring(0,10)}function lc(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sc,r=[],i=e.slice(),a=S(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),dc(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),dc(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var fc,hc=function(){function e(t){d(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return g(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=as(rs().mark((function e(){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Os()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(Hd){t(Hd)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=as(rs().mark((function e(){var t;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,nc(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=as(rs().mark((function e(t){var n,r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ic(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=as(rs().mark((function e(t){var n,r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ic(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(h(r.heartbeats),h(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function dc(e){return gs(JSON.stringify({version:2,heartbeats:e})).length}fc="",qu(new nu("platform-logger",(function(e){return new Du(e)}),"PRIVATE")),qu(new nu("heartbeat",(function(e){return new uc(e)}),"PRIVATE")),Ju(Ou,Lu,fc),Ju(Ou,Lu,"esm2017"),Ju("fire-js","");function pc(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var vc;Object.create;function yc(){return os({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var gc=yc,mc=new Ms("auth","Firebase",yc()),Ac=new du("@firebase/auth");function kc(e){if(Ac.logLevel<=ou.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ac.error.apply(Ac,["Auth (".concat(Ku,"): ").concat(e)].concat(n))}}function wc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Cc.apply(void 0,[e].concat(n))}function bc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Cc.apply(void 0,[e].concat(n))}function _c(e,t,n){var r=Object.assign(Object.assign({},gc()),os({},t,n));return new Ms("auth","Firebase",r).create(t,{appName:e.name})}function Ec(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&wc(e,"argument-error"),_c(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Cc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=h(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(h(o)))}return mc.create.apply(mc,[e].concat(n))}function Sc(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Cc.apply(void 0,[t].concat(r))}}function Ic(e){var t="INTERNAL ASSERTION FAILED: "+e;throw kc(t),new Error(t)}function xc(e,t){e||Ic(t)}var Tc=new Map;function Nc(e){xc(e instanceof Function,"Expected a class definition");var t=Tc.get(e);return t?(xc(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Tc.set(e,t),t)}function Rc(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Pc(){return"http:"===Dc()||"https:"===Dc()}function Dc(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Oc(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Pc()||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}var Lc=function(){function e(t,n){d(this,e),this.shortDelay=t,this.longDelay=n,xc(n>t,"Short delay should be less than long delay!"),this.isMobile=Ns()||Ps()}return g(e,[{key:"get",value:function(){return Oc()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}]),e}();function Mc(e,t){xc(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Uc=function(){function e(){d(this,e)}return g(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Ic("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Ic("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Ic("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Fc=(os(vc={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),os(vc,"MISSING_CUSTOM_TOKEN","internal-error"),os(vc,"INVALID_IDENTIFIER","invalid-email"),os(vc,"MISSING_CONTINUE_URI","internal-error"),os(vc,"INVALID_PASSWORD","wrong-password"),os(vc,"MISSING_PASSWORD","internal-error"),os(vc,"EMAIL_EXISTS","email-already-in-use"),os(vc,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),os(vc,"INVALID_IDP_RESPONSE","invalid-credential"),os(vc,"INVALID_PENDING_TOKEN","invalid-credential"),os(vc,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),os(vc,"MISSING_REQ_TYPE","internal-error"),os(vc,"EMAIL_NOT_FOUND","user-not-found"),os(vc,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),os(vc,"EXPIRED_OOB_CODE","expired-action-code"),os(vc,"INVALID_OOB_CODE","invalid-action-code"),os(vc,"MISSING_OOB_CODE","internal-error"),os(vc,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),os(vc,"INVALID_ID_TOKEN","invalid-user-token"),os(vc,"TOKEN_EXPIRED","user-token-expired"),os(vc,"USER_NOT_FOUND","user-token-expired"),os(vc,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),os(vc,"INVALID_CODE","invalid-verification-code"),os(vc,"INVALID_SESSION_INFO","invalid-verification-id"),os(vc,"INVALID_TEMPORARY_PROOF","invalid-credential"),os(vc,"MISSING_SESSION_INFO","missing-verification-id"),os(vc,"SESSION_EXPIRED","code-expired"),os(vc,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),os(vc,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),os(vc,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),os(vc,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),os(vc,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),os(vc,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),os(vc,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),os(vc,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),os(vc,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),os(vc,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),os(vc,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),vc),Bc=new Lc(3e4,6e4);function jc(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Vc(e,t,n,r){return qc.apply(this,arguments)}function qc(){return qc=as(rs().mark((function e(t,n,r,i){var a,o=arguments;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",zc(t,a,as(rs().mark((function e(){var a,o,s,u;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Ks(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Uc.fetch()(Kc(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),qc.apply(this,arguments)}function zc(e,t,n){return Qc.apply(this,arguments)}function Qc(){return Qc=as(rs().mark((function e(t,n,r){var i,a,o,s,c,l,f,h,d,p;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Fc),n),e.prev=2,a=new Gc(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Yc(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(c=o.ok?s.errorMessage:s.error.message,l=c.split(" : "),f=u(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Yc(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw Yc(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw Yc(t,"user-disabled",s);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw _c(t,p,d);case 34:wc(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Ls)){e.next=41;break}throw e.t0;case 41:wc(t,"internal-error",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Qc.apply(this,arguments)}function Hc(e,t,n,r){return Wc.apply(this,arguments)}function Wc(){return Wc=as(rs().mark((function e(t,n,r,i){var a,o,s=arguments;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Vc(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&wc(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Wc.apply(this,arguments)}function Kc(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Mc(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Gc=function(){function e(t){var n=this;d(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(bc(n.auth,"network-request-failed"))}),Bc.get())}))}return g(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Yc(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=bc(e,t,r);return i.customData._tokenResponse=n,i}function Jc(e,t){return Xc.apply(this,arguments)}function Xc(){return(Xc=as(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vc(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zc(e,t){return $c.apply(this,arguments)}function $c(){return($c=as(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vc(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function el(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function tl(){return tl=as(rs().mark((function e(t){var n,r,i,a,o,s,u=arguments;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=tu(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Sc((a=rl(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:el(nl(a.auth_time)),issuedAtTime:el(nl(a.iat)),expirationTime:el(nl(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),tl.apply(this,arguments)}function nl(e){return 1e3*Number(e)}function rl(e){var t=u(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return kc("JWT malformed, contained fewer than 3 sections"),null;try{var a=ms(r);return a?JSON.parse(a):(kc("Failed to decode base64 JWT payload"),null)}catch(o){return kc("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function il(e,t){return al.apply(this,arguments)}function al(){return al=as(rs().mark((function e(t,n){var r=arguments;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Ls&&ol(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),al.apply(this,arguments)}function ol(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var sl=function(){function e(t){d(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return g(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(as(rs().mark((function t(){return rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=as(rs().mark((function e(){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),ul=function(){function e(t,n){d(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return g(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=el(this.lastLoginAt),this.creationTime=el(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function cl(e){return ll.apply(this,arguments)}function ll(){return ll=as(rs().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,il(t,Zc(r,{idToken:i}));case 6:Sc(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=pc(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],u=hl(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ul(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),ll.apply(this,arguments)}function fl(){return(fl=as(rs().mark((function e(t){var n;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=tu(t),e.next=3,cl(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hl(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(h(n),h(t))}function dl(e,t){return pl.apply(this,arguments)}function pl(){return(pl=as(rs().mark((function e(t,n){var r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zc(t,{},as(rs().mark((function e(){var r,i,a,o,s,u;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ks({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=Kc(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Uc.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vl=function(){function e(){d(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return g(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Sc(e.idToken,"internal-error"),Sc("undefined"!==typeof e.idToken,"internal-error"),Sc("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=rl(e);return Sc(t,"internal-error"),Sc("undefined"!==typeof t.exp,"internal-error"),Sc("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=as(rs().mark((function e(t){var n,r=arguments;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Sc(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=as(rs().mark((function e(t,n){var r,i,a,o;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dl(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Ic("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Sc("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Sc("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Sc("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function yl(e,t){Sc("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var gl=function(){function e(t){d(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=pc(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sl(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?h(a.providerData):[],this.metadata=new ul(a.createdAt||void 0,a.lastLoginAt||void 0)}return g(e,[{key:"getIdToken",value:function(){var e=as(rs().mark((function e(t){var n;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,il(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Sc(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return tl.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return fl.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Sc(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Sc(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=as(rs().mark((function e(t){var n,r,i=arguments;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,cl(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=as(rs().mark((function e(){var t;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,il(this,Jc(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,g=null!==(c=n.createdAt)&&void 0!==c?c:void 0,m=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,A=n.uid,k=n.emailVerified,w=n.isAnonymous,b=n.providerData,_=n.stsTokenManager;Sc(A&&_,t,"internal-error");var E=vl.fromJSON(this.name,_);Sc("string"===typeof A,t,"internal-error"),yl(f,t.name),yl(h,t.name),Sc("boolean"===typeof k,t,"internal-error"),Sc("boolean"===typeof w,t,"internal-error"),yl(d,t.name),yl(p,t.name),yl(v,t.name),yl(y,t.name),yl(g,t.name),yl(m,t.name);var C=new e({uid:A,auth:t,email:h,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:g,lastLoginAt:m});return b&&Array.isArray(b)&&(C.providerData=b.map((function(e){return Object.assign({},e)}))),y&&(C._redirectEventId=y),C}},{key:"_fromIdTokenResponse",value:function(){var t=as(rs().mark((function t(n,r){var i,a,o,s=arguments;return rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new vl).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,cl(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),ml=function(){function e(){d(this,e),this.type="NONE",this.storage={}}return g(e,[{key:"_isAvailable",value:function(){var e=as(rs().mark((function e(){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=as(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=as(rs().mark((function e(t){var n;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=as(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();ml.type="NONE";var Al=ml;function kl(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var wl=function(){function e(t,n,r){d(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=kl(this.userKey,a.apiKey,o),this.fullPersistenceKey=kl("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return g(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=as(rs().mark((function e(){var t;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?gl._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=as(rs().mark((function e(t){var n;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=as(rs().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Nc(Al),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=as(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Nc(Al),s=kl(i,n.config.apiKey,n.name),u=null,c=S(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=gl._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=as(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function bl(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Sl(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(_l(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(xl(t))return"Blackberry";if(Tl(t))return"Webos";if(El(t))return"Safari";if((t.includes("chrome/")||Cl(t))&&!t.includes("edge/"))return"Chrome";if(Il(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function _l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ts();return/firefox\//i.test(e)}function El(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ts()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Cl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ts();return/crios\//i.test(e)}function Sl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ts();return/iemobile/i.test(e)}function Il(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ts();return/android/i.test(e)}function xl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ts();return/blackberry/i.test(e)}function Tl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ts();return/webos/i.test(e)}function Nl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ts();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Rl(){return function(){var e=Ts();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Pl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ts();return Nl(e)||Il(e)||Tl(e)||xl(e)||/windows phone/i.test(e)||Sl(e)}function Dl(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=bl(Ts());break;case"Worker":t="".concat(bl(Ts()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Ku,"/").concat(r)}var Ol=function(){function e(t){d(this,e),this.auth=t,this.queue=[]}return g(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=as(rs().mark((function e(t){var n,r,i,a,o,s,u;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=S(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=S(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ll=function(){function e(t,n,r){d(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ul(this),this.idTokenSubscription=new Ul(this),this.beforeStateQueue=new Ol(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mc,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return g(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Nc(t)),this._initializationPromise=this.queue(as(rs().mark((function r(){var i,a;return rs().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,wl.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=as(rs().mark((function e(){var t;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=as(rs().mark((function e(t){var n,r,i,a,o,s,u;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Sc(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=as(rs().mark((function e(t){var n;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=as(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,cl(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=as(rs().mark((function e(){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=as(rs().mark((function e(t){var n;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?tu(t):null)&&Sc(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=as(rs().mark((function e(t){var n,r=this,i=arguments;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Sc(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(as(rs().mark((function e(){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=as(rs().mark((function e(){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(as(rs().mark((function n(){return rs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Nc(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Ms("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=as(rs().mark((function e(t,n){var r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=as(rs().mark((function e(t){var n;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Sc(n=t&&Nc(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,wl.create(this,[Nc(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=as(rs().mark((function e(t){var n,r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(as(rs().mark((function e(){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=as(rs().mark((function e(t){var n=this;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(as(rs().mark((function e(){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Sc(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=as(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Sc(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Dl(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=as(rs().mark((function e(){var t,n,r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=os({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ml(e){return tu(e)}var Ul=function(){function e(t){var n=this;d(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new Xs(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return g(e,[{key:"next",get:function(){return Sc(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Fl(e,t,n){var r=Ml(e);Sc(r._canInitEmulator,r,"emulator-config-failed"),Sc(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Bl(t),o=function(e){var t=Bl(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:jl(r.substr(a.length+1))}}var o=u(r.split(":"),2);return{host:o[0],port:jl(o[1])}}(t),s=o.host,c=o.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(a,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Bl(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function jl(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Vl=function(){function e(t,n){d(this,e),this.providerId=t,this.signInMethod=n}return g(e,[{key:"toJSON",value:function(){return Ic("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Ic("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Ic("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Ic("not implemented")}}]),e}();function ql(e,t){return zl.apply(this,arguments)}function zl(){return(zl=as(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vc(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ql(e,t){return Hl.apply(this,arguments)}function Hl(){return(Hl=as(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hc(t,"POST","/v1/accounts:signInWithPassword",jc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wl(e,t){return Kl.apply(this,arguments)}function Kl(){return(Kl=as(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hc(t,"POST","/v1/accounts:signInWithEmailLink",jc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gl(e,t){return Yl.apply(this,arguments)}function Yl(){return(Yl=as(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hc(t,"POST","/v1/accounts:signInWithEmailLink",jc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Jl=function(e){A(n,e);var t=_(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return d(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return g(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=as(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Ql(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Wl(t,{email:this._email,oobCode:this._password}));case 5:wc(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=as(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ql(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Gl(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:wc(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Vl);function Xl(e,t){return Zl.apply(this,arguments)}function Zl(){return(Zl=as(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hc(t,"POST","/v1/accounts:signInWithIdp",jc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $l=function(e){A(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return g(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Xl(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Xl(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Xl(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ks(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):wc("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=pc(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Vl);function ef(e,t){return tf.apply(this,arguments)}function tf(){return(tf=as(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vc(t,"POST","/v1/accounts:sendVerificationCode",jc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nf(){return(nf=as(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hc(t,"POST","/v1/accounts:signInWithPhoneNumber",jc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rf(){return(rf=as(rs().mark((function e(t,n){var r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hc(t,"POST","/v1/accounts:signInWithPhoneNumber",jc(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Yc(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var af=os({},"USER_NOT_FOUND","user-not-found");function of(){return(of=as(rs().mark((function e(t,n){var r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Hc(t,"POST","/v1/accounts:signInWithPhoneNumber",jc(t,r),af));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var sf=function(e){A(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone","phone")).params=e,r}return g(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return nf.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return rf.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return of.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Vl);var uf=function(){function e(t){var n,r,i,a,o,s;d(this,e);var u=Gs(Ys(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Sc(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return g(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Gs(Ys(e)).link,n=t?Gs(Ys(t)).deep_link_id:null,r=Gs(Ys(e)).deep_link_id;return(r?Gs(Ys(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var cf=function(){function e(){d(this,e),this.providerId=e.PROVIDER_ID}return g(e,null,[{key:"credential",value:function(e,t){return Jl._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=uf.parseLink(t);return Sc(n,"argument-error"),Jl._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();cf.PROVIDER_ID="password",cf.EMAIL_PASSWORD_SIGN_IN_METHOD="password",cf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var lf=function(){function e(t){d(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return g(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),ff=function(e){A(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).scopes=[],e}return g(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return h(this.scopes)}}]),n}(lf),hf=function(e){A(n,e);var t=_(n);function n(){return d(this,n),t.call(this,"facebook.com")}return g(n,null,[{key:"credential",value:function(e){return $l._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(ff);hf.FACEBOOK_SIGN_IN_METHOD="facebook.com",hf.PROVIDER_ID="facebook.com";var df=function(e){A(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return g(n,null,[{key:"credential",value:function(e,t){return $l._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(ff);df.GOOGLE_SIGN_IN_METHOD="google.com",df.PROVIDER_ID="google.com";var pf=function(e){A(n,e);var t=_(n);function n(){return d(this,n),t.call(this,"github.com")}return g(n,null,[{key:"credential",value:function(e){return $l._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(ff);pf.GITHUB_SIGN_IN_METHOD="github.com",pf.PROVIDER_ID="github.com";var vf=function(e){A(n,e);var t=_(n);function n(){return d(this,n),t.call(this,"twitter.com")}return g(n,null,[{key:"credential",value:function(e,t){return $l._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(ff);function yf(e,t){return gf.apply(this,arguments)}function gf(){return(gf=as(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hc(t,"POST","/v1/accounts:signUp",jc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}vf.TWITTER_SIGN_IN_METHOD="twitter.com",vf.PROVIDER_ID="twitter.com";var mf=function(){function e(t){d(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return g(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=as(rs().mark((function t(n,r,i){var a,o,s,u,c=arguments;return rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,gl._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=Af(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=as(rs().mark((function t(n,r,i){var a;return rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Af(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Af(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var kf=function(e){A(n,e);var t=_(n);function n(e,r,i,a){var o,s;return d(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(b(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return g(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Ls);function wf(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw kf._fromErrorAndOperation(e,n,t,r);throw n}))}function bf(e,t){return _f.apply(this,arguments)}function _f(){return _f=as(rs().mark((function e(t,n){var r,i,a=arguments;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=il,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",mf._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),_f.apply(this,arguments)}function Ef(e,t){return Cf.apply(this,arguments)}function Cf(){return Cf=as(rs().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,il(t,wf(i,a,n,t),r);case 6:return Sc((o=e.sent).idToken,i,"internal-error"),Sc(s=rl(o.idToken),i,"internal-error"),u=s.sub,Sc(t.uid===u,i,"user-mismatch"),e.abrupt("return",mf._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&wc(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Cf.apply(this,arguments)}function Sf(e,t){return If.apply(this,arguments)}function If(){return If=as(rs().mark((function e(t,n){var r,i,a,o,s=arguments;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,wf(t,i,n);case 4:return a=e.sent,e.next=7,mf._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),If.apply(this,arguments)}function xf(e,t){return Tf.apply(this,arguments)}function Tf(){return(Tf=as(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sf(Ml(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nf(e,t,n){return Rf.apply(this,arguments)}function Rf(){return(Rf=as(rs().mark((function e(t,n,r){var i,a,o;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ml(t),e.next=3,yf(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,mf._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pf(e,t,n){return xf(tu(e),cf.credential(t,n))}function Df(e,t,n,r){return tu(e).onAuthStateChanged(t,n,r)}function Of(e,t){return Vc(e,"POST","/v2/accounts/mfaEnrollment:start",jc(e,t))}new WeakMap;var Lf="__sak",Mf=function(){function e(t,n){d(this,e),this.storageRetriever=t,this.type=n}return g(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Lf,"1"),this.storage.removeItem(Lf),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Uf=function(e){A(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Ts();return El(e)||Nl(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Pl(),e._shouldAllowMigration=!0,e}return g(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Rl()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=as(rs().mark((function e(t,r){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cs(k(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=as(rs().mark((function e(t){var r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cs(k(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=as(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cs(k(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Mf);Uf.type="LOCAL";var Ff=Uf,Bf=function(e){A(n,e);var t=_(n);function n(){return d(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return g(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Mf);Bf.type="SESSION";var jf=Bf;function Vf(e){return Promise.all(e.map(function(){var e=as(rs().mark((function e(t){var n;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var qf=function(){function e(t){d(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return g(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=as(rs().mark((function e(t){var n,r,i,a,o,s,u,c;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=as(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Vf(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function zf(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}qf.receivers=[];var Qf=function(){function e(t){d(this,e),this.target=t,this.handlers=new Set}return g(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=as(rs().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=zf("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Hf(){return window}function Wf(){return"undefined"!==typeof Hf().WorkerGlobalScope&&"function"===typeof Hf().importScripts}function Kf(){return Gf.apply(this,arguments)}function Gf(){return(Gf=as(rs().mark((function e(){var t;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Yf(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Jf="firebaseLocalStorageDb",Xf=1,Zf="firebaseLocalStorage",$f="fbase_key",eh=function(){function e(t){d(this,e),this.request=t}return g(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function th(e,t){return e.transaction([Zf],t?"readwrite":"readonly").objectStore(Zf)}function nh(){var e=indexedDB.deleteDatabase(Jf);return new eh(e).toPromise()}function rh(){var e=indexedDB.open(Jf,Xf);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Zf,{keyPath:$f})}catch(r){n(r)}})),e.addEventListener("success",as(rs().mark((function n(){var r;return rs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Zf)){n.next=12;break}return r.close(),n.next=5,nh();case 5:return n.t0=t,n.next=8,rh();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function ih(e,t,n){return ah.apply(this,arguments)}function ah(){return ah=as(rs().mark((function e(t,n,r){var i,a;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=th(t,!0).put((os(i={},$f,n),os(i,"value",r),i)),e.abrupt("return",new eh(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),ah.apply(this,arguments)}function oh(e,t){return sh.apply(this,arguments)}function sh(){return sh=as(rs().mark((function e(t,n){var r,i;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=th(t,!1).get(n),e.next=3,new eh(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),sh.apply(this,arguments)}function uh(e,t){var n=th(e,!0).delete(t);return new eh(n).toPromise()}var ch=function(){function e(){d(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return g(e,[{key:"_openDb",value:function(){var e=as(rs().mark((function e(){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,rh();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=as(rs().mark((function e(t){var n,r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=as(rs().mark((function e(){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wf()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=as(rs().mark((function e(){var t=this;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=qf._getInstance(Wf()?self:null),this.receiver._subscribe("keyChanged",function(){var e=as(rs().mark((function e(n,r){var i;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=as(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=as(rs().mark((function e(){var t,n,r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kf();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Qf(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=as(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Yf()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=as(rs().mark((function e(){var t;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,rh();case 5:return t=e.sent,e.next=8,ih(t,Lf,"1");case 8:return e.next=10,uh(t,Lf);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=as(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=as(rs().mark((function e(t,n){var r=this;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(as(rs().mark((function e(){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return ih(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=as(rs().mark((function e(t){var n;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return oh(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=as(rs().mark((function e(t){var n=this;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(as(rs().mark((function e(){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return uh(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=as(rs().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=th(e,!1).getAll();return new eh(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=S(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(as(rs().mark((function t(){return rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();ch.type="LOCAL";var lh=ch;function fh(e,t){return Vc(e,"POST","/v2/accounts/mfaSignIn:start",jc(e,t))}function hh(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=bc("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function dh(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}dh("rcb"),new Lc(3e4,6e4);var ph="recaptcha";function vh(e,t,n){return yh.apply(this,arguments)}function yh(){return yh=as(rs().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Sc("string"===typeof a,t,"argument-error"),Sc(r.type===ph,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Sc("enroll"===s.type,t,"internal-error"),e.next=13,Of(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Sc("signin"===s.type,t,"internal-error"),Sc(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,fh(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,ef(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),yh.apply(this,arguments)}var gh=function(){function e(t){d(this,e),this.providerId=e.PROVIDER_ID,this.auth=Ml(t)}return g(e,[{key:"verifyPhoneNumber",value:function(e,t){return vh(this.auth,e,tu(t))}}],[{key:"credential",value:function(e,t){return sf._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?sf._fromTokenResponse(n,r):null}}]),e}();function mh(e,t){return t?Nc(t):(Sc(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}gh.PROVIDER_ID="phone",gh.PHONE_SIGN_IN_METHOD="phone";var Ah=function(e){A(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this,"custom","custom")).params=e,r}return g(n,[{key:"_getIdTokenResponse",value:function(e){return Xl(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Xl(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Xl(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Vl);function kh(e){return Sf(e.auth,new Ah(e),e.bypassAuthState)}function wh(e){var t=e.auth,n=e.user;return Sc(n,t,"internal-error"),Ef(n,new Ah(e),e.bypassAuthState)}function bh(e){return _h.apply(this,arguments)}function _h(){return(_h=as(rs().mark((function e(t){var n,r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Sc(r=t.user,n,"internal-error"),e.abrupt("return",bf(r,new Ah(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Eh=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];d(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return g(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=as(rs().mark((function t(n,r){return rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=as(rs().mark((function e(t){var n,r,i,a,o,s,u;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kh;case"linkViaPopup":case"linkViaRedirect":return bh;case"reauthViaPopup":case"reauthViaRedirect":return wh;default:wc(this.auth,"internal-error")}}},{key:"resolve",value:function(e){xc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){xc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Ch=new Lc(2e3,1e4);function Sh(e,t,n){return Ih.apply(this,arguments)}function Ih(){return(Ih=as(rs().mark((function e(t,n,r){var i,a,o;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ml(t),Ec(t,n,lf),a=mh(i,r),o=new xh(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xh=function(e){A(n,e);var t=_(n);function n(e,r,i,a,o){var s;return d(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=b(s),s}return g(n,[{key:"executeNotNull",value:function(){var e=as(rs().mark((function e(){var t;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Sc(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=as(rs().mark((function e(){var t,n=this;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xc(1===this.filter.length,"Popup operations only handle one event"),t=zf(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(bc(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(bc(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(bc(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Ch.get())}()}}]),n}(Eh);xh.currentPopupAction=null;var Th="pendingRedirect",Nh=new Map,Rh=function(e){A(n,e);var t=_(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return d(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return g(n,[{key:"execute",value:function(){var e=as(rs().mark((function e(){var t,r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Nh.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Ph(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,cs(k(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Nh.set(this.auth._key(),t);case 21:return this.bypassAuthState||Nh.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=as(rs().mark((function e(t){var r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",cs(k(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",cs(k(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=as(rs().mark((function e(){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Eh);function Ph(e,t){return Dh.apply(this,arguments)}function Dh(){return(Dh=as(rs().mark((function e(t,n){var r,i,a;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mh(n),i=Lh(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oh(e,t){Nh.set(e._key(),t)}function Lh(e){return Nc(e._redirectPersistence)}function Mh(e){return kl(Th,e.config.apiKey,e.name)}function Uh(e,t){return Fh.apply(this,arguments)}function Fh(){return Fh=as(rs().mark((function e(t,n){var r,i,a,o,s,u=arguments;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=Ml(t),a=mh(i,n),o=new Rh(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),Fh.apply(this,arguments)}var Bh=function(){function e(t){d(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return g(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Vh(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Vh(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(bc(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(jh(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(jh(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function jh(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Vh(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function qh(e){return zh.apply(this,arguments)}function zh(){return zh=as(rs().mark((function e(t){var n,r=arguments;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Vc(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),zh.apply(this,arguments)}var Qh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hh=/^https?/;function Wh(){return(Wh=as(rs().mark((function e(t){var n,r,i,a,o;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,qh(t);case 4:n=e.sent,r=n.authorizedDomains,i=S(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Kh(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:wc(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function Kh(e){var t=Rc(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Hh.test(r))return!1;if(Qh.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Gh=new Lc(3e4,6e4);function Yh(){var e=Hf().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=h(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Jh=null;function Xh(e){return Jh=Jh||function(e){return new Promise((function(t,n){var r,i,a;function o(){Yh(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Yh(),n(bc(e,"network-request-failed"))},timeout:Gh.get()})}if(null===(i=null===(r=Hf().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Hf().gapi)||void 0===a?void 0:a.load)){var s=dh("iframefcb");return Hf()[s]=function(){gapi.load?o():n(bc(e,"network-request-failed"))},hh("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Jh=null,e}))}(e),Jh}var Zh=new Lc(5e3,15e3),$h="__/auth/iframe",ed="emulator/auth/iframe",td={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rd(e){var t=e.config;Sc(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Mc(t,ed):"https://".concat(e.config.authDomain,"/").concat($h),r={apiKey:t.apiKey,appName:e.name,v:Ku},i=nd.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Ks(r).slice(1))}function id(e){return ad.apply(this,arguments)}function ad(){return ad=as(rs().mark((function e(t){var n,r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xh(t);case 2:return n=e.sent,Sc(r=Hf().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:rd(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:td,dontclear:!0},(function(e){return new Promise(function(){var n=as(rs().mark((function n(r,i){var a,o,s;return rs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Hf().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=bc(t,"network-request-failed"),o=Hf().setTimeout((function(){i(a)}),Zh.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),ad.apply(this,arguments)}var od={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sd=500,ud=600,cd="_blank",ld="http://localhost",fd=function(){function e(t){d(this,e),this.window=t,this.associatedEvent=null}return g(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function hd(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:sd,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ud,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",c=Object.assign(Object.assign({},od),{width:r.toString(),height:i.toString(),top:a,left:o}),l=Ts().toLowerCase();n&&(s=Cl(l)?cd:n),_l(l)&&(t=t||ld,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=u(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return Nl(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ts())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new fd(null);var h=window.open(t||"",s,f);Sc(h,e,"popup-blocked");try{h.focus()}catch(d){}return new fd(h)}var dd="__/auth/handler",pd="emulator/auth/handler";function vd(e,t,n,r,i,a){Sc(e.config.authDomain,e,"auth-domain-config-required"),Sc(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ku,eventId:i};if(t instanceof lf){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",zs(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,c=Object.entries(a||{});s<c.length;s++){var l=u(c[s],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof ff){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,y=Object.keys(p);v<y.length;v++){var g=y[v];void 0===p[g]&&delete p[g]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(dd);return Mc(t,pd)}(e),"?").concat(Ks(p).slice(1))}var yd="webStorageSupport",gd=function(){function e(){d(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jf,this._completeRedirectFn=Uh,this._overrideRedirectResult=Oh}return g(e,[{key:"_openPopup",value:function(){var e=as(rs().mark((function e(t,n,r,i){var a,o;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xc(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=vd(t,n,r,Rc(),i),e.abrupt("return",hd(t,o,zf()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=as(rs().mark((function e(t,n,r,i){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=vd(t,n,r,Rc(),i),Hf().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(xc(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=as(rs().mark((function e(t){var n,r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,id(t);case 2:return n=e.sent,r=new Bh(t),n.register("authEvent",(function(e){return Sc(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(yd,{type:yd},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[yd];void 0!==i&&t(!!i),wc(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Wh.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Pl()||El()||Nl()}}]),e}(),md=gd,Ad=function(e){A(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone")).credential=e,r}return g(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Vc(e,"POST","/v2/accounts/mfaEnrollment:finalize",jc(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Vc(e,"POST","/v2/accounts/mfaSignIn:finalize",jc(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){d(this,e),this.factorId=t}return g(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Ic("unexpected MultiFactorSessionType")}}}]),e}());(function(){function e(){d(this,e)}return g(e,null,[{key:"assertion",value:function(e){return Ad._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var kd="@firebase/auth",wd="0.21.4",bd=function(){function e(t){d(this,e),this.auth=t,this.internalListeners=new Map}return g(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=as(rs().mark((function e(t){var n;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Sc(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var _d,Ed=Ss("authIdTokenMaxAge")||300,Cd=null,Sd=function(e){return function(){var t=as(rs().mark((function t(n){var r,i,a;return rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=n,!t.t0){t.next=5;break}return t.next=4,n.getIdTokenResult();case 4:t.t0=t.sent;case 5:if(r=t.t0,!((i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3)&&i>Ed)){t.next=9;break}return t.abrupt("return");case 9:if(a=null===r||void 0===r?void 0:r.token,Cd!==a){t.next=12;break}return t.abrupt("return");case 12:return Cd=a,t.next=15,fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:"Bearer ".concat(a)}:{}});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};function Id(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yu(),t=zu(e,"auth");if(t.isInitialized())return t.getImmediate();var n=function(e,t){var n=zu(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(Hs(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;wc(r,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:md,persistence:[lh,Ff,jf]}),r=Ss("authTokenSyncURL");if(r){var i=Sd(r);!function(e,t,n){tu(e).beforeAuthStateChanged(t,n)}(n,i,(function(){return i(n.currentUser)})),function(e,t,n,r){tu(e).onIdTokenChanged(t,n,r)}(n,(function(e){return i(e)}))}var a=_s("auth");return a&&Fl(n,"http://".concat(a)),n}_d="Browser",qu(new nu("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){Sc(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Sc(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:_d,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Dl(_d)},i=new Ll(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Nc);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),qu(new nu("auth-internal",(function(e){return function(e){return new bd(e)}(Ml(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Ju(kd,wd,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_d)),Ju(kd,wd,"esm2017");var xd="@firebase/database",Td="0.14.4",Nd="";var Rd=function(){function e(t){d(this,e),this.domStorage_=t,this.prefix_="firebase:"}return g(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Bs(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Fs(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),Pd=function(){function e(){d(this,e),this.cache_={},this.isInMemoryStorage=!0}return g(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return Vs(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),Dd=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Rd(t)}}catch(n){}return new Pd},Od=Dd("localStorage"),Ld=Dd("sessionStorage"),Md=new du("@firebase/database"),Ud=function(){var e=1;return function(){return e++}}(),Fd=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,fs(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Js;n.update(t);var r=n.digest();return ps.encodeByteArray(r)},Bd=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?Bs(r):r,t+=" "}return t},jd=null,Vd=!0,qd=function(e,t){fs(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Md.logLevel=ou.VERBOSE,jd=Md.log.bind(Md),t&&Ld.set("logging_enabled",!0)):"function"===typeof e?jd=e:(jd=null,Ld.remove("logging_enabled"))},zd=function(){if(!0===Vd&&(Vd=!1,null===jd&&!0===Ld.get("logging_enabled")&&qd(!0)),jd){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Bd.apply(null,t);jd(r)}},Qd=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];zd.apply(void 0,[e].concat(n))}},Hd=function(){var e="FIREBASE INTERNAL ERROR: "+Bd.apply(void 0,arguments);Md.error(e)},Wd=function(){var e="FIREBASE FATAL ERROR: ".concat(Bd.apply(void 0,arguments));throw Md.error(e),new Error(e)},Kd=function(){var e="FIREBASE WARNING: "+Bd.apply(void 0,arguments);Md.warn(e)},Gd=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Yd="[MIN_NAME]",Jd="[MAX_NAME]",Xd=function(e,t){if(e===t)return 0;if(e===Yd||t===Jd)return-1;if(t===Yd||e===Jd)return 1;var n=ap(e),r=ap(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},Zd=function(e,t){return e===t?0:e<t?-1:1},$d=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Bs(t))},ep=function e(t){if("object"!==typeof t||null===t)return Bs(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Bs(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},tp=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function np(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var rp=function(e){fs(!Gd(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var ip=new RegExp("^-?(0*)\\d{1,10}$"),ap=function(e){if(ip.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},op=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw Kd("Exception was thrown by user callback.",e),t}),Math.floor(0))}},sp=function(){return("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},up=function(e,t){var n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n},cp=function(){function e(t,n){var r=this;d(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return g(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){Kd('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),lp=function(){function e(t,n,r){var i=this;d(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return g(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(zd("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Kd(e)}}]),e}(),fp=function(){function e(t){d(this,e),this.accessToken=t}return g(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();fp.OWNER="owner";var hp="5",dp=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,pp="ac",vp="websocket",yp="long_polling",gp=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];d(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Od.get("host:"+t)||this._host}return g(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Od.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function mp(e,t,n){var r;if(fs("string"===typeof t,"typeof type must == string"),fs("object"===typeof n,"typeof params must == object"),t===vp)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==yp)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return np(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var Ap=function(){function e(){d(this,e),this.counters_={}}return g(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Vs(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return As(this.counters_)}}]),e}(),kp={},wp={};function bp(e){var t=e.toString();return kp[t]||(kp[t]=new Ap),kp[t]}var _p=function(){function e(t){d(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return g(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&op((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),Ep="start",Cp=function(){function e(t,n,r,i,a,o,s){var u=this;d(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Qd(t),this.stats_=bp(n),this.urlFn=function(e){return u.appCheckToken&&(e[pp]=u.appCheckToken),mp(n,yp,e)}}return g(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new _p(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Ds()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Sp((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===Ep)n.id=a,n.password=o;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={};e[Ep]="t",e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=hp,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e[pp]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&dp.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=Bs(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=ys(t),r=tp(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Ds()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=Bs(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Ds()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),Sp=function(){function e(t,n,r,i){if(d(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Ds())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=Ud(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(s){zd("frame writing exception"),s.stack&&zd(s.stack),zd(s)}}}return g(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;Ds()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){zd("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||zd("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),Ip=null;"undefined"!==typeof MozWebSocket?Ip=MozWebSocket:"undefined"!==typeof WebSocket&&(Ip=WebSocket);var xp=function(){function e(t,n,r,i,a,o,s){d(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Qd(this.connId),this.stats_=bp(n),this.connURL=e.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}return g(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Od.set("previous_websocket_failure",!0);try{var r;if(Ds()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(hp,"/").concat(Nd,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"/React-it-kamasutra",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new Ip(this.connURL,[],r)}catch(u){this.log_("Error instantiating WebSocket.");var s=u.message||u.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){Od.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Fs(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(fs(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=Bs(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=tp(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=hp,!Ds()&&"undefined"!==typeof location&&location.hostname&&dp.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a[pp]=r),i&&(a.p=i),mp(e,vp,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Ip&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return Od.isInMemoryStorage||!0===Od.get("previous_websocket_failure")}}]),e}();xp.responsesRequiredToBeHealthy=2,xp.healthyTimeout=3e4;var Tp=function(){function e(t){d(this,e),this.initTransports_(t)}return g(e,[{key:"initTransports_",value:function(t){var n=xp&&xp.isAvailable(),r=n&&!xp.previouslyFailed();if(t.webSocketOnly&&(n||Kd("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[xp];else{var i,a=this.transports_=[],o=S(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[Cp,xp]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();Tp.globalTransportInitialized_=!1;var Np=function(){function e(t,n,r,i,a,o,s,u,c,l){d(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Qd("c:"+this.id+":"),this.transportManager_=new Tp(n),this.log_("Connection created"),this.start_()}return g(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=up((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=$d("t",e),n=$d("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=$d("t",e),n=$d("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=$d("t",e);if("d"in e){var n=e.d;if("h"===t){var r=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Hd("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Hd("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),hp!==n&&Kd("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),up((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):up((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Od.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),Rp=function(){function e(){d(this,e)}return g(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),Pp=function(){function e(t){d(this,e),this.allowedEvents_=t,this.listeners_={},fs(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return g(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=h(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){fs(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),Dp=function(e){A(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Ns()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return g(n,[{key:"getInitialEvent",value:function(e){return fs("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(Pp),Op=32,Lp=768,Mp=function(){function e(t,n){if(d(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return g(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function Up(){return new Mp("")}function Fp(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Bp(e){return e.pieces_.length-e.pieceNum_}function jp(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Mp(e.pieces_,t)}function Vp(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function qp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function zp(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Mp(t,0)}function Qp(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Mp)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new Mp(n,0)}function Hp(e){return e.pieceNum_>=e.pieces_.length}function Wp(e,t){var n=Fp(e),r=Fp(t);if(null===n)return t;if(n===r)return Wp(jp(e),jp(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Kp(e,t){for(var n=qp(e,0),r=qp(t,0),i=0;i<n.length&&i<r.length;i++){var a=Xd(n[i],r[i]);if(0!==a)return a}return n.length===r.length?0:n.length<r.length?-1:1}function Gp(e,t){if(Bp(e)!==Bp(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Yp(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Bp(e)>Bp(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Jp=g((function e(t,n){d(this,e),this.errorPrefix_=n,this.parts_=qp(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=eu(this.parts_[r]);Xp(this)}));function Xp(e){if(e.byteLength_>Lp)throw new Error(e.errorPrefix_+"has a key path longer than "+Lp+" bytes ("+e.byteLength_+").");if(e.parts_.length>Op)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Op+") or object contains a cycle "+Zp(e))}function Zp(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var $p=function(e){A(n,e);var t=_(n);function n(){var e,r,i;return d(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return g(n,[{key:"getInitialEvent",value:function(e){return fs("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(Pp),ev=1e3,tv=function(e){A(n,e);var t=_(n);function n(e,r,i,a,o,s,u,c){var l;if(d(this,n),(l=t.call(this)).repoInfo_=e,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=o,l.authTokenProvider_=s,l.appCheckTokenProvider_=u,l.authOverride_=c,l.id=n.nextPersistentConnectionId_++,l.log_=Qd("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=ev,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.appCheckToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.invalidAppCheckTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!Ds())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return $p.getInstance().on("visible",l.onVisible_,b(l)),-1===e.host.indexOf("fblocal")&&Dp.getInstance().on("online",l.onOnline_,b(l)),l}return g(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Bs(i)),fs(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new Is,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),fs(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),fs(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=js(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=js(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),fs(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+Bs(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Hd("Unrecognized action received from server: "+Bs(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;fs(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ev,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ev,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ev),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=as(rs().mark((function e(){var t,r,i,a,o,s,c,l,f,h,d,p,v,y,g=this;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,s=!1,c=null,l=function(){c?c.close():(s=!0,i())},f=function(e){fs(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)},this.realtime_={close:l,sendRequest:f},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);case 19:d=e.sent,p=u(d,2),v=p[0],y=p[1],s?zd("getToken() completed but was canceled"):(zd("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=y&&y.token,c=new Np(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){Kd(e+" ("+g.repoInfo_.toString()+")"),g.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&Kd(e.t0),l());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){zd("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){zd("Resuming connection for reason: "+e),delete this.interruptReasons_[e],zs(this.interruptReasons_)&&(this.reconnectDelay_=ev,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return ep(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new Mp(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){zd("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){zd("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=S(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=S(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Ds()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Nd.replace(/\./g,"-")]=1,Ns()?e["framework.cordova"]=1:Ps()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=Dp.getInstance().currentlyOnline();return zs(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&Vs(e,"w")){var n=qs(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();Kd("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(Rp);tv.nextPersistentConnectionId_=0,tv.nextConnectionId_=0;var nv,rv=function(){function e(t,n){d(this,e),this.name=t,this.node=n}return g(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),iv=function(){function e(){d(this,e)}return g(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new rv(Yd,e),r=new rv(Yd,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return rv.MIN}}]),e}(),av=function(e){A(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"compare",value:function(e,t){return Xd(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw hs("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return rv.MIN}},{key:"maxPost",value:function(){return new rv(Jd,nv)}},{key:"makePost",value:function(e,t){return fs("string"===typeof e,"KeyIndex indexValue must always be a string."),new rv(e,nv)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return nv},set:function(e){nv=e}}]),n}(iv),ov=new av,sv=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;d(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return g(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),uv=function(){function e(t,n,r,i,a){d(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:fv.EMPTY_NODE,this.right=null!=a?a:fv.EMPTY_NODE}return g(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return fv.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return fv.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();uv.RED=!0,uv.BLACK=!1;var cv,lv=function(){function e(){d(this,e)}return g(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new uv(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),fv=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;d(this,e),this.comparator_=t,this.root_=n}return g(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,uv.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,uv.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new sv(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new sv(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new sv(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new sv(this.root_,null,this.comparator_,!0,e)}}]),e}();function hv(e,t){return Xd(e.name,t.name)}function dv(e,t){return Xd(e,t)}fv.EMPTY_NODE=new lv;var pv,vv,yv,gv=function(e){return"number"===typeof e?"number:"+rp(e):"string:"+e},mv=function(e){if(e.isLeafNode()){var t=e.val();fs("string"===typeof t||"number"===typeof t||"object"===typeof t&&Vs(t,".sv"),"Priority must be a string or number.")}else fs(e===cv||e.isEmpty(),"priority of unexpected type.");fs(e===cv||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Av=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;d(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,fs(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),mv(this.priorityNode_)}return g(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return Hp(t)?this:".priority"===Fp(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=Fp(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(fs(".priority"!==r||1===Bp(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(jp(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+gv(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?rp(this.value_):this.value_,this.lazyHash_=Fd(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(fs(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return fs(i>=0,"Unknown leaf type: "+n),fs(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return pv},set:function(e){pv=e}}]),e}();Av.VALUE_TYPE_ORDER=["object","boolean","number","string"];var kv,wv,bv=function(e){A(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?Xd(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return rv.MIN}},{key:"maxPost",value:function(){return new rv(Jd,new Av("[PRIORITY-POST]",yv))}},{key:"makePost",value:function(e,t){var n=vv(e);return new rv(t,new Av("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(iv),_v=new bv,Ev=Math.log(2),Cv=function(){function e(t){d(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/Ev,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return g(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),Sv=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new uv(o,a.node,uv.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return a=e[u],o=n?n(a):a,new uv(o,a.node,uv.BLACK,c,l)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var c=i(a+1,s),l=e[a],f=n?n(l):l;u(new uv(f,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));l?s(f,uv.BLACK):(s(f,uv.BLACK),s(f,uv.RED))}return a}(new Cv(e.length));return new fv(r||t,a)},Iv={},xv=function(){function e(t,n){d(this,e),this.indexes_=t,this.indexSet_=n}return g(e,[{key:"get",value:function(e){var t=qs(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof fv?t:null}},{key:"hasIndex",value:function(e){return Vs(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){fs(t!==ov,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(rv.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?Sv(i,t.getCompare()):Iv;var u=t.toString(),c=Object.assign({},this.indexSet_);c[u]=t;var l=Object.assign({},this.indexes_);return l[u]=r,new e(l,c)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(Qs(this.indexes_,(function(e,i){var a=qs(r.indexSet_,i);if(fs(a,"Missing index implementation for "+i),e===Iv){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(rv.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),Sv(o,a.getCompare())}return Iv}var c=n.get(t.name),l=e;return c&&(l=l.remove(new rv(t.name,c))),l.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(Qs(this.indexes_,(function(e){if(e===Iv)return e;var r=n.get(t.name);return r?e.remove(new rv(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return fs(Iv&&_v,"ChildrenNode.ts has not been loaded"),kv=kv||new e({".priority":Iv},{".priority":_v})}}]),e}(),Tv=function(){function e(t,n,r){d(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&mv(this.priorityNode_),this.children_.isEmpty()&&fs(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return g(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||wv}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?wv:t}},{key:"getChild",value:function(e){var t=Fp(e);return null===t?this:this.getImmediateChild(t).getChild(jp(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(fs(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new rv(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?wv:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=Fp(e);if(null===n)return t;fs(".priority"!==Fp(e)||1===Bp(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(jp(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(_v,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+gv(this.getPriority().val())+":"),this.forEachChild(_v,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":Fd(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new rv(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new rv(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new rv(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,rv.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,rv.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Nv?-1:0}},{key:"withIndex",value:function(t){if(t===ov||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===ov||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(_v),r=t.getIterator(_v),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===ov?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return wv||(wv=new e(new fv(dv),null,xv.Default))}}]),e}();Tv.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var Nv=new(function(e){A(n,e);var t=_(n);function n(){return d(this,n),t.call(this,new fv(dv),Tv.EMPTY_NODE,xv.Default)}return g(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return Tv.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(Tv));Object.defineProperties(rv,{MIN:{value:new rv(Yd,Tv.EMPTY_NODE)},MAX:{value:new rv(Jd,Nv)}}),av.__EMPTY_NODE=Tv.EMPTY_NODE,Av.__childrenNodeConstructor=Tv,cv=Nv,function(e){yv=e}(Nv);var Rv=!0;function Pv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Tv.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),fs(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new Av(e,Pv(t));if(e instanceof Array||!Rv){var n=Tv.EMPTY_NODE;return np(e,(function(t,r){if(Vs(e,t)&&"."!==t.substring(0,1)){var i=Pv(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(Pv(t))}var r=[],i=!1;if(np(e,(function(e,t){if("."!==e.substring(0,1)){var n=Pv(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new rv(e,n)))}})),0===r.length)return Tv.EMPTY_NODE;var a=Sv(r,hv,(function(e){return e.name}),dv);if(i){var o=Sv(r,_v.getCompare());return new Tv(a,Pv(t),new xv({".priority":o},{".priority":_v}))}return new Tv(a,Pv(t),xv.Default)}!function(e){vv=e}(Pv);var Dv=function(e){A(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this)).indexPath_=e,fs(!Hp(e)&&".priority"!==Fp(e),"Can't create PathIndex with empty path or .priority key"),r}return g(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?Xd(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=Pv(e),r=Tv.EMPTY_NODE.updateChild(this.indexPath_,n);return new rv(t,r)}},{key:"maxPost",value:function(){var e=Tv.EMPTY_NODE.updateChild(this.indexPath_,Nv);return new rv(Jd,e)}},{key:"toString",value:function(){return qp(this.indexPath_,0).join("/")}}]),n}(iv),Ov=function(e){A(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?Xd(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return rv.MIN}},{key:"maxPost",value:function(){return rv.MAX}},{key:"makePost",value:function(e,t){var n=Pv(e);return new rv(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(iv),Lv=new Ov;function Mv(e){return{type:"value",snapshotNode:e}}function Uv(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Fv(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Bv(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var jv=function(){function e(t){d(this,e),this.index_=t}return g(e,[{key:"updateChild",value:function(e,t,n,r,i,a){fs(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(Fv(t,o)):fs(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(Uv(t,n)):a.trackChildChange(Bv(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(_v,(function(e,r){t.hasChild(e)||n.trackChildChange(Fv(e,r))})),t.isLeafNode()||t.forEachChild(_v,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Bv(t,r,i))}else n.trackChildChange(Uv(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?Tv.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),Vv=function(){function e(t){d(this,e),this.indexedFilter_=new jv(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return g(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){var t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new rv(t,n))||(n=Tv.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=Tv.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(Tv.EMPTY_NODE);var i=this;return t.forEachChild(_v,(function(e,t){i.matches(new rv(e,t))||(r=r.updateImmediateChild(e,Tv.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),qv=function(){function e(t){var n=this;d(this,e),this.withinDirectionalStart=function(e){return n.reverse_?n.withinEndPost(e):n.withinStartPost(e)},this.withinDirectionalEnd=function(e){return n.reverse_?n.withinStartPost(e):n.withinEndPost(e)},this.withinStartPost=function(e){var t=n.index_.compare(n.rangedFilter_.getStartPost(),e);return n.startIsInclusive_?t<=0:t<0},this.withinEndPost=function(e){var t=n.index_.compare(e,n.rangedFilter_.getEndPost());return n.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new Vv(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return g(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new rv(t,n))||(n=Tv.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=Tv.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=Tv.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(this.withinDirectionalStart(o)){if(!this.withinDirectionalEnd(o))break;r=r.updateImmediateChild(o.name,o.node),a++}}}else{var s;r=(r=t.withIndex(this.index_)).updatePriority(Tv.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);for(var u=0;s.hasNext();){var c=s.getNext();u<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?u++:r=r.updateImmediateChild(c.name,Tv.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var s=e;fs(s.numChildren()===this.limit_,"");var u=new rv(t,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var f=s.getImmediateChild(t),h=r.getChildAfterChild(this.index_,c,this.reverse_);null!=h&&(h.name===t||s.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);var d=null==h?1:a(h,u);if(l&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(Bv(t,n,f)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(Fv(t,f));var p=s.updateImmediateChild(t,Tv.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=i&&i.trackChildChange(Uv(h.name,h.node)),p.updateImmediateChild(h.name,h.node)):p}return n.isEmpty()?e:l&&a(c,u)>=0?(null!=i&&(i.trackChildChange(Fv(c.name,c.node)),i.trackChildChange(Uv(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(c.name,Tv.EMPTY_NODE)):e}}]),e}(),zv=function(){function e(){d(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=_v}return g(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return fs(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return fs(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Yd}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return fs(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return fs(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Jd}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return fs(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===_v}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function Qv(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Hv(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Wv(e,t){var n=e.copy();return n.index_=t,n}function Kv(e){var t,n={};if(e.isDefault())return n;if(e.index_===_v?t="$priority":e.index_===Lv?t="$value":e.index_===ov?t="$key":(fs(e.index_ instanceof Dv,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Bs(t),e.startSet_){var r=e.startAfterSet_?"startAfter":"startAt";n[r]=Bs(e.indexStartValue_),e.startNameSet_&&(n[r]+=","+Bs(e.indexStartName_))}if(e.endSet_){var i=e.endBeforeSet_?"endBefore":"endAt";n[i]=Bs(e.indexEndValue_),e.endNameSet_&&(n[i]+=","+Bs(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function Gv(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==_v&&(t.i=e.index_.toString()),t}var Yv=function(e){A(n,e);var t=_(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=Qd("p:rest:"),o.listens_={},o}return g(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var c=Kv(e._queryParams);this.restRequest_(o+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),qs(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=Kv(e._queryParams),r=e._path.toString(),i=new Is;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=u(i,2),o=a[0],s=a[1];o&&o.accessToken&&(n.auth=o.accessToken),s&&s.token&&(n.ac=s.token);var c=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+Ks(n);t.log_("Sending REST request for "+c);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(r&&4===l.readyState){t.log_("REST Response for "+c+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=Fs(l.responseText)}catch(n){Kd("Failed to parse JSON response for "+c+": "+l.responseText)}r(null,e)}else 401!==l.status&&404!==l.status&&Kd("Got unsuccessful REST response for "+c+" Status: "+l.status),r(l.status);r=null}},l.open("GET",c,!0),l.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(fs(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(Rp),Jv=function(){function e(){d(this,e),this.rootNode_=Tv.EMPTY_NODE}return g(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function Xv(){return{value:null,children:new Map}}function Zv(e,t,n){if(Hp(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=Fp(t);e.children.has(r)||e.children.set(r,Xv()),Zv(e.children.get(r),t=jp(t),n)}}function $v(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){$v(r,new Mp(t.toString()+"/"+e),n)}))}var ey,ty=function(){function e(t){d(this,e),this.collection_=t,this.last_=null}return g(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&np(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),ny=function(){function e(t,n){d(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new ty(t);var r=1e4+2e4*Math.random();up(this.reportStats_.bind(this),Math.floor(r))}return g(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;np(t,(function(t,i){i>0&&Vs(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),up(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function ry(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ey||(ey={}));var iy,ay=function(){function e(t,n,r){d(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=ey.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return g(e,[{key:"operationForChild",value:function(t){if(Hp(this.path)){if(null!=this.affectedTree.value)return fs(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Mp(t));return new e(Up(),n,this.revert)}return fs(Fp(this.path)===t,"operationForChild called for unrelated child."),new e(jp(this.path),this.affectedTree,this.revert)}}]),e}(),oy=function(){function e(t,n){d(this,e),this.source=t,this.path=n,this.type=ey.LISTEN_COMPLETE}return g(e,[{key:"operationForChild",value:function(t){return Hp(this.path)?new e(this.source,Up()):new e(this.source,jp(this.path))}}]),e}(),sy=function(){function e(t,n,r){d(this,e),this.source=t,this.path=n,this.snap=r,this.type=ey.OVERWRITE}return g(e,[{key:"operationForChild",value:function(t){return Hp(this.path)?new e(this.source,Up(),this.snap.getImmediateChild(t)):new e(this.source,jp(this.path),this.snap)}}]),e}(),uy=function(){function e(t,n,r){d(this,e),this.source=t,this.path=n,this.children=r,this.type=ey.MERGE}return g(e,[{key:"operationForChild",value:function(t){if(Hp(this.path)){var n=this.children.subtree(new Mp(t));return n.isEmpty()?null:n.value?new sy(this.source,Up(),n.value):new e(this.source,Up(),n)}return fs(Fp(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,jp(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),cy=function(){function e(t,n,r){d(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return g(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(Hp(e))return this.isFullyInitialized()&&!this.filtered_;var t=Fp(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),ly=g((function e(t){d(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()}));function fy(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw hs("Should only compare child_ events.");var r=new rv(t.childName,t.snapshotNode),i=new rv(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function hy(e,t){return{eventCache:e,serverCache:t}}function dy(e,t,n,r){return hy(new cy(t,n,r),e.serverCache)}function py(e,t,n,r){return hy(e.eventCache,new cy(t,n,r))}function vy(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function yy(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var gy=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(iy||(iy=new fv(Zd)),iy);d(this,e),this.value=t,this.children=n}return g(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:Up(),value:this.value};if(Hp(e))return null;var n=Fp(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(jp(e),t);return null!=i?{path:Qp(new Mp(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(Hp(t))return this;var n=Fp(t),r=this.children.get(n);return null!==r?r.subtree(jp(t)):new e(null)}},{key:"set",value:function(t,n){if(Hp(t))return new e(n,this.children);var r=Fp(t),i=(this.children.get(r)||new e(null)).set(jp(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(Hp(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=Fp(t),r=this.children.get(n);if(r){var i,a=r.remove(jp(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(Hp(e))return this.value;var t=Fp(e),n=this.children.get(t);return n?n.get(jp(e)):null}},{key:"setTree",value:function(t,n){if(Hp(t))return n;var r,i=Fp(t),a=(this.children.get(i)||new e(null)).setTree(jp(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(Up(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Qp(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,Up(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Hp(e))return null;var i=Fp(e),a=this.children.get(i);return a?a.findOnPath_(jp(e),Qp(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,Up(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(Hp(t))return this;this.value&&r(n,this.value);var i=Fp(t),a=this.children.get(i);return a?a.foreachOnPath_(jp(t),Qp(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(Up(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Qp(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return np(t,(function(e,t){n=n.set(new Mp(e),t)})),n}}]),e}(),my=function(){function e(t){d(this,e),this.writeTree_=t}return g(e,null,[{key:"empty",value:function(){return new e(new gy(null))}}]),e}();function Ay(e,t,n){if(Hp(t))return new my(new gy(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=Wp(i,t);return a=a.updateChild(o,n),new my(e.writeTree_.set(i,a))}var s=new gy(n),u=e.writeTree_.setTree(t,s);return new my(u)}function ky(e,t,n){var r=e;return np(n,(function(e,n){r=Ay(r,Qp(t,e),n)})),r}function wy(e,t){if(Hp(t))return my.empty();var n=e.writeTree_.setTree(t,new gy(null));return new my(n)}function by(e,t){return null!=_y(e,t)}function _y(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Wp(n.path,t)):null}function Ey(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(_v,(function(e,n){t.push(new rv(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new rv(e,n.value))})),t}function Cy(e,t){if(Hp(t))return e;var n=_y(e,t);return new my(null!=n?new gy(n):e.writeTree_.subtree(t))}function Sy(e){return e.writeTree_.isEmpty()}function Iy(e,t){return xy(Up(),e.writeTree_,t)}function xy(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(fs(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=xy(Qp(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Qp(e,".priority"),r)),n}function Ty(e,t){return qy(t,e)}function Ny(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));fs(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&Ry(s,r.path)?i=!1:Yp(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=Dy(e.allWrites,Py,Up()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=wy(e.visibleWrites,r.path):np(r.children,(function(t){e.visibleWrites=wy(e.visibleWrites,Qp(r.path,t))}));return!0}return!1}function Ry(e,t){if(e.snap)return Yp(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Yp(Qp(e.path,n),t))return!0;return!1}function Py(e){return e.visible}function Dy(e,t,n){for(var r=my.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)Yp(n,o)?r=Ay(r,s=Wp(n,o),a.snap):Yp(o,n)&&(s=Wp(o,n),r=Ay(r,Up(),a.snap.getChild(s)));else{if(!a.children)throw hs("WriteRecord should have .snap or .children");if(Yp(n,o))r=ky(r,s=Wp(n,o),a.children);else if(Yp(o,n))if(Hp(s=Wp(o,n)))r=ky(r,Up(),a.children);else{var u=qs(a.children,Fp(s));if(u){var c=u.getChild(jp(s));r=Ay(r,Up(),c)}}}}}return r}function Oy(e,t,n,r,i){if(r||i){var a=Cy(e.visibleWrites,t);if(!i&&Sy(a))return n;if(i||null!=n||by(a,Up())){return Iy(Dy(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Yp(e.path,t)||Yp(t,e.path))}),t),n||Tv.EMPTY_NODE)}return null}var o=_y(e.visibleWrites,t);if(null!=o)return o;var s=Cy(e.visibleWrites,t);return Sy(s)?n:null!=n||by(s,Up())?Iy(s,n||Tv.EMPTY_NODE):null}function Ly(e,t,n,r){return Oy(e.writeTree,e.treePath,t,n,r)}function My(e,t){return function(e,t,n){var r=Tv.EMPTY_NODE,i=_y(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(_v,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=Cy(e.visibleWrites,t);return n.forEachChild(_v,(function(e,t){var n=Iy(Cy(a,new Mp(e)),t);r=r.updateImmediateChild(e,n)})),Ey(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return Ey(Cy(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Uy(e,t,n,r){return function(e,t,n,r,i){fs(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=Qp(t,n);if(by(e.visibleWrites,a))return null;var o=Cy(e.visibleWrites,a);return Sy(o)?i.getChild(n):Iy(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function Fy(e,t){return function(e,t){return _y(e.visibleWrites,t)}(e.writeTree,Qp(e.treePath,t))}function By(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=Cy(e.visibleWrites,t),c=_y(u,Up());if(null!=c)s=c;else{if(null==n)return[];s=Iy(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var l=[],f=o.getCompare(),h=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),d=h.getNext();d&&l.length<i;)0!==f(d,r)&&l.push(d),d=h.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,a)}function jy(e,t,n){return function(e,t,n,r){var i=Qp(t,n),a=_y(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?Iy(Cy(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Vy(e,t){return qy(Qp(e.treePath,t),e.writeTree)}function qy(e,t){return{treePath:e,writeTree:t}}var zy=function(){function e(){d(this,e),this.changeMap=new Map}return g(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;fs("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),fs(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Bv(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Fv(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Uv(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw hs("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Bv(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),Qy=new(function(){function e(){d(this,e)}return g(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),Hy=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;d(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return g(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new cy(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return jy(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:yy(this.viewCache_),i=By(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function Wy(e,t,n,r,i){var a,o,s=new zy;if(n.type===ey.OVERWRITE){var u=n;u.source.fromUser?a=Yy(e,t,u.path,u.snap,r,i,s):(fs(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!Hp(u.path),a=Gy(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===ey.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var c=Qp(n,r);Jy(t,Fp(c))&&(s=Yy(e,s,c,u,i,a,o))})),r.foreach((function(r,u){var c=Qp(n,r);Jy(t,Fp(c))||(s=Yy(e,s,c,u,i,a,o))})),s}(e,t,c.path,c.children,r,i,s):(fs(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=Zy(e,t,c.path,c.children,r,i,o,s))}else if(n.type===ey.ACK_USER_WRITE){var l=n;a=l.revert?function(e,t,n,r,i,a){var o;if(null!=Fy(r,n))return t;var s,u=new Hy(r,t,i),c=t.eventCache.getNode();if(Hp(n)||".priority"===Fp(n)){var l;if(t.serverCache.isFullyInitialized())l=Ly(r,yy(t));else{var f=t.serverCache.getNode();fs(f instanceof Tv,"serverChildren would be complete if leaf node"),l=My(r,f)}s=e.filter.updateFullNode(c,l,a)}else{var h=Fp(n),d=jy(r,h,t.serverCache);null==d&&t.serverCache.isCompleteForChild(h)&&(d=c.getImmediateChild(h)),(s=null!=d?e.filter.updateChild(c,h,d,jp(n),u,a):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(c,h,Tv.EMPTY_NODE,jp(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Ly(r,yy(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=Fy(r,Up()),dy(t,s,o,e.filter.filtersNodes())}(e,t,l.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=Fy(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(Hp(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Gy(e,t,n,u.getNode().getChild(n),i,a,s,o);if(Hp(n)){var c=new gy(null);return u.getNode().forEachChild(ov,(function(e,t){c=c.set(new Mp(e),t)})),Zy(e,t,n,c,i,a,s,o)}return t}var l=new gy(null);return r.foreach((function(e,t){var r=Qp(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),Zy(e,t,n,l,i,a,s,o)}(e,t,l.path,l.affectedTree,r,i,s)}else{if(n.type!==ey.LISTEN_COMPLETE)throw hs("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=py(t,a.getNode(),a.isFullyInitialized()||Hp(n),a.isFiltered());return Ky(e,o,n,r,Qy,i)}(e,t,n.path,r,s)}var f=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=vy(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(Mv(vy(t)))}}(t,a,f),{viewCache:a,changes:f}}function Ky(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=Fy(r,n))return t;if(Hp(n))if(fs(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=yy(t),l=My(r,c instanceof Tv?c:Tv.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),l,a)}else{var f=Ly(r,yy(t));o=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var h=Fp(n);if(".priority"===h){fs(1===Bp(n),"Can't have a priority with additional path components");var d=u.getNode(),p=Uy(r,n,d,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):u.getNode()}else{var v,y=jp(n);if(u.isCompleteForChild(h)){s=t.serverCache.getNode();var g=Uy(r,n,u.getNode(),s);v=null!=g?u.getNode().getImmediateChild(h).updateChild(y,g):u.getNode().getImmediateChild(h)}else v=jy(r,h,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),h,v,y,i,a):u.getNode()}}return dy(t,o,u.isFullyInitialized()||Hp(n),e.filter.filtersNodes())}function Gy(e,t,n,r,i,a,o,s){var u,c=t.serverCache,l=o?e.filter:e.filter.getIndexedFilter();if(Hp(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),f,null)}else{var h=Fp(n);if(!c.isCompleteForPath(n)&&Bp(n)>1)return t;var d=jp(n),p=c.getNode().getImmediateChild(h).updateChild(d,r);u=".priority"===h?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),h,p,d,Qy,null)}var v=py(t,u,c.isFullyInitialized()||Hp(n),l.filtersNodes());return Ky(e,v,n,i,new Hy(i,v,a),s)}function Yy(e,t,n,r,i,a,o){var s,u,c=t.eventCache,l=new Hy(i,t,a);if(Hp(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=dy(t,u,!0,e.filter.filtersNodes());else{var f=Fp(n);if(".priority"===f)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=dy(t,u,c.isFullyInitialized(),c.isFiltered());else{var h,d=jp(n),p=c.getNode().getImmediateChild(f);if(Hp(d))h=r;else{var v=l.getCompleteChild(f);h=null!=v?".priority"===Vp(d)&&v.getChild(zp(d)).isEmpty()?v:v.updateChild(d,r):Tv.EMPTY_NODE}if(p.equals(h))s=t;else s=dy(t,e.filter.updateChild(c.getNode(),f,h,d,l,o),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function Jy(e,t){return e.eventCache.isCompleteForChild(t)}function Xy(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Zy(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=Hp(n)?r:new gy(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=Xy(0,t.serverCache.getNode().getImmediateChild(n),r);c=Gy(e,c,new Mp(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!l.hasChild(n)&&!u){var f=Xy(0,t.serverCache.getNode().getImmediateChild(n),r);c=Gy(e,c,new Mp(n),f,i,a,o,s)}})),c}var $y,eg=function(){function e(t,n){d(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,a=new jv(i.getIndex()),o=(r=i).loadsAllData()?new jv(r.getIndex()):r.hasLimit()?new qv(r):new Vv(r);this.processor_=function(e){return{filter:e}}(o);var s=n.serverCache,u=n.eventCache,c=a.updateFullNode(Tv.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(Tv.EMPTY_NODE,u.getNode(),null),f=new cy(c,s.isFullyInitialized(),a.filtersNodes()),h=new cy(l,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=hy(h,f),this.eventGenerator_=new ly(this.query_)}return g(e,[{key:"query",get:function(){return this.query_}}]),e}();function tg(e,t){var n=yy(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Hp(t)&&!n.getImmediateChild(Fp(t)).isEmpty())?n.getChild(t):null}function ng(e){return 0===e.eventRegistrations_.length}function rg(e,t,n){var r=[];if(n){fs(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var s=e.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(s)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function ig(e,t,n,r){t.type===ey.MERGE&&null!==t.source.queryId&&(fs(yy(e.viewCache_),"We should always have a full cache before handling merges"),fs(vy(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=Wy(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,fs(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),fs(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),fs(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,ag(e,s.changes,s.viewCache.eventCache.getNode(),null)}function ag(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),fy(e,i,"child_removed",t,r,n),fy(e,i,"child_added",t,r,n),fy(e,i,"child_moved",a,r,n),fy(e,i,"child_changed",t,r,n),fy(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var og,sg=g((function e(){d(this,e),this.views=new Map}));function ug(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return fs(null!=a,"SyncTree gave us an op for an invalid query."),ig(a,t,n,r)}var o,s=[],u=S(e.views.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s=s.concat(ig(c,t,n,r))}}catch(l){u.e(l)}finally{u.f()}return s}function cg(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var s=Ly(n,i?r:null),u=!1;s?u=!0:r instanceof Tv?(s=My(n,r),u=!1):(s=Tv.EMPTY_NODE,u=!1);var c=hy(new cy(s,u,!1),new cy(r,i,!1));return new eg(t,c)}return o}function lg(e,t,n,r,i,a){var o=cg(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(_v,(function(e,t){r.push(Uv(e,t))})),n.isFullyInitialized()&&r.push(Mv(n.getNode())),ag(e,r,n.getNode(),t)}(o,n)}function fg(e,t,n,r){var i=t._queryIdentifier,a=[],o=[],s=yg(e);if("default"===i){var c,l=S(e.views.entries());try{for(l.s();!(c=l.n()).done;){var f=u(c.value,2),h=f[0],d=f[1];o=o.concat(rg(d,n,r)),ng(d)&&(e.views.delete(h),d.query._queryParams.loadsAllData()||a.push(d.query))}}catch(v){l.e(v)}finally{l.f()}}else{var p=e.views.get(i);p&&(o=o.concat(rg(p,n,r)),ng(p)&&(e.views.delete(i),p.query._queryParams.loadsAllData()||a.push(p.query)))}return s&&!yg(e)&&a.push(new(fs($y,"Reference.ts has not been loaded"),$y)(t._repo,t._path)),{removed:a,events:o}}function hg(e){var t,n=[],r=S(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function dg(e,t){var n,r=null,i=S(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||tg(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function pg(e,t){if(t._queryParams.loadsAllData())return gg(e);var n=t._queryIdentifier;return e.views.get(n)}function vg(e,t){return null!=pg(e,t)}function yg(e){return null!=gg(e)}function gg(e){var t,n=S(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var mg=1,Ag=g((function e(t){d(this,e),this.listenProvider_=t,this.syncPointTree_=new gy(null),this.pendingWriteTree_={visibleWrites:my.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function kg(e,t,n,r,i){return function(e,t,n,r,i){fs(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Ay(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Tg(e,new sy({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function wg(e,t,n,r){!function(e,t,n,r){fs(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=ky(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=gy.fromObject(n);return Tg(e,new uy({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function bg(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(Ny(e.pendingWriteTree_,t)){var i=new gy(null);return null!=r.snap?i=i.set(Up(),!0):np(r.children,(function(e){i=i.set(new Mp(e),!0)})),Tg(e,new ay(r.path,i,n))}return[]}function _g(e,t,n){return Tg(e,new sy({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Eg(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=t._path,o=e.syncPointTree_.get(a),s=[];if(o&&("default"===t._queryIdentifier||vg(o,t))){var u=fg(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(a));var c=u.removed;if(s=u.events,!i){var l=-1!==c.findIndex((function(e){return e._queryParams.loadsAllData()})),f=e.syncPointTree_.findOnPath(a,(function(e,t){return yg(t)}));if(l&&!f){var h=e.syncPointTree_.subtree(a);if(!h.isEmpty())for(var d=function(e){return e.fold((function(e,t,n){if(t&&yg(t))return[gg(t)];var r=[];return t&&(r=hg(t)),np(n,(function(e,t){r=r.concat(t)})),r}))}(h),p=0;p<d.length;++p){var v=d[p],y=v.query,g=Pg(e,v);e.listenProvider_.startListening(Fg(y),Dg(e,y),g.hashFn,g.onComplete)}}if(!f&&c.length>0&&!r)if(l){e.listenProvider_.stopListening(Fg(t),null)}else c.forEach((function(t){var n=e.queryToTagMap.get(Og(t));e.listenProvider_.stopListening(Fg(t),n)}))}!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=Og(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}(e,c)}return s}function Cg(e,t,n,r){var i=Lg(e,r);if(null!=i){var a=Mg(i),o=a.path,s=a.queryId,u=Wp(o,t);return Ug(e,o,new sy(ry(s),u,n))}return[]}function Sg(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t._path,a=null,o=!1;e.syncPointTree_.foreachOnPath(i,(function(e,t){var n=Wp(e,i);a=a||dg(t,n),o=o||yg(t)}));var s,u=e.syncPointTree_.get(i);(u?(o=o||yg(u),a=a||dg(u,Up())):(u=new sg,e.syncPointTree_=e.syncPointTree_.set(i,u)),null!=a)?s=!0:(s=!1,a=Tv.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((function(e,t){var n=dg(t,Up());n&&(a=a.updateImmediateChild(e,n))})));var c=vg(u,t);if(!c&&!t._queryParams.loadsAllData()){var l=Og(t);fs(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var f=mg++;e.queryToTagMap.set(l,f),e.tagToQueryMap.set(f,l)}var h=lg(u,t,n,Ty(e.pendingWriteTree_,i),a,s);if(!c&&!o&&!r){var d=pg(u,t);h=h.concat(function(e,t,n){var r=t._path,i=Dg(e,t),a=Pg(e,n),o=e.listenProvider_.startListening(Fg(t),i,a.hashFn,a.onComplete),s=e.syncPointTree_.subtree(r);if(i)fs(!yg(s.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold((function(e,t,n){if(!Hp(e)&&t&&yg(t))return[gg(t).query];var r=[];return t&&(r=r.concat(hg(t).map((function(e){return e.query})))),np(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<u.length;++c){var l=u[c];e.listenProvider_.stopListening(Fg(l),Dg(e,l))}return o}(e,t,d))}return h}function Ig(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=dg(n,Wp(e,t));if(r)return r}));return Oy(r,t,i,n,!0)}function xg(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=Wp(e,n);r=r||dg(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||dg(i,Up()):(i=new sg,e.syncPointTree_=e.syncPointTree_.set(n,i));var a=null!=r,o=a?new cy(r,!0,!1):null;return function(e){return vy(e.viewCache_)}(cg(i,t,Ty(e.pendingWriteTree_,t._path),a?o.getNode():Tv.EMPTY_NODE,a))}function Tg(e,t){return Ng(t,e.syncPointTree_,null,Ty(e.pendingWriteTree_,Up()))}function Ng(e,t,n,r){if(Hp(e.path))return Rg(e,t,n,r);var i=t.get(Up());null==n&&null!=i&&(n=dg(i,Up()));var a=[],o=Fp(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var c=n?n.getImmediateChild(o):null,l=Vy(r,o);a=a.concat(Ng(s,u,c,l))}return i&&(a=a.concat(ug(i,e,r,n))),a}function Rg(e,t,n,r){var i=t.get(Up());null==n&&null!=i&&(n=dg(i,Up()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=Vy(r,t),u=e.operationForChild(t);u&&(a=a.concat(Rg(u,i,o,s)))})),i&&(a=a.concat(ug(i,e,r,n))),a}function Pg(e,t){var n=t.query,r=Dg(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||Tv.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=Lg(e,n);if(r){var i=Mg(r),a=i.path,o=i.queryId,s=Wp(a,t);return Ug(e,a,new oy(ry(o),s))}return[]}(e,n._path,r):function(e,t){return Tg(e,new oy({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Eg(e,n,null,i)}}}function Dg(e,t){var n=Og(t);return e.queryToTagMap.get(n)}function Og(e){return e._path.toString()+"$"+e._queryIdentifier}function Lg(e,t){return e.tagToQueryMap.get(t)}function Mg(e){var t=e.indexOf("$");return fs(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Mp(e.substr(0,t))}}function Ug(e,t,n){var r=e.syncPointTree_.get(t);return fs(r,"Missing sync point for query tag that we're tracking"),ug(r,n,Ty(e.pendingWriteTree_,t),null)}function Fg(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(fs(og,"Reference.ts has not been loaded"),og)(e._repo,e._path):e}var Bg=function(){function e(t){d(this,e),this.node_=t}return g(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),jg=function(){function e(t,n){d(this,e),this.syncTree_=t,this.path_=n}return g(e,[{key:"getImmediateChild",value:function(t){var n=Qp(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return Ig(this.syncTree_,this.path_)}}]),e}(),Vg=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},qg=function(e,t,n){return e&&"object"===typeof e?(fs(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?zg(e[".sv"],t,n):"object"===typeof e[".sv"]?Qg(e[".sv"],t):void fs(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},zg=function(e,t,n){if("timestamp"===e)return n.timestamp;fs(!1,"Unexpected server value: "+e)},Qg=function(e,t,n){e.hasOwnProperty("increment")||fs(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&fs(!1,"Unexpected increment value: "+r);var i=t.node();if(fs(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},Hg=function(e,t,n,r){return Kg(t,new jg(n,e),r)},Wg=function(e,t,n){return Kg(e,new Bg(t),n)};function Kg(e,t,n){var r,i=e.getPriority().val(),a=qg(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=qg(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new Av(s,Pv(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new Av(a))),u.forEachChild(_v,(function(e,i){var a=Kg(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var Gg=g((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};d(this,e),this.name=t,this.parent=n,this.node=r}));function Yg(e,t){for(var n=t instanceof Mp?t:new Mp(t),r=e,i=Fp(n);null!==i;){var a=qs(r.node.children,i)||{children:{},childCount:0};r=new Gg(i,r,a),i=Fp(n=jp(n))}return r}function Jg(e){return e.node.value}function Xg(e,t){e.node.value=t,nm(e)}function Zg(e){return e.node.childCount>0}function $g(e,t){np(e.node.children,(function(n,r){t(new Gg(n,e,r))}))}function em(e,t,n,r){n&&!r&&t(e),$g(e,(function(e){em(e,t,!0,r)})),n&&r&&t(e)}function tm(e){return new Mp(null===e.parent?e.name:tm(e.parent)+"/"+e.name)}function nm(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Jg(e)&&!Zg(e)}(n),i=Vs(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,nm(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,nm(e))}(e.parent,e.name,e)}var rm=/[\[\].#$\/\u0000-\u001F\u007F]/,im=/[\[\].#$\u0000-\u001F\u007F]/,am=10485760,om=function(e){return"string"===typeof e&&0!==e.length&&!rm.test(e)},sm=function(e){return"string"===typeof e&&0!==e.length&&!im.test(e)},um=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!Gd(e)||e&&"object"===typeof e&&Vs(e,".sv")},cm=function(e,t,n,r){r&&void 0===t||lm($s(e,"value"),t,n)},lm=function e(t,n,r){var i=r instanceof Mp?new Jp(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+Zp(i));if("function"===typeof n)throw new Error(t+"contains a function "+Zp(i)+" with contents = "+n.toString());if(Gd(n))throw new Error(t+"contains "+n.toString()+" "+Zp(i));if("string"===typeof n&&n.length>am/3&&eu(n)>am)throw new Error(t+"contains a string greater than "+am+" utf8 bytes "+Zp(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(np(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!om(n)))throw new Error(t+" contains an invalid key ("+n+") "+Zp(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=eu(t),Xp(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=eu(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+Zp(i)+" in addition to actual children.")}},fm=function(e,t,n,r){if(!r||void 0!==t){var i=$s(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];np(t,(function(e,t){var r=new Mp(e);if(lm(i,t,Qp(n,r)),".priority"===Vp(r)&&!um(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=qp(r=t[n]),a=0;a<i.length;a++)if(".priority"===i[a]&&a===i.length-1);else if(!om(i[a]))throw new Error(e+"contains an invalid key ("+i[a]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(Kp);var o=null;for(n=0;n<t.length;n++){if(r=t[n],null!==o&&Yp(o,r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(i,a)}},hm=function(e,t,n,r){if((!r||void 0!==n)&&!om(n))throw new Error($s(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},dm=function(e,t,n,r){if((!r||void 0!==n)&&!sm(n))throw new Error($s(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},pm=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),dm(e,t,n,r)},vm=function(e,t){if(".info"===Fp(t))throw new Error(e+" failed = Can't modify data under /.info/")},ym=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!om(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),sm(e)}(n))throw new Error($s(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},gm=g((function e(){d(this,e),this.eventLists_=[],this.recursionDepth_=0}));function mm(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||Gp(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function Am(e,t,n){mm(e,n),wm(e,(function(e){return Gp(e,t)}))}function km(e,t,n){mm(e,n),wm(e,(function(e){return Yp(e,t)||Yp(t,e)}))}function wm(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(bm(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function bm(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();jd&&zd("event: "+n.toString()),op(r)}}}var _m="repo_interrupt",Em=25,Cm=function(){function e(t,n,r,i){d(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new gm,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Xv(),this.transactionQueueTree_=new Gg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return g(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function Sm(e,t,n){if(e.stats_=bp(e.repoInfo_),e.forceRestClient_||sp())e.server_=new Yv(e.repoInfo_,(function(t,n,r,i){Tm(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return Nm(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Bs(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new tv(e.repoInfo_,t,(function(t,n,r,i){Tm(e,t,n,r,i)}),(function(t){Nm(e,t)}),(function(t){!function(e,t){np(t,(function(t,n){Rm(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return wp[n]||(wp[n]=t()),wp[n]}(e.repoInfo_,(function(){return new ny(e.stats_,e.server_)})),e.infoData_=new Jv,e.infoSyncTree_=new Ag({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=_g(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),Rm(e,"connected",!1),e.serverSyncTree_=new Ag({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);km(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function Im(e){var t=e.infoData_.getNode(new Mp(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function xm(e){return Vg({timestamp:Im(e)})}function Tm(e,t,n,r,i){e.dataUpdateCount++;var a=new Mp(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=Qs(n,(function(e){return Pv(e)}));o=function(e,t,n,r){var i=Lg(e,r);if(i){var a=Mg(i),o=a.path,s=a.queryId,u=Wp(o,t),c=gy.fromObject(n);return Ug(e,o,new uy(ry(s),u,c))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=Pv(n);o=Cg(e.serverSyncTree_,a,u,i)}else if(r){var c=Qs(n,(function(e){return Pv(e)}));o=function(e,t,n){var r=gy.fromObject(n);return Tg(e,new uy({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var l=Pv(n);o=_g(e.serverSyncTree_,a,l)}var f=a;o.length>0&&(f=jm(e,a)),km(e.eventQueue_,f,o)}function Nm(e,t){Rm(e,"connected",t),!1===t&&function(e){Mm(e,"onDisconnectEvents");var t=xm(e),n=Xv();$v(e.onDisconnect_,Up(),(function(r,i){var a=Hg(r,i,e.serverSyncTree_,t);Zv(n,r,a)}));var r=[];$v(n,Up(),(function(t,n){r=r.concat(_g(e.serverSyncTree_,t,n));var i=Hm(e,t);jm(e,i)})),e.onDisconnect_=Xv(),km(e.eventQueue_,Up(),r)}(e)}function Rm(e,t,n){var r=new Mp("/.info/"+t),i=Pv(n);e.infoData_.updateSnapshot(r,i);var a=_g(e.infoSyncTree_,r,i);km(e.eventQueue_,r,a)}function Pm(e){return e.nextWriteId_++}function Dm(e,t,n,r,i){Mm(e,"set",{path:t.toString(),value:n,priority:r});var a=xm(e),o=Pv(n,r),s=Ig(e.serverSyncTree_,t),u=Wg(o,s,a),c=Pm(e),l=kg(e.serverSyncTree_,t,u,c,!0);mm(e.eventQueue_,l),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||Kd("set at "+t+" failed: "+n);var o=bg(e.serverSyncTree_,c,!a);km(e.eventQueue_,t,o),Um(e,i,n,r)}));var f=Hm(e,t);jm(e,f),km(e.eventQueue_,f,[])}function Om(e,t,n){var r;r=".info"===Fp(t._path)?Eg(e.infoSyncTree_,t,n):Eg(e.serverSyncTree_,t,n),Am(e.eventQueue_,t._path,r)}function Lm(e){e.persistentConnection_&&e.persistentConnection_.interrupt(_m)}function Mm(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];zd.apply(void 0,[t].concat(r))}function Um(e,t,n,r){t&&op((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function Fm(e,t,n){return Ig(e.serverSyncTree_,t,n)||Tv.EMPTY_NODE}function Bm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||Qm(e,t),Jg(t)){var n=qm(e,t);fs(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=Fm(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];fs(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=Wp(t,u.path);a=a.updateChild(c,u.currentOutputSnapshotRaw)}var l=a.val(!0),f=t;e.server_.put(f.toString(),l,(function(r){Mm(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(bg(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);Qm(e,Yg(e.transactionQueueTree_,t)),Bm(e,e.transactionQueueTree_),km(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)op(a[u])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{Kd("transaction at "+f.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}jm(e,t)}}),o)}(e,tm(t),n)}else Zg(t)&&$g(t,(function(t){Bm(e,t)}))}function jm(e,t){var n=Vm(e,t),r=tm(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),s=function(a){var s,u,c=t[a],l=Wp(n,c.path),f=!1;if(fs(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)f=!0,s=c.abortReason,i=i.concat(bg(e.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=Em)f=!0,s="maxretry",i=i.concat(bg(e.serverSyncTree_,c.currentWriteId,!0));else{var h=Fm(e,c.path,o);c.currentInputSnapshot=h;var d=t[a].update(h.val());if(void 0!==d){lm("transaction failed: Data returned ",d,c.path);var p=Pv(d);"object"===typeof d&&null!=d&&Vs(d,".priority")||(p=p.updatePriority(h.getPriority()));var v=c.currentWriteId,y=xm(e),g=Wg(p,h,y);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=g,c.currentWriteId=Pm(e),o.splice(o.indexOf(v),1),i=(i=i.concat(kg(e.serverSyncTree_,c.path,g,c.currentWriteId,c.applyLocally))).concat(bg(e.serverSyncTree_,v,!0))}else f=!0,s="nodata",i=i.concat(bg(e.serverSyncTree_,c.currentWriteId,!0))}km(e.eventQueue_,n,i),i=[],f&&(t[a].status=2,u=t[a].unwatcher,setTimeout(u,Math.floor(0)),t[a].onComplete&&("nodata"===s?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(s),!1,null)}))))},u=0;u<t.length;u++)s(u);Qm(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)op(r[c]);Bm(e,e.transactionQueueTree_)}(e,qm(e,n),r),r}function Vm(e,t){var n,r=e.transactionQueueTree_;for(n=Fp(t);null!==n&&void 0===Jg(r);)r=Yg(r,n),n=Fp(t=jp(t));return r}function qm(e,t){var n=[];return zm(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function zm(e,t,n){var r=Jg(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);$g(t,(function(t){zm(e,t,n)}))}function Qm(e,t){var n=Jg(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Xg(t,n.length>0?n:void 0)}$g(t,(function(t){Qm(e,t)}))}function Hm(e,t){var n=tm(Vm(e,t)),r=Yg(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){Wm(e,t)})),Wm(e,r),em(r,(function(t){Wm(e,t)})),n}function Wm(e,t){var n=Jg(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(fs(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(fs(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(bg(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?Xg(t,void 0):n.length=a+1,km(e.eventQueue_,tm(t),i);for(var s=0;s<r.length;s++)op(r[s])}}var Km=function(e,t){var n=Gm(e),r=n.namespace;"firebase.com"===n.domain&&Wd(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Wd("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Kd("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new gp(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Mp(n.pathString)}},Gm=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(l,f)),l<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(l,f)));var h=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=S(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):Kd("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,f)));(c=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var d=t.slice(0,c);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in h&&(a=h.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},Ym="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Jm=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=Ym.charAt(n%64),n=Math.floor(n/64);fs(0===n,"Cannot push at time == 0");var o=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=Ym.charAt(t[r]);return fs(20===o.length,"nextPushId: Length should be 20."),o}}(),Xm=function(){function e(t,n,r,i){d(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return g(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+Bs(this.snapshot.exportVal())}}]),e}(),Zm=function(){function e(t,n,r){d(this,e),this.eventRegistration=t,this.error=n,this.path=r}return g(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),$m=function(){function e(t,n){d(this,e),this.snapshotCallback=t,this.cancelCallback=n}return g(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return fs(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),eA=function(){function e(t,n,r,i){d(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return g(e,[{key:"key",get:function(){return Hp(this._path)?null:Vp(this._path)}},{key:"ref",get:function(){return new iA(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=Gv(this._queryParams),t=ep(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return Gv(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=tu(t))instanceof e))return!1;var n=this._repo===t._repo,r=Gp(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();function tA(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function nA(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===ov){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==Yd)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==Jd)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===_v){if(null!=t&&!um(t)||null!=n&&!um(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(fs(e.getIndex()instanceof Dv||e.getIndex()===Lv,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function rA(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var iA=function(e){A(n,e);var t=_(n);function n(e,r){return d(this,n),t.call(this,e,r,new zv,!1)}return g(n,[{key:"parent",get:function(){var e=zp(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(eA),aA=function(){function e(t,n,r){d(this,e),this._node=t,this.ref=n,this._index=r}return g(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new Mp(t),r=sA(this.ref,t);return new e(this._node.getChild(n),r,_v)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,sA(n.ref,r),_v))}))}},{key:"hasChild",value:function(e){var t=new Mp(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function oA(e,t){return(e=tu(e))._checkNotDeleted("ref"),void 0!==t?sA(e._root,t):e._root}function sA(e,t){return null===Fp((e=tu(e))._path)?pm("child","path",t,!1):dm("child","path",t,!1),new iA(e._repo,Qp(e._path,t))}function uA(e,t){e=tu(e),vm("push",e._path),cm("push",t,e._path,!0);var n,r=Im(e._repo),i=Jm(r),a=sA(e,i),o=sA(e,i);return n=null!=t?cA(o,t).then((function(){return o})):Promise.resolve(o),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function cA(e,t){e=tu(e),vm("set",e._path),cm("set",t,e._path,!1);var n=new Is;return Dm(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function lA(e,t){fm("update",t,e._path,!1);var n=new Is;return function(e,t,n,r){Mm(e,"update",{path:t.toString(),value:n});var i=!0,a=xm(e),o={};if(np(n,(function(n,r){i=!1,o[n]=Hg(Qp(t,n),Pv(r),e.serverSyncTree_,a)})),i)zd("update() called with empty data.  Don't do anything."),Um(0,r,"ok",void 0);else{var s=Pm(e),u=wg(e.serverSyncTree_,t,o,s);mm(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var a="ok"===n;a||Kd("update at "+t+" failed: "+n);var o=bg(e.serverSyncTree_,s,!a),u=o.length>0?jm(e,t):t;km(e.eventQueue_,u,o),Um(0,r,n,i)})),np(n,(function(n){var r=Hm(e,Qp(t,n));jm(e,r)})),km(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function fA(e){e=tu(e);var t=new $m((function(){})),n=new hA(t);return function(e,t,n){var r=xg(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((function(r){var i,a=Pv(r).withIndex(t._queryParams.getIndex());if(Sg(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())i=_g(e.serverSyncTree_,t._path,a);else{var o=Dg(e.serverSyncTree_,t);i=Cg(e.serverSyncTree_,t._path,a,o)}return km(e.eventQueue_,t._path,i),Eg(e.serverSyncTree_,t,n,null,!0),a}),(function(n){return Mm(e,"get for query "+Bs(t)+" failed: "+n),Promise.reject(new Error(n))}))}(e._repo,e,n).then((function(t){return new aA(t,new iA(e._repo,e._path),e._queryParams.getIndex())}))}var hA=function(){function e(t){d(this,e),this.callbackContext=t}return g(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new Xm("value",this,new aA(e.snapshotNode,new iA(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new Zm(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),dA=function(){function e(t,n){d(this,e),this.eventType=t,this.callbackContext=n}return g(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new Zm(this,e,t):null}},{key:"createEvent",value:function(e,t){fs(null!=e.childName,"Child events should have a childName.");var n=sA(new iA(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Xm(e.type,this,new aA(e.snapshotNode,n,r),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function pA(e,t,n,r,i){var a;if("object"===typeof r&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var o=n,s=function(t,n){Om(e._repo,e,c),o(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new $m(n,a||void 0),c="value"===t?new hA(u):new dA(t,u);return function(e,t,n){var r;r=".info"===Fp(t._path)?Sg(e.infoSyncTree_,t,n):Sg(e.serverSyncTree_,t,n),Am(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return Om(e._repo,e,c)}}function vA(e,t,n,r){return pA(e,"value",t,n,r)}var yA=g((function e(){d(this,e)})),gA=function(e){A(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this))._value=e,i._key=r,i}return g(n,[{key:"_apply",value:function(e){cm("endAt",this._value,e._path,!0);var t=Hv(e._queryParams,this._value,this._key);if(rA(t),nA(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new eA(e._repo,e._path,t,e._orderByCalled)}}]),n}(yA);var mA=function(e){A(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this))._value=e,i._key=r,i}return g(n,[{key:"_apply",value:function(e){cm("startAt",this._value,e._path,!0);var t=Qv(e._queryParams,this._value,this._key);if(rA(t),nA(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new eA(e._repo,e._path,t,e._orderByCalled)}}]),n}(yA);var AA=function(e){A(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this))._path=e,r}return g(n,[{key:"_apply",value:function(e){tA(e,"orderByChild");var t=new Mp(this._path);if(Hp(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new Dv(t),r=Wv(e._queryParams,n);return nA(r),new eA(e._repo,e._path,r,!0)}}]),n}(yA);function kA(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return dm("orderByChild","path",e,!1),new AA(e)}var wA=function(e){A(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this))._value=e,i._key=r,i}return g(n,[{key:"_apply",value:function(e){if(cm("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new gA(this._value,this._key)._apply(new mA(this._value,this._key)._apply(e))}}]),n}(yA);function bA(e){for(var t=tu(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0,o=r;a<o.length;a++){t=o[a]._apply(t)}return t}!function(e){fs(!$y,"__referenceConstructor has already been defined"),$y=e}(iA),function(e){fs(!og,"__referenceConstructor has already been defined"),og=e}(iA);var _A="FIREBASE_DATABASE_EMULATOR_HOST",EA={},CA=!1;function SA(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||Wd("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),zd("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=Km(a,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"/React-it-kamasutra",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[_A]),c?(o=!0,a="http://".concat(c,"?ns=").concat(u.namespace),u=(s=Km(a,i)).repoInfo):o=!s.repoInfo.secure;var l=i&&o?new fp(fp.OWNER):new lp(e.name,e.options,t);ym("Invalid Firebase Database URL",s),Hp(s.path)||Wd("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=EA[t.name];i||(i={},EA[t.name]=i);var a=i[e.toURLString()];a&&Wd("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new Cm(e,CA,n,r),i[e.toURLString()]=a,a}(u,e,l,new cp(e.name,n));return new IA(f,e)}var IA=function(){function e(t,n){d(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return g(e,[{key:"_repo",get:function(){return this._instanceStarted||(Sm(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new iA(this._repo,Up())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=EA[t];n&&n[e.key]===e||Wd("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),Lm(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&Wd("Cannot call "+e+" on a deleted database.")}}]),e}();function xA(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yu(),t=arguments.length>1?arguments[1]:void 0,n=zu(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){var r=Es("database");r&&TA.apply(void 0,[n].concat(h(r)))}return n}function TA(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=tu(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&Wd("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Wd('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new fp(fp.OWNER);else if(r.mockUserToken){var o="string"===typeof r.mockUserToken?r.mockUserToken:xs(r.mockUserToken,e.app.options.projectId);a=new fp(o)}!function(e,t,n,r){e.repoInfo_=new gp("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,a)}tv.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},tv.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){!function(e){Nd=e}(Ku),qu(new nu("database",(function(e,t){var n=t.instanceIdentifier;return SA(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Ju(xd,Td,e),Ju(xd,Td,"esm2017")}();Ju("firebase","9.17.2","app");var NA,RA="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},PA={},DA=DA||{},OA=RA||self;function LA(){}function MA(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function UA(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var FA="closure_uid_"+(1e9*Math.random()>>>0),BA=0;function jA(e,t,n){return e.call.apply(e.bind,arguments)}function VA(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function qA(e,t,n){return(qA=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?jA:VA).apply(null,arguments)}function zA(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function QA(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function HA(){this.s=this.s,this.o=this.o}HA.prototype.s=!1,HA.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,FA)&&e[FA]||(e[FA]=++BA))},HA.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var WA=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function KA(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function GA(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(MA(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function YA(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}YA.prototype.h=function(){this.defaultPrevented=!0};var JA=function(){if(!OA.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{OA.addEventListener("test",LA,t),OA.removeEventListener("test",LA,t)}catch(n){}return e}();function XA(e){return/^[\s\xa0]*$/.test(e)}var ZA=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function $A(e,t){return e<t?-1:e>t?1:0}function ek(){var e=OA.navigator;return e&&(e=e.userAgent)?e:""}function tk(e){return-1!=ek().indexOf(e)}function nk(e){return nk[" "](e),e}nk[" "]=LA;var rk,ik=tk("Opera"),ak=tk("Trident")||tk("MSIE"),ok=tk("Edge"),sk=ok||ak,uk=tk("Gecko")&&!(-1!=ek().toLowerCase().indexOf("webkit")&&!tk("Edge"))&&!(tk("Trident")||tk("MSIE"))&&!tk("Edge"),ck=-1!=ek().toLowerCase().indexOf("webkit")&&!tk("Edge");function lk(){var e=OA.document;return e?e.documentMode:void 0}e:{var fk="",hk=function(){var e=ek();return uk?/rv:([^\);]+)(\)|;)/.exec(e):ok?/Edge\/([\d\.]+)/.exec(e):ak?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):ck?/WebKit\/(\S+)/.exec(e):ik?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(hk&&(fk=hk?hk[1]:""),ak){var dk=lk();if(null!=dk&&dk>parseFloat(fk)){rk=String(dk);break e}}rk=fk}var pk,vk={};function yk(){return function(e){var t=vk;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=ZA(String(rk)).split("."),n=ZA("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=$A(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||$A(0==a[2].length,0==o[2].length)||$A(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(OA.document&&ak){var gk=lk();pk=gk||(parseInt(rk,10)||void 0)}else pk=void 0;var mk=pk;function Ak(e,t){if(YA.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(uk){e:{try{nk(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:kk[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ak.X.h.call(this)}}QA(Ak,YA);var kk={2:"touch",3:"pen",4:"mouse"};Ak.prototype.h=function(){Ak.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var wk="closure_listenable_"+(1e6*Math.random()|0),bk=0;function _k(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++bk,this.ba=this.ea=!1}function Ek(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Ck(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Sk(e){var t={};for(var n in e)t[n]=e[n];return t}var Ik="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xk(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Ik.length;a++)n=Ik[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Tk(e){this.src=e,this.g={},this.h=0}function Nk(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=WA(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Ek(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Rk(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}Tk.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Rk(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new _k(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var Pk="closure_lm_"+(1e6*Math.random()|0),Dk={};function Ok(e,t,n,r,i){if(r&&r.once)return Mk(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ok(e,t[a],n,r,i);return null}return n=zk(n),e&&e[wk]?e.N(t,n,UA(r)?!!r.capture:!!r,i):Lk(e,t,n,!1,r,i)}function Lk(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=UA(i)?!!i.capture:!!i,s=Vk(e);if(s||(e[Pk]=s=new Tk(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=jk;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)JA||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Bk(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Mk(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Mk(e,t[a],n,r,i);return null}return n=zk(n),e&&e[wk]?e.O(t,n,UA(r)?!!r.capture:!!r,i):Lk(e,t,n,!0,r,i)}function Uk(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Uk(e,t[a],n,r,i);else r=UA(r)?!!r.capture:!!r,n=zk(n),e&&e[wk]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Rk(a=e.g[t],n,r,i))&&(Ek(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Vk(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Rk(t,n,r,i)),(n=-1<e?t[e]:null)&&Fk(n))}function Fk(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[wk])Nk(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Bk(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Vk(t))?(Nk(n,e),0==n.h&&(n.src=null,t[Pk]=null)):Ek(e)}}}function Bk(e){return e in Dk?Dk[e]:Dk[e]="on"+e}function jk(e,t){if(e.ba)e=!0;else{t=new Ak(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&Fk(e),e=n.call(r,t)}return e}function Vk(e){return(e=e[Pk])instanceof Tk?e:null}var qk="__closure_events_fn_"+(1e9*Math.random()>>>0);function zk(e){return"function"===typeof e?e:(e[qk]||(e[qk]=function(t){return e.handleEvent(t)}),e[qk])}function Qk(){HA.call(this),this.i=new Tk(this),this.P=this,this.I=null}function Hk(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new YA(t,e);else if(t instanceof YA)t.target=t.target||e;else{var i=t;xk(t=new YA(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Wk(o,r,!0,t)&&i}if(i=Wk(o=t.g=e,r,!0,t)&&i,i=Wk(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Wk(o=t.g=n[a],r,!1,t)&&i}function Wk(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var s=o.listener,u=o.ha||o.src;o.ea&&Nk(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}QA(Qk,HA),Qk.prototype[wk]=!0,Qk.prototype.removeEventListener=function(e,t,n,r){Uk(this,e,t,n,r)},Qk.prototype.M=function(){if(Qk.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ek(n[r]);delete t.g[e],t.h--}}this.I=null},Qk.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Qk.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Kk=OA.JSON.stringify;function Gk(){var e=nw,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Yk,Jk=function(){function e(){d(this,e),this.h=this.g=null}return g(e,[{key:"add",value:function(e,t){var n=Xk.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Xk=new(function(){function e(t,n){d(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return g(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Zk}),(function(e){return e.reset()})),Zk=function(){function e(){d(this,e),this.next=this.g=this.h=null}return g(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function $k(e){OA.setTimeout((function(){throw e}),0)}function ew(e,t){Yk||function(){var e=OA.Promise.resolve(void 0);Yk=function(){e.then(rw)}}(),tw||(Yk(),tw=!0),nw.add(e,t)}var tw=!1,nw=new Jk;function rw(){for(var e;e=Gk();){try{e.h.call(e.g)}catch(n){$k(n)}var t=Xk;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}tw=!1}function iw(e,t){Qk.call(this),this.h=e||1,this.g=t||OA,this.j=qA(this.lb,this),this.l=Date.now()}function aw(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function ow(e,t,n){if("function"===typeof e)n&&(e=qA(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=qA(e.handleEvent,e)}return 2147483647<Number(t)?-1:OA.setTimeout(e,t||0)}function sw(e){e.g=ow((function(){e.g=null,e.i&&(e.i=!1,sw(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}QA(iw,Qk),(NA=iw.prototype).ca=!1,NA.R=null,NA.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Hk(this,"tick"),this.ca&&(aw(this),this.start()))}},NA.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},NA.M=function(){iw.X.M.call(this),aw(this),delete this.g};var uw=function(e){A(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return g(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:sw(this)}},{key:"M",value:function(){cs(k(n.prototype),"M",this).call(this),this.g&&(OA.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(HA);function cw(e){HA.call(this),this.h=e,this.g={}}QA(cw,HA);var lw=[];function fw(e,t,n,r){Array.isArray(n)||(n&&(lw[0]=n.toString()),n=lw);for(var i=0;i<n.length;i++){var a=Ok(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function hw(e){Ck(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Fk(e)}),e),e.g={}}function dw(){this.g=!0}function pw(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Kk(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}cw.prototype.M=function(){cw.X.M.call(this),hw(this)},cw.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},dw.prototype.Aa=function(){this.g=!1},dw.prototype.info=function(){};var vw={},yw=null;function gw(){return yw=yw||new Qk}function mw(e){YA.call(this,vw.Pa,e)}function Aw(e){var t=gw();Hk(t,new mw(t))}function kw(e,t){YA.call(this,vw.STAT_EVENT,e),this.stat=t}function ww(e){var t=gw();Hk(t,new kw(t,e))}function bw(e,t){YA.call(this,vw.Qa,e),this.size=t}function _w(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return OA.setTimeout((function(){e()}),t)}vw.Pa="serverreachability",QA(mw,YA),vw.STAT_EVENT="statevent",QA(kw,YA),vw.Qa="timingevent",QA(bw,YA);var Ew={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Cw={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Sw(){}function Iw(e){return e.h||(e.h=e.i())}function xw(){}Sw.prototype.h=null;var Tw,Nw={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Rw(){YA.call(this,"d")}function Pw(){YA.call(this,"c")}function Dw(){}function Ow(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new cw(this),this.O=Mw,e=sk?125:void 0,this.T=new iw(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Lw}function Lw(){this.i=null,this.g="",this.h=!1}QA(Rw,YA),QA(Pw,YA),QA(Dw,Sw),Dw.prototype.g=function(){return new XMLHttpRequest},Dw.prototype.i=function(){return{}},Tw=new Dw;var Mw=45e3,Uw={},Fw={};function Bw(e,t,n){e.K=1,e.v=ib($w(t)),e.s=n,e.P=!0,jw(e,null)}function jw(e,t){e.F=Date.now(),Qw(e),e.A=$w(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),gb(n.i,"t",r),e.C=0,n=e.l.H,e.h=new Lw,e.g=m_(e.l,n?t:null,!e.s),0<e.N&&(e.L=new uw(qA(e.La,e,e.g),e.N)),fw(e.S,e.g,"readystatechange",e.ib),t=e.H?Sk(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Aw(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function Vw(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function qw(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=zw(e,n))==Fw){4==t&&(e.o=4,ww(14),i=!1),pw(e.j,e.m,null,"[Incomplete Response]");break}if(r==Uw){e.o=4,ww(15),pw(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}pw(e.j,e.m,r,null),Yw(e,r)}Vw(e)&&r!=Fw&&r!=Uw&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ww(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),l_(t),t.K=!0,ww(11))):(pw(e.j,e.m,n,"[Invalid Chunked Response]"),Gw(e),Kw(e))}function zw(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fw:(n=Number(t.substring(n,r)),isNaN(n)?Uw:(r+=1)+n>t.length?Fw:(t=t.substr(r,n),e.C=r+n,t))}function Qw(e){e.V=Date.now()+e.O,Hw(e,e.O)}function Hw(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=_w(qA(e.gb,e),t)}function Ww(e){e.B&&(OA.clearTimeout(e.B),e.B=null)}function Kw(e){0==e.l.G||e.I||d_(e.l,e)}function Gw(e){Ww(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,aw(e.T),hw(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Yw(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Cb(n.h,e)))if(!e.J&&Cb(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;h_(n),n_(n)}c_(n),ww(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=_w(qA(n.cb,n),6e3));if(1>=Eb(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else v_(n,11)}else if((e.J||n.g==e)&&h_(n),!XA(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var s=a[4];null!=s&&(n.Ca=s,n.j.info("SVER="+n.Ca));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Sb(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,rb(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=g_(r,r.H?r.ka:null,r.V),d.J){Ib(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(Ww(p),Qw(p)),r.g=d}else u_(r);0<n.i.length&&i_(n)}else"stop"!=a[0]&&"close"!=a[0]||v_(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?v_(n,7):t_(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}Aw()}catch(a){}}function Jw(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(MA(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(MA(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(MA(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(NA=Ow.prototype).setTimeout=function(e){this.O=e},NA.ib=function(e){e=e.target;var t=this.L;t&&3==Yb(e)?t.l():this.La(e)},NA.La=function(e){try{if(e==this.g)e:{var t=Yb(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||sk||this.g&&(this.h.h||this.g.fa()||Jb(this.g)))){this.I||4!=t||7==n||Aw(),Ww(this);var r=this.g.aa();this.Y=r;t:if(Vw(this)){var i=Jb(this.g);e="";var a=i.length,o=4==Yb(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Gw(this),Kw(this);var s="";break t}this.h.i=new OA.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!XA(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,ww(12),Gw(this),Kw(this);break e}pw(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Yw(this,r)}this.P?(qw(this,t,s),sk&&this.i&&3==t&&(fw(this.S,this.T,"tick",this.hb),this.T.start())):(pw(this.j,this.m,s,null),Yw(this,s)),4==t&&Gw(this),this.i&&!this.I&&(4==t?d_(this.l,this):(this.i=!1,Qw(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.o=3,ww(12)):(this.o=0,ww(13)),Gw(this),Kw(this)}}}catch(t){}},NA.hb=function(){if(this.g){var e=Yb(this.g),t=this.g.fa();this.C<t.length&&(Ww(this),qw(this,e,t),this.i&&4!=e&&Qw(this))}},NA.cancel=function(){this.I=!0,Gw(this)},NA.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Aw(),ww(17)),Gw(this),this.o=2,Kw(this)):Hw(this,this.V-e)};var Xw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zw(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Zw){this.h=void 0!==t?t:e.h,eb(this,e.j),this.s=e.s,this.g=e.g,tb(this,e.m),this.l=e.l,t=e.i;var n=new db;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),nb(this,n),this.o=e.o}else e&&(n=String(e).match(Xw))?(this.h=!!t,eb(this,n[1]||"",!0),this.s=ab(n[2]||""),this.g=ab(n[3]||"",!0),tb(this,n[4]),this.l=ab(n[5]||"",!0),nb(this,n[6]||"",!0),this.o=ab(n[7]||"")):(this.h=!!t,this.i=new db(null,this.h))}function $w(e){return new Zw(e)}function eb(e,t,n){e.j=n?ab(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function tb(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function nb(e,t,n){t instanceof db?(e.i=t,function(e,t){t&&!e.j&&(pb(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(vb(this,t),gb(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ob(t,fb)),e.i=new db(t,e.h))}function rb(e,t,n){e.i.set(t,n)}function ib(e){return rb(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ab(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ob(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,sb),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function sb(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Zw.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ob(t,ub,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ob(t,ub,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ob(n,"/"==n.charAt(0)?lb:cb,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ob(n,hb)),e.join("")};var ub=/[#\/\?@]/g,cb=/[#\?:]/g,lb=/[#\?]/g,fb=/[#\?@]/g,hb=/#/g;function db(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function pb(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function vb(e,t){pb(e),t=mb(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function yb(e,t){return pb(e),t=mb(e,t),e.g.has(t)}function gb(e,t,n){vb(e,t),0<n.length&&(e.i=null,e.g.set(mb(e,t),KA(n)),e.h+=n.length)}function mb(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(NA=db.prototype).add=function(e,t){pb(this),this.i=null,e=mb(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},NA.forEach=function(e,t){pb(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},NA.oa=function(){pb(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},NA.W=function(e){pb(this);var t=[];if("string"===typeof e)yb(this,e)&&(t=t.concat(this.g.get(mb(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},NA.set=function(e,t){return pb(this),this.i=null,yb(this,e=mb(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},NA.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},NA.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Ab=g((function e(t,n){d(this,e),this.h=t,this.g=n}));function kb(e){this.l=e||bb,OA.PerformanceNavigationTiming?e=0<(e=OA.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(OA.g&&OA.g.Ga&&OA.g.Ga()&&OA.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var wb,bb=10;function _b(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Eb(e){return e.h?1:e.g?e.g.size:0}function Cb(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Sb(e,t){e.g?e.g.add(t):e.h=t}function Ib(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function xb(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=S(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return KA(e.i)}function Tb(){}function Nb(){this.g=new Tb}function Rb(e,t,n){var r=n||"";try{Jw(e,(function(e,n){var i=e;UA(e)&&(i=Kk(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Pb(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Db(e){this.l=e.ac||null,this.j=e.jb||!1}function Ob(e,t){Qk.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Lb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}kb.prototype.cancel=function(){if(this.i=xb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=S(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Tb.prototype.stringify=function(e){return OA.JSON.stringify(e,void 0)},Tb.prototype.parse=function(e){return OA.JSON.parse(e,void 0)},QA(Db,Sw),Db.prototype.g=function(){return new Ob(this.l,this.j)},Db.prototype.i=(wb={},function(){return wb}),QA(Ob,Qk);var Lb=0;function Mb(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function Ub(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Fb(e)}function Fb(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(NA=Ob.prototype).open=function(e,t){if(this.readyState!=Lb)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Fb(this)},NA.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||OA).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},NA.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ub(this)),this.readyState=Lb},NA.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Fb(this)),this.g&&(this.readyState=3,Fb(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof OA.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Mb(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},NA.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ub(this):Fb(this),3==this.readyState&&Mb(this)}},NA.Va=function(e){this.g&&(this.response=this.responseText=e,Ub(this))},NA.Ua=function(e){this.g&&(this.response=e,Ub(this))},NA.ga=function(){this.g&&Ub(this)},NA.setRequestHeader=function(e,t){this.v.append(e,t)},NA.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},NA.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ob.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Bb=OA.JSON.parse;function jb(e){Qk.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Vb,this.K=this.L=!1}QA(jb,Qk);var Vb="",qb=/^https?$/i,zb=["POST","PUT"];function Qb(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Hb(e),Kb(e)}function Hb(e){e.D||(e.D=!0,Hk(e,"complete"),Hk(e,"error"))}function Wb(e){if(e.h&&"undefined"!=typeof DA&&(!e.C[1]||4!=Yb(e)||2!=e.aa()))if(e.v&&4==Yb(e))ow(e.Ha,0,e);else if(Hk(e,"readystatechange"),4==Yb(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Xw)[1]||null;if(!a&&OA.self&&OA.self.location){var o=OA.self.location.protocol;a=o.substr(0,o.length-1)}i=!qb.test(a?a.toLowerCase():"")}t=i}if(t)Hk(e,"complete"),Hk(e,"success");else{e.m=6;try{var s=2<Yb(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.aa()+"]",Hb(e)}}finally{Kb(e)}}}function Kb(e,t){if(e.g){Gb(e);var n=e.g,r=e.C[0]?LA:null;e.g=null,e.C=null,t||Hk(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Gb(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(OA.clearTimeout(e.A),e.A=null)}function Yb(e){return e.g?e.g.readyState:0}function Jb(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Vb:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(O_){return null}}function Xb(e){var t="";return Ck(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Zb(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Xb(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):rb(e,t,n))}function $b(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function e_(e){this.Ca=0,this.i=[],this.j=new dw,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=$b("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=$b("baseRetryDelayMs",5e3,e),this.bb=$b("retryDelaySeedMs",1e4,e),this.$a=$b("forwardChannelMaxRetries",2,e),this.ta=$b("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new kb(e&&e.concurrentRequestLimit),this.Fa=new Nb,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function t_(e){if(r_(e),3==e.G){var t=e.U++,n=$w(e.F);rb(n,"SID",e.I),rb(n,"RID",t),rb(n,"TYPE","terminate"),o_(e,n),(t=new Ow(e,e.j,t,void 0)).K=2,t.v=ib($w(n)),n=!1,OA.navigator&&OA.navigator.sendBeacon&&(n=OA.navigator.sendBeacon(t.v.toString(),"")),!n&&OA.Image&&((new Image).src=t.v,n=!0),n||(t.g=m_(t.l,null),t.g.da(t.v)),t.F=Date.now(),Qw(t)}y_(e)}function n_(e){e.g&&(l_(e),e.g.cancel(),e.g=null)}function r_(e){n_(e),e.u&&(OA.clearTimeout(e.u),e.u=null),h_(e),e.h.cancel(),e.m&&("number"===typeof e.m&&OA.clearTimeout(e.m),e.m=null)}function i_(e){_b(e.h)||e.m||(e.m=!0,ew(e.Ja,e),e.C=0)}function a_(e,t){var n;n=t?t.m:e.U++;var r=$w(e.F);rb(r,"SID",e.I),rb(r,"RID",n),rb(r,"AID",e.T),o_(e,r),e.o&&e.s&&Zb(r,e.o,e.s),n=new Ow(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=s_(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Sb(e.h,n),Bw(n,r,t)}function o_(e,t){e.ia&&Ck(e.ia,(function(e,n){rb(t,n,e)})),e.l&&Jw({},(function(e,n){rb(t,n,e)}))}function s_(e,t,n){n=Math.min(e.i.length,n);var r=e.l?qA(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{Rb(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function u_(e){e.g||e.u||(e.Z=1,ew(e.Ia,e),e.A=0)}function c_(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=_w(qA(e.Ia,e),p_(e,e.A)),e.A++,!0)}function l_(e){null!=e.B&&(OA.clearTimeout(e.B),e.B=null)}function f_(e){e.g=new Ow(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=$w(e.sa);rb(t,"RID","rpc"),rb(t,"SID",e.I),rb(t,"CI",e.L?"0":"1"),rb(t,"AID",e.T),rb(t,"TYPE","xmlhttp"),o_(e,t),e.o&&e.s&&Zb(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=ib($w(t)),n.s=null,n.P=!0,jw(n,e)}function h_(e){null!=e.v&&(OA.clearTimeout(e.v),e.v=null)}function d_(e,t){var n=null;if(e.g==t){h_(e),l_(e),e.g=null;var r=2}else{if(!Cb(e.h,t))return;n=t.D,Ib(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Hk(r=gw(),new bw(r,n)),i_(e)}else u_(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(Eb(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=_w(qA(e.Ja,e,t),p_(e,e.C)),e.C++,!0))}(e,t)||2==r&&c_(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:v_(e,5);break;case 4:v_(e,10);break;case 3:v_(e,6);break;default:v_(e,2)}}function p_(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function v_(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=qA(e.kb,e);n||(n=new Zw("//www.google.com/images/cleardot.gif"),OA.location&&"http"==OA.location.protocol||eb(n,"https"),ib(n)),function(e,t){var n=new dw;if(OA.Image){var r=new Image;r.onload=zA(Pb,n,r,"TestLoadImage: loaded",!0,t),r.onerror=zA(Pb,n,r,"TestLoadImage: error",!1,t),r.onabort=zA(Pb,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=zA(Pb,n,r,"TestLoadImage: timeout",!1,t),OA.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ww(2);e.G=0,e.l&&e.l.va(t),y_(e),r_(e)}function y_(e){if(e.G=0,e.la=[],e.l){var t=xb(e.h);0==t.length&&0==e.i.length||(GA(e.la,t),GA(e.la,e.i),e.h.i.length=0,KA(e.i),e.i.length=0),e.l.ua()}}function g_(e,t,n){var r=n instanceof Zw?$w(n):new Zw(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),tb(r,r.m);else{var i=OA.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Zw(null,void 0);r&&eb(a,r),t&&(a.g=t),i&&tb(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&rb(r,n,t),rb(r,"VER",e.ma),o_(e,r),r}function m_(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new jb(new Db({jb:!0})):new jb(e.ra)).Ka(e.H),t}function A_(){}function k_(){if(ak&&!(10<=Number(mk)))throw Error("Environmental error: no available transport.")}function w_(e,t){Qk.call(this),this.g=new e_(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!XA(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!XA(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new E_(this)}function b_(e){Rw.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function __(){Pw.call(this),this.status=1}function E_(e){this.g=e}(NA=jb.prototype).Ka=function(e){this.L=e},NA.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Tw.g(),this.C=this.u?Iw(this.u):Iw(Tw),this.g.onreadystatechange=qA(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void Qb(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=S(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=OA.FormData&&e instanceof OA.FormData,!(0<=WA(zb,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var c,l=S(n);try{for(l.s();!(c=l.n()).done;){var f=u(c.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){l.e(p)}finally{l.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Gb(this),0<this.B&&((this.K=function(e){return ak&&yk()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=qA(this.qa,this)):this.A=ow(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Qb(this,s)}},NA.qa=function(){"undefined"!=typeof DA&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Hk(this,"timeout"),this.abort(8))},NA.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Hk(this,"complete"),Hk(this,"abort"),Kb(this))},NA.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Kb(this,!0)),jb.X.M.call(this)},NA.Ha=function(){this.s||(this.F||this.v||this.l?Wb(this):this.fb())},NA.fb=function(){Wb(this)},NA.aa=function(){try{return 2<Yb(this)?this.g.status:-1}catch(wb){return-1}},NA.fa=function(){try{return this.g?this.g.responseText:""}catch(wb){return""}},NA.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Bb(t)}},NA.Ea=function(){return this.m},NA.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(NA=e_.prototype).ma=8,NA.G=1,NA.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new Ow(this,this.j,e,void 0),n=this.s;if(this.S&&(n?xk(n=Sk(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=s_(this,t,r),rb(i=$w(this.F),"RID",e),rb(i,"CVER",22),this.D&&rb(i,"X-HTTP-Session-Id",this.D),o_(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(Xb(n)))+"&"+r:this.o&&Zb(i,this.o,n)),Sb(this.h,t),this.Ya&&rb(i,"TYPE","init"),this.O?(rb(i,"$req",r),rb(i,"SID","null"),t.Z=!0,Bw(t,i,null)):Bw(t,i,r),this.G=2}}else 3==this.G&&(e?a_(this,e):0==this.i.length||_b(this.h)||a_(this))},NA.Ia=function(){if(this.u=null,f_(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=_w(qA(this.eb,this),e)}},NA.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,ww(10),n_(this),f_(this))},NA.cb=function(){null!=this.v&&(this.v=null,n_(this),c_(this),ww(19))},NA.kb=function(e){e?(this.j.info("Successfully pinged google.com"),ww(2)):(this.j.info("Failed to ping google.com"),ww(1))},(NA=A_.prototype).xa=function(){},NA.wa=function(){},NA.va=function(){},NA.ua=function(){},NA.Ra=function(){},k_.prototype.g=function(e,t){return new w_(e,t)},QA(w_,Qk),w_.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;ww(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=g_(e,null,e.V),i_(e)},w_.prototype.close=function(){t_(this.g)},w_.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Kk(e),e=n);t.i.push(new Ab(t.ab++,e)),3==t.G&&i_(t)},w_.prototype.M=function(){this.g.l=null,delete this.j,t_(this.g),delete this.g,w_.X.M.call(this)},QA(b_,Rw),QA(__,Pw),QA(E_,A_),E_.prototype.xa=function(){Hk(this.g,"a")},E_.prototype.wa=function(e){Hk(this.g,new b_(e))},E_.prototype.va=function(e){Hk(this.g,new __)},E_.prototype.ua=function(){Hk(this.g,"b")},k_.prototype.createWebChannel=k_.prototype.g,w_.prototype.send=w_.prototype.u,w_.prototype.open=w_.prototype.m,w_.prototype.close=w_.prototype.close,Ew.NO_ERROR=0,Ew.TIMEOUT=8,Ew.HTTP_ERROR=6,Cw.COMPLETE="complete",xw.EventType=Nw,Nw.OPEN="a",Nw.CLOSE="b",Nw.ERROR="c",Nw.MESSAGE="d",Qk.prototype.listen=Qk.prototype.N,jb.prototype.listenOnce=jb.prototype.O,jb.prototype.getLastError=jb.prototype.Oa,jb.prototype.getLastErrorCode=jb.prototype.Ea,jb.prototype.getStatus=jb.prototype.aa,jb.prototype.getResponseJson=jb.prototype.Sa,jb.prototype.getResponseText=jb.prototype.fa,jb.prototype.send=jb.prototype.da,jb.prototype.setWithCredentials=jb.prototype.Ka;var C_=PA.createWebChannelTransport=function(){return new k_},S_=PA.getStatEventTarget=function(){return gw()},I_=PA.ErrorCode=Ew,x_=PA.EventType=Cw,T_=PA.Event=vw,N_=PA.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},R_=PA.FetchXmlHttpFactory=Db,P_=PA.WebChannel=xw,D_=PA.XhrIo=jb,O_="@firebase/firestore",L_=function(){function e(t){d(this,e),this.uid=t}return g(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();L_.UNAUTHENTICATED=new L_(null),L_.GOOGLE_CREDENTIALS=new L_("google-credentials-uid"),L_.FIRST_PARTY=new L_("first-party-uid"),L_.MOCK_USER=new L_("mock-user");var M_="9.17.2",U_=new du("@firebase/firestore");function F_(){return U_.logLevel}function B_(e){if(U_.logLevel<=ou.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(q_);U_.debug.apply(U_,["Firestore (".concat(M_,"): ").concat(e)].concat(h(i)))}}function j_(e){if(U_.logLevel<=ou.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(q_);U_.error.apply(U_,["Firestore (".concat(M_,"): ").concat(e)].concat(h(i)))}}function V_(e){if(U_.logLevel<=ou.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(q_);U_.warn.apply(U_,["Firestore (".concat(M_,"): ").concat(e)].concat(h(i)))}}function q_(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function z_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(M_,") INTERNAL ASSERTION FAILED: ")+e;throw j_(t),new Error(t)}function Q_(e,t){e||z_()}function H_(e,t){return e}var W_={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},K_=function(e){A(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return g(n)}(Ls),G_=g((function e(){var t=this;d(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Y_=g((function e(t,n){d(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),J_=function(){function e(){d(this,e)}return g(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(L_.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),X_=function(){function e(t){d(this,e),this.token=t,this.changeListener=null}return g(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Z_=function(){function e(t){d(this,e),this.t=t,this.currentUser=L_.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return g(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new G_;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new G_,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(as(rs().mark((function e(){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){B_("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(B_("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new G_)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(B_("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Q_("string"==typeof n.accessToken),new Y_(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Q_(null===e||"string"==typeof e),new L_(e)}}]),e}(),$_=function(){function e(t,n,r,i){d(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=L_.FIRST_PARTY,this.p=new Map}return g(e,[{key:"I",value:function(){return this.g?this.g():(Q_(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),eE=function(){function e(t,n,r,i){d(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return g(e,[{key:"getToken",value:function(){return Promise.resolve(new $_(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(L_.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),tE=g((function e(t){d(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),nE=function(){function e(t){d(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return g(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&B_("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,B_("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){B_("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):B_("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Q_("string"==typeof t.token),e.A=t.token,new tE(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function rE(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var iE=function(){function e(){d(this,e)}return g(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=rE(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function aE(e,t){return e<t?-1:e>t?1:0}function oE(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var sE=function(){function e(t,n){if(d(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new K_(W_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K_(W_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new K_(W_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new K_(W_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return g(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?aE(this.nanoseconds,e.nanoseconds):aE(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),uE=function(){function e(t){d(this,e),this.timestamp=t}return g(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new sE(0,0))}},{key:"max",value:function(){return new e(new sE(253402300799,999999999))}}]),e}(),cE=function(){function e(t,n,r){d(this,e),void 0===n?n=0:n>t.length&&z_(),void 0===r?r=t.length-n:r>t.length-n&&z_(),this.segments=t,this.offset=n,this.len=r}return g(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),lE=function(e){A(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new K_(W_.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,h(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(cE),fE=/^[_a-zA-Z][_a-zA-Z0-9]*$/,hE=function(e){A(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return fE.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new K_(W_.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new K_(W_.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new K_(W_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new K_(W_.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(cE),dE=function(){function e(t){d(this,e),this.path=t}return g(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===lE.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(lE.fromString(t))}},{key:"fromName",value:function(t){return new e(lE.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(lE.emptyPath())}},{key:"comparator",value:function(e,t){return lE.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new lE(t.slice()))}}]),e}(),pE=g((function e(t,n,r,i){d(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));pE.UNKNOWN_ID=-1;function vE(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=uE.fromTimestamp(1e9===r?new sE(n+1,0):new sE(n,r));return new gE(i,dE.empty(),t)}function yE(e){return new gE(e.readTime,e.key,-1)}var gE=function(){function e(t,n,r){d(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return g(e,null,[{key:"min",value:function(){return new e(uE.min(),dE.empty(),-1)}},{key:"max",value:function(){return new e(uE.max(),dE.empty(),-1)}}]),e}();function mE(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=dE.comparator(e.documentKey,t.documentKey))?n:aE(e.largestBatchId,t.largestBatchId)}var AE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",kE=function(){function e(){d(this,e),this.onCommittedListeners=[]}return g(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function wE(e){return bE.apply(this,arguments)}function bE(){return bE=as(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===W_.FAILED_PRECONDITION&&t.message===AE){e.next=2;break}throw t;case 2:B_("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),bE.apply(this,arguments)}var _E=function(){function e(t){var n=this;d(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return g(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&z_(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=S(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}();function EE(e){return"IndexedDbTransactionError"===e.name}var CE=function(){function e(t,n){var r=this;d(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return g(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();CE.at=-1;var SE=g((function e(t,n,r,i,a,o,s,u){d(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),IE=function(){function e(t,n){d(this,e),this.projectId=t,this.database=n||"(default)"}return g(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function xE(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function TE(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function NE(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function RE(e){return null==e}function PE(e){return 0===e&&1/e==-1/0}function DE(e){return"number"==typeof e&&Number.isInteger(e)&&!PE(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var OE=function(e){A(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return g(n)}(C(Error));var LE=function(e){function t(e){d(this,t),this.binaryString=e}return g(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return aE(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw e instanceof DOMException?new OE("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();LE.EMPTY_BYTE_STRING=new LE("");var ME=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function UE(e){if(Q_(!!e),"string"==typeof e){var t=0,n=ME.exec(e);if(Q_(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:FE(e.seconds),nanos:FE(e.nanos)}}function FE(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function BE(e){return"string"==typeof e?LE.fromBase64String(e):LE.fromUint8Array(e)}function jE(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function VE(e){var t=e.mapValue.fields.__previous_value__;return jE(t)?VE(t):t}function qE(e){var t=UE(e.mapValue.fields.__local_write_time__.timestampValue);return new sE(t.seconds,t.nanos)}var zE={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function QE(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?jE(e)?4:iC(e)?9007199254740991:10:z_()}function HE(e,t){if(e===t)return!0;var n=QE(e);if(n!==QE(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return qE(e).isEqual(qE(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=UE(e.timestampValue),r=UE(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return BE(e.bytesValue).isEqual(BE(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return FE(e.geoPointValue.latitude)===FE(t.geoPointValue.latitude)&&FE(e.geoPointValue.longitude)===FE(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return FE(e.integerValue)===FE(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=FE(e.doubleValue),r=FE(t.doubleValue);return n===r?PE(n)===PE(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return oE(e.arrayValue.values||[],t.arrayValue.values||[],HE);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(xE(n)!==xE(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!HE(n[i],r[i])))return!1;return!0}(e,t);default:return z_()}}function WE(e,t){return void 0!==(e.values||[]).find((function(e){return HE(e,t)}))}function KE(e,t){if(e===t)return 0;var n=QE(e),r=QE(t);if(n!==r)return aE(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return aE(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=FE(e.integerValue||e.doubleValue),r=FE(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return GE(e.timestampValue,t.timestampValue);case 4:return GE(qE(e),qE(t));case 5:return aE(e.stringValue,t.stringValue);case 6:return function(e,t){var n=BE(e),r=BE(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=aE(n[i],r[i]);if(0!==a)return a}return aE(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=aE(FE(e.latitude),FE(t.latitude));return 0!==n?n:aE(FE(e.longitude),FE(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=KE(n[i],r[i]);if(a)return a}return aE(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===zE.mapValue&&t===zE.mapValue)return 0;if(e===zE.mapValue)return 1;if(t===zE.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=aE(r[o],a[o]);if(0!==s)return s;var u=KE(n[r[o]],i[a[o]]);if(0!==u)return u}return aE(r.length,a.length)}(e.mapValue,t.mapValue);default:throw z_()}}function GE(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return aE(e,t);var n=UE(e),r=UE(t),i=aE(n.seconds,r.seconds);return 0!==i?i:aE(n.nanos,r.nanos)}function YE(e){return JE(e)}function JE(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=UE(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?BE(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,dE.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=S(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=JE(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=S(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(JE(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):z_();var t,n}function XE(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function ZE(e){return!!e&&"integerValue"in e}function $E(e){return!!e&&"arrayValue"in e}function eC(e){return!!e&&"nullValue"in e}function tC(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function nC(e){return!!e&&"mapValue"in e}function rC(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return TE(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=rC(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=rC(e.arrayValue.values[r]);return n}return Object.assign({},e)}function iC(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var aC=g((function e(t,n){d(this,e),this.position=t,this.inclusive=n}));function oC(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?dE.comparator(dE.fromName(o.referenceValue),n.key):KE(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function sC(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!HE(e.position[n],t.position[n]))return!1;return!0}var uC=g((function e(){d(this,e)})),cC=function(e){A(n,e);var t=_(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(KE(t,this.value)):null!==t&&QE(this.value)===QE(t)&&this.matchesComparison(KE(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return z_()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new gC(e,t,r):"array-contains"===t?new wC(e,r):"in"===t?new bC(e,r):"not-in"===t?new _C(e,r):"array-contains-any"===t?new EC(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new mC(e,n):new AC(e,n)}}]),n}(uC),lC=function(e){A(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).filters=e,i.op=r,i.ft=null,i}return g(n,[{key:"matches",value:function(e){return fC(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ft||(this.ft=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ft}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.dt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"dt",value:function(e){var t,n=S(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(uC);function fC(e){return"and"===e.op}function hC(e){return dC(e)&&fC(e)}function dC(e){var t,n=S(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof lC)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function pC(e){if(e instanceof cC)return e.field.canonicalString()+e.op.toString()+YE(e.value);if(hC(e))return e.filters.map((function(e){return pC(e)})).join(",");var t=e.filters.map((function(e){return pC(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function vC(e,t){return e instanceof cC?function(e,t){return t instanceof cC&&e.op===t.op&&e.field.isEqual(t.field)&&HE(e.value,t.value)}(e,t):e instanceof lC?function(e,t){return t instanceof lC&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&vC(n,t.filters[r])}),!0)}(e,t):void z_()}function yC(e){return e instanceof cC?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(YE(e.value))}(e):e instanceof lC?function(e){return e.op.toString()+" {"+e.getFilters().map(yC).join(" ,")+"}"}(e):"Filter"}var gC=function(e){A(n,e);var t=_(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,e,r,i)).key=dE.fromName(i.referenceValue),a}return g(n,[{key:"matches",value:function(e){var t=dE.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(cC),mC=function(e){A(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,"in",r)).keys=kC("in",r),i}return g(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(cC),AC=function(e){A(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,"not-in",r)).keys=kC("not-in",r),i}return g(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(cC);function kC(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return dE.fromName(e.referenceValue)}))}var wC=function(e){A(n,e);var t=_(n);function n(e,r){return d(this,n),t.call(this,e,"array-contains",r)}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return $E(t)&&WE(t.arrayValue,this.value)}}]),n}(cC),bC=function(e){A(n,e);var t=_(n);function n(e,r){return d(this,n),t.call(this,e,"in",r)}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&WE(this.value.arrayValue,t)}}]),n}(cC),_C=function(e){A(n,e);var t=_(n);function n(e,r){return d(this,n),t.call(this,e,"not-in",r)}return g(n,[{key:"matches",value:function(e){if(WE(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!WE(this.value.arrayValue,t)}}]),n}(cC),EC=function(e){A(n,e);var t=_(n);function n(e,r){return d(this,n),t.call(this,e,"array-contains-any",r)}return g(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!$E(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return WE(t.value.arrayValue,e)}))}}]),n}(cC),CC=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";d(this,e),this.field=t,this.dir=n}));function SC(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var IC=function(){function e(t,n){d(this,e),this.comparator=t,this.root=n||TC.EMPTY}return g(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,TC.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,TC.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new xC(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new xC(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new xC(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new xC(this.root,e,this.comparator,!0)}}]),e}(),xC=function(){function e(t,n,r,i){d(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return g(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),TC=function(){function e(t,n,r,i,a){d(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return g(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw z_();if(this.right.isRed())throw z_();var e=this.left.check();if(e!==this.right.check())throw z_();return e+(this.isRed()?0:1)}}]),e}();TC.EMPTY=null,TC.RED=!0,TC.BLACK=!1,TC.EMPTY=new(function(){function e(){d(this,e),this.size=0}return g(e,[{key:"key",get:function(){throw z_()}},{key:"value",get:function(){throw z_()}},{key:"color",get:function(){throw z_()}},{key:"left",get:function(){throw z_()}},{key:"right",get:function(){throw z_()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new TC(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var NC=function(){function e(t){d(this,e),this.comparator=t,this.data=new IC(this.comparator)}return g(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new RC(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new RC(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),RC=function(){function e(t){d(this,e),this.iter=t}return g(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var PC=function(){function e(t){d(this,e),this.fields=t,t.sort(hE.comparator)}return g(e,[{key:"unionWith",value:function(t){var n,r=new NC(hE.comparator),i=S(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=S(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=S(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return oE(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),DC=function(){function e(t){d(this,e),this.value=t}return g(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!nC(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=rC(t)}},{key:"setAll",value:function(e){var t=this,n=hE.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=rC(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());nC(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return HE(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];nC(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){TE(t,(function(t,n){return e[t]=n}));var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(rC(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function OC(e){var t=[];return TE(e.fields,(function(e,n){var r=new hE([e]);if(nC(n)){var i=OC(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=S(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new PC(t)}var LC=function(){function e(t,n,r,i,a,o,s){d(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return g(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(uE.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=DC.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=DC.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=uE.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,uE.min(),uE.min(),uE.min(),DC.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,uE.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,uE.min(),uE.min(),DC.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,uE.min(),uE.min(),DC.empty(),2)}}]),e}(),MC=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;d(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this._t=null}));function UC(e){return new MC(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function FC(e){var t=H_(e);if(null===t._t){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return pC(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),RE(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return YE(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return YE(e)})).join(",")),t._t=n}return t._t}function BC(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!SC(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!vC(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!sC(e.startAt,t.startAt)&&sC(e.endAt,t.endAt)}function jC(e){return dE.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var VC=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;d(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.wt=null,this.gt=null,this.startAt,this.endAt}));function qC(e,t,n,r,i,a,o,s){return new VC(e,t,n,r,i,a,o,s)}function zC(e){return new VC(e)}function QC(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function HC(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function WC(e){var t,n=S(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function KC(e){return null!==e.collectionGroup}function GC(e){var t=H_(e);if(null===t.wt){t.wt=[];var n=WC(t),r=HC(t);if(null!==n&&null===r)n.isKeyField()||t.wt.push(new CC(n)),t.wt.push(new CC(hE.keyField(),"asc"));else{var i,a=!1,o=S(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.wt.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new CC(hE.keyField(),u))}}}return t.wt}function YC(e){var t=H_(e);if(!t.gt)if("F"===t.limitType)t.gt=UC(t.path,t.collectionGroup,GC(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=S(GC(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new CC(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new aC(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new aC(t.startAt.position,t.startAt.inclusive):null;t.gt=UC(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.gt}function JC(e,t){t.getFirstInequalityField(),WC(e);var n=e.filters.concat([t]);return new VC(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function XC(e,t,n){return new VC(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ZC(e,t){return BC(YC(e),YC(t))&&e.limitType===t.limitType}function $C(e){return"".concat(FC(YC(e)),"|lt:").concat(e.limitType)}function eS(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return yC(e)})).join(", "),"]")),RE(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return YE(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return YE(e)})).join(",")),"Target(".concat(t,")")}(YC(e)),"; limitType=").concat(e.limitType,")")}function tS(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):dE.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=S(GC(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=S(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=oC(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,GC(e),t))&&!(e.endAt&&!function(e,t,n){var r=oC(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,GC(e),t))}(e,t)}function nS(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function rS(e){return function(t,n){var r,i=!1,a=S(GC(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=iS(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function iS(e,t,n){var r=e.field.isKeyField()?dE.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?KE(r,i):z_()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return z_()}}function aS(e,t){if(e.yt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:PE(t)?"-0":t}}function oS(e){return{integerValue:""+e}}function sS(e,t){return DE(t)?oS(t):aS(e,t)}var uS=g((function e(){d(this,e),this._=void 0}));function cS(e,t,n){return e instanceof hS?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof dS?pS(e,t):e instanceof vS?yS(e,t):function(e,t){var n=fS(e,t),r=mS(n)+mS(e.It);return ZE(n)&&ZE(e.It)?oS(r):aS(e.Tt,r)}(e,t)}function lS(e,t,n){return e instanceof dS?pS(e,t):e instanceof vS?yS(e,t):n}function fS(e,t){return e instanceof gS?ZE(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var hS=function(e){A(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n)}(uS),dS=function(e){A(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this)).elements=e,r}return g(n)}(uS);function pS(e,t){var n,r=AS(t),i=S(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return HE(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var vS=function(e){A(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this)).elements=e,r}return g(n)}(uS);function yS(e,t){var n,r=AS(t),i=S(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!HE(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var gS=function(e){A(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).Tt=e,i.It=r,i}return g(n)}(uS);function mS(e){return FE(e.integerValue||e.doubleValue)}function AS(e){return $E(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var kS=g((function e(t,n){d(this,e),this.field=t,this.transform=n}));var wS=g((function e(t,n){d(this,e),this.version=t,this.transformResults=n})),bS=function(){function e(t,n){d(this,e),this.updateTime=t,this.exists=n}return g(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function _S(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var ES=g((function e(){d(this,e)}));function CS(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new US(e.key,bS.none()):new NS(e.key,e.data,bS.none());var n,r=e.data,i=DC.empty(),a=new NC(hE.comparator),o=S(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new RS(e.key,i,new PC(a.toArray()),bS.none())}function SS(e,t,n){e instanceof NS?function(e,t,n){var r=e.value.clone(),i=DS(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof RS?function(e,t,n){if(_S(e.precondition,t)){var r=DS(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(PS(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function IS(e,t,n,r){return e instanceof NS?function(e,t,n,r){if(!_S(e.precondition,t))return n;var i=e.value.clone(),a=OS(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof RS?function(e,t,n,r){if(!_S(e.precondition,t))return n;var i=OS(e.fieldTransforms,r,t),a=t.data;return a.setAll(PS(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return _S(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function xS(e,t){var n,r=null,i=S(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=fS(a.transform,o||null);null!=s&&(null===r&&(r=DC.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function TS(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&oE(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof dS&&t instanceof dS||e instanceof vS&&t instanceof vS?oE(e.elements,t.elements,HE):e instanceof gS&&t instanceof gS?HE(e.It,t.It):e instanceof hS&&t instanceof hS}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var NS=function(e){A(n,e);var t=_(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return d(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ES),RS=function(e){A(n,e);var t=_(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return d(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return g(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(ES);function PS(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function DS(e,t,n){var r=new Map;Q_(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,lS(o,s,n[i]))}return r}function OS(e,t,n){var r,i=new Map,a=S(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,cS(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var LS,MS,US=function(e){A(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ES),FS=function(e){A(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ES),BS=g((function e(t){d(this,e),this.count=t}));function jS(e){switch(e){default:return z_();case W_.CANCELLED:case W_.UNKNOWN:case W_.DEADLINE_EXCEEDED:case W_.RESOURCE_EXHAUSTED:case W_.INTERNAL:case W_.UNAVAILABLE:case W_.UNAUTHENTICATED:return!1;case W_.INVALID_ARGUMENT:case W_.NOT_FOUND:case W_.ALREADY_EXISTS:case W_.PERMISSION_DENIED:case W_.FAILED_PRECONDITION:case W_.ABORTED:case W_.OUT_OF_RANGE:case W_.UNIMPLEMENTED:case W_.DATA_LOSS:return!0}}function VS(e){if(void 0===e)return j_("GRPC error has no .code"),W_.UNKNOWN;switch(e){case LS.OK:return W_.OK;case LS.CANCELLED:return W_.CANCELLED;case LS.UNKNOWN:return W_.UNKNOWN;case LS.DEADLINE_EXCEEDED:return W_.DEADLINE_EXCEEDED;case LS.RESOURCE_EXHAUSTED:return W_.RESOURCE_EXHAUSTED;case LS.INTERNAL:return W_.INTERNAL;case LS.UNAVAILABLE:return W_.UNAVAILABLE;case LS.UNAUTHENTICATED:return W_.UNAUTHENTICATED;case LS.INVALID_ARGUMENT:return W_.INVALID_ARGUMENT;case LS.NOT_FOUND:return W_.NOT_FOUND;case LS.ALREADY_EXISTS:return W_.ALREADY_EXISTS;case LS.PERMISSION_DENIED:return W_.PERMISSION_DENIED;case LS.FAILED_PRECONDITION:return W_.FAILED_PRECONDITION;case LS.ABORTED:return W_.ABORTED;case LS.OUT_OF_RANGE:return W_.OUT_OF_RANGE;case LS.UNIMPLEMENTED:return W_.UNIMPLEMENTED;case LS.DATA_LOSS:return W_.DATA_LOSS;default:return z_()}}(MS=LS||(LS={}))[MS.OK=0]="OK",MS[MS.CANCELLED=1]="CANCELLED",MS[MS.UNKNOWN=2]="UNKNOWN",MS[MS.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",MS[MS.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",MS[MS.NOT_FOUND=5]="NOT_FOUND",MS[MS.ALREADY_EXISTS=6]="ALREADY_EXISTS",MS[MS.PERMISSION_DENIED=7]="PERMISSION_DENIED",MS[MS.UNAUTHENTICATED=16]="UNAUTHENTICATED",MS[MS.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",MS[MS.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",MS[MS.ABORTED=10]="ABORTED",MS[MS.OUT_OF_RANGE=11]="OUT_OF_RANGE",MS[MS.UNIMPLEMENTED=12]="UNIMPLEMENTED",MS[MS.INTERNAL=13]="INTERNAL",MS[MS.UNAVAILABLE=14]="UNAVAILABLE",MS[MS.DATA_LOSS=15]="DATA_LOSS";var qS=function(){function e(t,n){d(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return g(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){TE(this.inner,(function(t,n){var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return NE(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),zS=new IC(dE.comparator);function QS(){return zS}var HS=new IC(dE.comparator);function WS(){for(var e=HS,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function KS(e){var t=HS;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function GS(){return JS()}function YS(){return JS()}function JS(){return new qS((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var XS=new IC(dE.comparator),ZS=new NC(dE.comparator);function $S(){for(var e=ZS,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var eI=new NC(aE);function tI(){return eI}var nI=function(){function e(t,n,r,i,a){d(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return g(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,rI.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(uE.min(),i,tI(),QS(),$S())}}]),e}(),rI=function(){function e(t,n,r,i,a){d(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return g(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,$S(),$S(),$S())}}]),e}(),iI=g((function e(t,n,r,i){d(this,e),this.Et=t,this.removedTargetIds=n,this.key=r,this.At=i})),aI=g((function e(t,n){d(this,e),this.targetId=t,this.Rt=n})),oI=g((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:LE.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;d(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),sI=function(){function e(){d(this,e),this.bt=0,this.vt=lI(),this.Pt=LE.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}return g(e,[{key:"current",get:function(){return this.Vt}},{key:"resumeToken",get:function(){return this.Pt}},{key:"Dt",get:function(){return 0!==this.bt}},{key:"Ct",get:function(){return this.St}},{key:"xt",value:function(e){e.approximateByteSize()>0&&(this.St=!0,this.Pt=e)}},{key:"Nt",value:function(){var e=$S(),t=$S(),n=$S();return this.vt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:z_()}})),new rI(this.Pt,this.Vt,e,t,n)}},{key:"kt",value:function(){this.St=!1,this.vt=lI()}},{key:"Ot",value:function(e,t){this.St=!0,this.vt=this.vt.insert(e,t)}},{key:"Mt",value:function(e){this.St=!0,this.vt=this.vt.remove(e)}},{key:"Ft",value:function(){this.bt+=1}},{key:"$t",value:function(){this.bt-=1}},{key:"Bt",value:function(){this.St=!0,this.Vt=!0}}]),e}(),uI=function(){function e(t){d(this,e),this.Lt=t,this.qt=new Map,this.Ut=QS(),this.Kt=cI(),this.Gt=new NC(aE)}return g(e,[{key:"Qt",value:function(e){var t,n=S(e.Et);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.At&&e.At.isFoundDocument()?this.jt(r,e.At):this.zt(r,e.key,e.At)}}catch(s){n.e(s)}finally{n.f()}var i,a=S(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.zt(o,e.key,e.At)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Ht(n);switch(e.state){case 0:t.Jt(n)&&r.xt(e.resumeToken);break;case 1:r.$t(),r.Dt||r.kt(),r.xt(e.resumeToken);break;case 2:r.$t(),r.Dt||t.removeTarget(n);break;case 3:t.Jt(n)&&(r.Bt(),r.xt(e.resumeToken));break;case 4:t.Jt(n)&&(t.Yt(n),r.xt(e.resumeToken));break;default:z_()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.qt.forEach((function(e,r){n.Jt(r)&&t(r)}))}},{key:"Zt",value:function(e){var t=e.targetId,n=e.Rt.count,r=this.Xt(t);if(r){var i=r.target;if(jC(i))if(0===n){var a=new dE(i.path);this.zt(t,a,LC.newNoDocument(a,uE.min()))}else Q_(1===n);else this.te(t)!==n&&(this.Yt(t),this.Gt=this.Gt.add(t))}}},{key:"ee",value:function(e){var t=this,n=new Map;this.qt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&jC(a.target)){var o=new dE(a.target.path);null!==t.Ut.get(o)||t.ne(i,o)||t.zt(i,o,LC.newNoDocument(o,e))}r.Ct&&(n.set(i,r.Nt()),r.kt())}}));var r=$S();this.Kt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new nI(e,n,this.Gt,this.Ut,r);return this.Ut=QS(),this.Kt=cI(),this.Gt=new NC(aE),i}},{key:"jt",value:function(e,t){if(this.Jt(e)){var n=this.ne(e,t.key)?2:0;this.Ht(e).Ot(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.Kt=this.Kt.insert(t.key,this.se(t.key).add(e))}}},{key:"zt",value:function(e,t,n){if(this.Jt(e)){var r=this.Ht(e);this.ne(e,t)?r.Ot(t,1):r.Mt(t),this.Kt=this.Kt.insert(t,this.se(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.qt.delete(e)}},{key:"te",value:function(e){var t=this.Ht(e).Nt();return this.Lt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ft",value:function(e){this.Ht(e).Ft()}},{key:"Ht",value:function(e){var t=this.qt.get(e);return t||(t=new sI,this.qt.set(e,t)),t}},{key:"se",value:function(e){var t=this.Kt.get(e);return t||(t=new NC(aE),this.Kt=this.Kt.insert(e,t)),t}},{key:"Jt",value:function(e){var t=null!==this.Xt(e);return t||B_("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.qt.get(e);return t&&t.Dt?null:this.Lt.ie(e)}},{key:"Yt",value:function(e){var t=this;this.qt.set(e,new sI),this.Lt.getRemoteKeysForTarget(e).forEach((function(n){t.zt(e,n,null)}))}},{key:"ne",value:function(e,t){return this.Lt.getRemoteKeysForTarget(e).has(t)}}]),e}();function cI(){return new IC(dE.comparator)}function lI(){return new IC(dE.comparator)}var fI={asc:"ASCENDING",desc:"DESCENDING"},hI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dI={and:"AND",or:"OR"},pI=g((function e(t,n){d(this,e),this.databaseId=t,this.yt=n}));function vI(e,t){return e.yt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function yI(e,t){return e.yt?t.toBase64():t.toUint8Array()}function gI(e,t){return vI(e,t.toTimestamp())}function mI(e){return Q_(!!e),uE.fromTimestamp(function(e){var t=UE(e);return new sE(t.seconds,t.nanos)}(e))}function AI(e,t){return function(e){return new lE(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function kI(e){var t=lE.fromString(e);return Q_(jI(t)),t}function wI(e,t){return AI(e.databaseId,t.path)}function bI(e,t){var n=kI(t);if(n.get(1)!==e.databaseId.projectId)throw new K_(W_.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new K_(W_.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new dE(SI(n))}function _I(e,t){return AI(e.databaseId,t)}function EI(e){var t=kI(e);return 4===t.length?lE.emptyPath():SI(t)}function CI(e){return new lE(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function SI(e){return Q_(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function II(e,t,n){return{name:wI(e,t),fields:n.value.mapValue.fields}}function xI(e,t){var n;if(t instanceof NS)n={update:II(e,t.key,t.value)};else if(t instanceof US)n={delete:wI(e,t.key)};else if(t instanceof RS)n={update:II(e,t.key,t.data),updateMask:BI(t.fieldMask)};else{if(!(t instanceof FS))return z_();n={verify:wI(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof hS)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof dS)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof vS)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof gS)return{fieldPath:t.field.canonicalString(),increment:n.It};throw z_()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:gI(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:z_()}(e,t.precondition)),n}function TI(e,t){return{documents:[_I(e,t.path)]}}function NI(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=_I(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=_I(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return FI(lC.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:MI(e.field),direction:DI(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.yt||RE(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function RI(e){var t=EI(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Q_(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=PI(e);return t instanceof lC&&hC(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new CC(UI(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return RE(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new aC(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new aC(n,t)}(n.endAt)),qC(t,i,s,o,u,"F",c,l)}function PI(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=UI(e.unaryFilter.field);return cC.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=UI(e.unaryFilter.field);return cC.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=UI(e.unaryFilter.field);return cC.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=UI(e.unaryFilter.field);return cC.create(i,"!=",{nullValue:"NULL_VALUE"});default:return z_()}}(e):void 0!==e.fieldFilter?function(e){return cC.create(UI(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return z_()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return lC.create(e.compositeFilter.filters.map((function(e){return PI(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return z_()}}(e.compositeFilter.op))}(e):z_()}function DI(e){return fI[e]}function OI(e){return hI[e]}function LI(e){return dI[e]}function MI(e){return{fieldPath:e.canonicalString()}}function UI(e){return hE.fromServerFormat(e.fieldPath)}function FI(e){return e instanceof cC?function(e){if("=="===e.op){if(tC(e.value))return{unaryFilter:{field:MI(e.field),op:"IS_NAN"}};if(eC(e.value))return{unaryFilter:{field:MI(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(tC(e.value))return{unaryFilter:{field:MI(e.field),op:"IS_NOT_NAN"}};if(eC(e.value))return{unaryFilter:{field:MI(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:MI(e.field),op:OI(e.op),value:e.value}}}(e):e instanceof lC?function(e){var t=e.getFilters().map((function(e){return FI(e)}));return 1===t.length?t[0]:{compositeFilter:{op:LI(e.op),filters:t}}}(e):z_()}function BI(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function jI(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var VI=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),qI=([].concat(h(VI),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),zI=qI;[].concat(zI,["indexConfiguration","indexState","indexEntries"]);var QI=function(){function e(t,n,r,i){d(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return g(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&SS(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=S(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=IS(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=S(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=IS(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=YS();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=CS(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(uE.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),$S())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&oE(this.mutations,e.mutations,(function(e,t){return TS(e,t)}))&&oE(this.baseMutations,e.baseMutations,(function(e,t){return TS(e,t)}))}}]),e}(),HI=function(){function e(t,n,r,i){d(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return g(e,null,[{key:"from",value:function(t,n,r){Q_(t.mutations.length===r.length);for(var i=XS,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),WI=function(){function e(t,n){d(this,e),this.largestBatchId=t,this.mutation=n}return g(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),KI=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:uE.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:uE.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:LE.EMPTY_BYTE_STRING;d(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return g(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),GI=g((function e(t){d(this,e),this.oe=t}));function YI(e){var t=RI({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?XC(t,t.limit,"L"):t}var JI=function(){function e(){d(this,e)}return g(e,[{key:"ae",value:function(e,t){this.he(e,t),t.le()}},{key:"he",value:function(e,t){if("nullValue"in e)this.fe(t,5);else if("booleanValue"in e)this.fe(t,10),t.de(e.booleanValue?1:0);else if("integerValue"in e)this.fe(t,15),t.de(FE(e.integerValue));else if("doubleValue"in e){var n=FE(e.doubleValue);isNaN(n)?this.fe(t,13):(this.fe(t,15),PE(n)?t.de(0):t.de(n))}else if("timestampValue"in e){var r=e.timestampValue;this.fe(t,20),"string"==typeof r?t._e(r):(t._e("".concat(r.seconds||"")),t.de(r.nanos||0))}else if("stringValue"in e)this.we(e.stringValue,t),this.me(t);else if("bytesValue"in e)this.fe(t,30),t.ge(BE(e.bytesValue)),this.me(t);else if("referenceValue"in e)this.ye(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.fe(t,45),t.de(i.latitude||0),t.de(i.longitude||0)}else"mapValue"in e?iC(e)?this.fe(t,Number.MAX_SAFE_INTEGER):(this.pe(e.mapValue,t),this.me(t)):"arrayValue"in e?(this.Ie(e.arrayValue,t),this.me(t)):z_()}},{key:"we",value:function(e,t){this.fe(t,25),this.Te(e,t)}},{key:"Te",value:function(e,t){t._e(e)}},{key:"pe",value:function(e,t){var n=e.fields||{};this.fe(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.we(a,t),this.he(n[a],t)}}},{key:"Ie",value:function(e,t){var n=e.values||[];this.fe(t,50);var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.he(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ye",value:function(e,t){var n=this;this.fe(t,37),dE.fromName(e).path.forEach((function(e){n.fe(t,60),n.Te(e,t)}))}},{key:"fe",value:function(e,t){e.de(t)}},{key:"me",value:function(e){e.de(2)}}]),e}();JI.Ee=new JI;var XI=function(){function e(){d(this,e),this.Ze=new ZI}return g(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ze.add(t),_E.resolve()}},{key:"getCollectionParents",value:function(e,t){return _E.resolve(this.Ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return _E.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return _E.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return _E.resolve(null)}},{key:"getIndexType",value:function(e,t){return _E.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return _E.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return _E.resolve(null)}},{key:"getMinOffset",value:function(e,t){return _E.resolve(gE.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return _E.resolve(gE.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return _E.resolve()}},{key:"updateIndexEntries",value:function(e,t){return _E.resolve()}}]),e}(),ZI=function(){function e(){d(this,e),this.index={}}return g(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new NC(lE.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new NC(lE.comparator)).toArray()}}]),e}();new Uint8Array(0);var $I=function(){function e(t,n,r){d(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return g(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();$I.DEFAULT_COLLECTION_PERCENTILE=10,$I.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$I.DEFAULT=new $I(41943040,$I.DEFAULT_COLLECTION_PERCENTILE,$I.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$I.DISABLED=new $I(-1,0,0);var ex=function(){function e(t){d(this,e),this.Pn=t}return g(e,[{key:"next",value:function(){return this.Pn+=2,this.Pn}}],[{key:"Vn",value:function(){return new e(0)}},{key:"Sn",value:function(){return new e(-1)}}]),e}();var tx=function(){function e(){d(this,e),this.changes=new qS((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return g(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,LC.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?_E.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var nx=g((function e(t,n){d(this,e),this.overlayedDocument=t,this.mutatedFields=n})),rx=function(){function e(t,n,r,i){d(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return g(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&IS(r.mutation,e,PC.empty(),sE.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,$S()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$S(),i=GS();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=WS();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=GS();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,$S())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=QS(),a=JS(),o=JS();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof RS)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),IS(o.mutation,t,o.mutation.getFieldMask(),sE.now())):a.set(t.key,PC.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new nx(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=JS(),i=new IC((function(e,t){return e-t})),a=$S();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=S(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||PC.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||$S()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=YS();c.forEach((function(e){if(!a.has(e)){var n=CS(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return _E.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return dE.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):KC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):_E.resolve(GS()),s=-1,u=a;return o.next((function(t){return _E.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?_E.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,$S())})).next((function(e){return{batchId:s,changes:KS(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new dE(t)).next((function(e){var t=WS();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=WS();return this.indexManager.getCollectionParents(e,i).next((function(o){return _E.forEach(o,(function(o){var s=function(e,t){return new VC(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,LC.newInvalidDocument(r)))}));var n=WS();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&IS(a.mutation,i,PC.empty(),sE.now()),tS(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),ix=function(){function e(t){d(this,e),this.Tt=t,this.es=new Map,this.ns=new Map}return g(e,[{key:"getBundleMetadata",value:function(e,t){return _E.resolve(this.es.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.es.set(t.id,{id:(n=t).id,version:n.version,createTime:mI(n.createTime)}),_E.resolve()}},{key:"getNamedQuery",value:function(e,t){return _E.resolve(this.ns.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ns.set(t.name,function(e){return{name:e.name,query:YI(e.bundledQuery),readTime:mI(e.readTime)}}(t)),_E.resolve()}}]),e}(),ax=function(){function e(){d(this,e),this.overlays=new IC(dE.comparator),this.ss=new Map}return g(e,[{key:"getOverlay",value:function(e,t){return _E.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=GS();return _E.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ce(e,t,i)})),_E.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ss.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ss.delete(n)),_E.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=GS(),i=t.length+1,a=new dE(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return _E.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new IC((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=GS(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=GS(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return _E.resolve(u)}},{key:"ce",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ss.get(r.largestBatchId).delete(n.key);this.ss.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new WI(t,n));var a=this.ss.get(t);void 0===a&&(a=$S(),this.ss.set(t,a)),this.ss.set(t,a.add(n.key))}}]),e}(),ox=function(){function e(){d(this,e),this.rs=new NC(sx.os),this.us=new NC(sx.cs)}return g(e,[{key:"isEmpty",value:function(){return this.rs.isEmpty()}},{key:"addReference",value:function(e,t){var n=new sx(e,t);this.rs=this.rs.add(n),this.us=this.us.add(n)}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ls(new sx(e,t))}},{key:"fs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ds",value:function(e){var t=this,n=new dE(new lE([])),r=new sx(n,e),i=new sx(n,e+1),a=[];return this.us.forEachInRange([r,i],(function(e){t.ls(e),a.push(e.key)})),a}},{key:"_s",value:function(){var e=this;this.rs.forEach((function(t){return e.ls(t)}))}},{key:"ls",value:function(e){this.rs=this.rs.delete(e),this.us=this.us.delete(e)}},{key:"ws",value:function(e){var t=new dE(new lE([])),n=new sx(t,e),r=new sx(t,e+1),i=$S();return this.us.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new sx(e,0),n=this.rs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),sx=function(){function e(t,n){d(this,e),this.key=t,this.gs=n}return g(e,null,[{key:"os",value:function(e,t){return dE.comparator(e.key,t.key)||aE(e.gs,t.gs)}},{key:"cs",value:function(e,t){return aE(e.gs,t.gs)||dE.comparator(e.key,t.key)}}]),e}(),ux=function(){function e(t,n){d(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ys=1,this.ps=new NC(sx.os)}return g(e,[{key:"checkEmpty",value:function(e){return _E.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ys;this.ys++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new QI(i,t,n,r);this.mutationQueue.push(a);var o,s=S(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.ps=this.ps.add(new sx(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return _E.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return _E.resolve(this.Is(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Ts(n),i=r<0?0:r;return _E.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return _E.resolve(0===this.mutationQueue.length?-1:this.ys-1)}},{key:"getAllMutationBatches",value:function(e){return _E.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new sx(t,0),i=new sx(t,Number.POSITIVE_INFINITY),a=[];return this.ps.forEachInRange([r,i],(function(e){var t=n.Is(e.gs);a.push(t)})),_E.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new NC(aE);return t.forEach((function(e){var t=new sx(e,0),i=new sx(e,Number.POSITIVE_INFINITY);n.ps.forEachInRange([t,i],(function(e){r=r.add(e.gs)}))})),_E.resolve(this.Es(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;dE.isDocumentKey(i)||(i=i.child(""));var a=new sx(new dE(i),0),o=new NC(aE);return this.ps.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.gs)),!0)}),a),_E.resolve(this.Es(o))}},{key:"Es",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Is(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Q_(0===this.As(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ps;return _E.forEach(t.mutations,(function(i){var a=new sx(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ps=r}))}},{key:"bn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new sx(t,0),r=this.ps.firstAfterOrEqual(n);return _E.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,_E.resolve()}},{key:"As",value:function(e,t){return this.Ts(e)}},{key:"Ts",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Is",value:function(e){var t=this.Ts(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),cx=function(){function e(t){d(this,e),this.Rs=t,this.docs=new IC(dE.comparator),this.size=0}return g(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Rs(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return _E.resolve(n?n.document.mutableCopy():LC.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=QS();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():LC.newInvalidDocument(e))})),_E.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=QS(),a=t.path,o=new dE(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||mE(yE(l),n)<=0||(r.has(l.key)||tS(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return _E.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){z_()}},{key:"bs",value:function(e,t){return _E.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new lx(this)}},{key:"getSize",value:function(e){return _E.resolve(this.size)}}]),e}(),lx=function(e){A(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this)).Xn=e,r}return g(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Xn.addEntry(e,i)):t.Xn.removeEntry(r)})),_E.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Xn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Xn.getEntries(e,t)}}]),n}(tx),fx=function(){function e(t){d(this,e),this.persistence=t,this.vs=new qS((function(e){return FC(e)}),BC),this.lastRemoteSnapshotVersion=uE.min(),this.highestTargetId=0,this.Ps=0,this.Vs=new ox,this.targetCount=0,this.Ss=ex.Vn()}return g(e,[{key:"forEachTarget",value:function(e,t){return this.vs.forEach((function(e,n){return t(n)})),_E.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return _E.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return _E.resolve(this.Ps)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ss.next(),_E.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ps&&(this.Ps=t),_E.resolve()}},{key:"xn",value:function(e){this.vs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ss=new ex(t),this.highestTargetId=t),e.sequenceNumber>this.Ps&&(this.Ps=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.xn(t),this.targetCount+=1,_E.resolve()}},{key:"updateTargetData",value:function(e,t){return this.xn(t),_E.resolve()}},{key:"removeTargetData",value:function(e,t){return this.vs.delete(t.target),this.Vs.ds(t.targetId),this.targetCount-=1,_E.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.vs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.vs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),_E.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return _E.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.vs.get(t)||null;return _E.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Vs.hs(t,n),_E.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Vs.fs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),_E.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Vs.ds(t),_E.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Vs.ws(t);return _E.resolve(n)}},{key:"containsKey",value:function(e,t){return _E.resolve(this.Vs.containsKey(t))}}]),e}(),hx=function(){function e(t,n){var r=this;d(this,e),this.Ds={},this.overlays={},this.Cs=new CE(0),this.xs=!1,this.xs=!0,this.referenceDelegate=t(this),this.Ns=new fx(this),this.indexManager=new XI,this.remoteDocumentCache=new cx((function(e){return r.referenceDelegate.ks(e)})),this.Tt=new GI(n),this.Os=new ix(this.Tt)}return g(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.xs=!1,Promise.resolve()}},{key:"started",get:function(){return this.xs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new ax,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ds[e.toKey()];return n||(n=new ux(t,this.referenceDelegate),this.Ds[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Ns}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Os}},{key:"runTransaction",value:function(e,t,n){var r=this;B_("MemoryPersistence","Starting transaction:",e);var i=new dx(this.Cs.next());return this.referenceDelegate.Ms(),n(i).next((function(e){return r.referenceDelegate.Fs(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"$s",value:function(e,t){return _E.or(Object.values(this.Ds).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),dx=function(e){A(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return g(n)}(kE),px=function(){function e(t){d(this,e),this.persistence=t,this.Bs=new ox,this.Ls=null}return g(e,[{key:"Us",get:function(){if(this.Ls)return this.Ls;throw z_()}},{key:"addReference",value:function(e,t,n){return this.Bs.addReference(n,t),this.Us.delete(n.toString()),_E.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Bs.removeReference(n,t),this.Us.add(n.toString()),_E.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Us.add(t.toString()),_E.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Bs.ds(t.targetId).forEach((function(e){return n.Us.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Us.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ms",value:function(){this.Ls=new Set}},{key:"Fs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _E.forEach(this.Us,(function(r){var i=dE.fromPath(r);return t.Ks(e,i).next((function(e){e||n.removeEntry(i,uE.min())}))})).next((function(){return t.Ls=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ks(e,t).next((function(e){e?n.Us.delete(t.toString()):n.Us.add(t.toString())}))}},{key:"ks",value:function(e){return 0}},{key:"Ks",value:function(e,t){var n=this;return _E.or([function(){return _E.resolve(n.Bs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.$s(e,t)}])}}],[{key:"qs",value:function(t){return new e(t)}}]),e}();var vx=function(){function e(t,n,r,i){d(this,e),this.targetId=t,this.fromCache=n,this.Ci=r,this.xi=i}return g(e,null,[{key:"Ni",value:function(t,n){var r,i=$S(),a=$S(),o=S(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),yx=function(){function e(){d(this,e),this.ki=!1}return g(e,[{key:"initialize",value:function(e,t){this.Oi=e,this.indexManager=t,this.ki=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Mi(e,t).next((function(a){return a||i.Fi(e,t,r,n)})).next((function(n){return n||i.$i(e,t)}))}},{key:"Mi",value:function(e,t){var n=this;if(QC(t))return _E.resolve(null);var r=YC(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=XC(t,null,"F"),r=YC(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=$S.apply(void 0,h(i));return n.Oi.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Bi(t,i);return n.Li(t,o,a,r.readTime)?n.Mi(e,XC(t,null,"F")):n.qi(e,o,t,r)}))}))})))}))}},{key:"Fi",value:function(e,t,n,r){var i=this;return QC(t)||r.isEqual(uE.min())?this.$i(e,t):this.Oi.getDocuments(e,n).next((function(a){var o=i.Bi(t,a);return i.Li(t,o,n,r)?i.$i(e,t):(F_()<=ou.DEBUG&&B_("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),eS(t)),i.qi(e,o,t,vE(r,-1)))}))}},{key:"Bi",value:function(e,t){var n=new NC(rS(e));return t.forEach((function(t,r){tS(e,r)&&(n=n.add(r))})),n}},{key:"Li",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"$i",value:function(e,t){return F_()<=ou.DEBUG&&B_("QueryEngine","Using full collection scan to execute query:",eS(t)),this.Oi.getDocumentsMatchingQuery(e,t,gE.min())}},{key:"qi",value:function(e,t,n,r){return this.Oi.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),gx=function(){function e(t,n,r,i){d(this,e),this.persistence=t,this.Ui=n,this.Tt=i,this.Ki=new IC(aE),this.Gi=new qS((function(e){return FC(e)}),BC),this.Qi=new Map,this.ji=t.getRemoteDocumentCache(),this.Ns=t.getTargetCache(),this.Os=t.getBundleCache(),this.zi(r)}return g(e,[{key:"zi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rx(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ki)}))}}]),e}();function mx(e,t,n,r){return new gx(e,t,n,r)}function Ax(e,t){return kx.apply(this,arguments)}function kx(){return kx=as(rs().mark((function e(t,n){var r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=H_(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.zi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=$S(),u=S(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=S(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(A){f.e(A)}finally{f.f()}}}catch(A){u.e(A)}finally{u.f()}var d,p=S(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,g=S(v.mutations);try{for(g.s();!(y=g.n()).done;){var m=y.value;s=s.add(m.key)}}catch(A){g.e(A)}finally{g.f()}}}catch(A){p.e(A)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{Wi:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),kx.apply(this,arguments)}function wx(e,t){var n=H_(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.ji.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=_E.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Q_(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=$S(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function bx(e){var t=H_(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Ns.getLastRemoteSnapshotVersion(e)}))}function _x(e,t){var n=H_(e),r=t.snapshotVersion,i=n.Ki;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.ji.newChangeBuffer({trackRemovals:!0});i=n.Ki;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Ns.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Ns.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(LE.EMPTY_BYTE_STRING,uE.min()).withLastLimboFreeSnapshotVersion(uE.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Ns.updateTargetData(e,c))}}));var s=QS(),u=$S();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Ex(e,a,t.documentUpdates).next((function(e){s=e.Hi,u=e.Ji}))),!r.isEqual(uE.min())){var c=n.Ns.getLastRemoteSnapshotVersion(e).next((function(t){return n.Ns.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return _E.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Ki=i,e}))}function Ex(e,t,n){var r=$S(),i=$S();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=QS();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(uE.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):B_("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Hi:r,Ji:i}}))}function Cx(e,t){var n=H_(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Sx(e,t){var n=H_(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Ns.getTargetData(e,t).next((function(i){return i?(r=i,_E.resolve(r)):n.Ns.allocateTargetId(e).next((function(i){return r=new KI(t,i,0,e.currentSequenceNumber),n.Ns.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ki.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ki=n.Ki.insert(e.targetId,e),n.Gi.set(t,e.targetId)),e}))}function Ix(e,t,n){return xx.apply(this,arguments)}function xx(){return xx=as(rs().mark((function e(t,n,r){var i,a,o;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=H_(t),a=i.Ki.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),EE(e.t1)){e.next=12;break}throw e.t1;case 12:B_("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ki=i.Ki.remove(n),i.Gi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),xx.apply(this,arguments)}function Tx(e,t,n){var r=H_(e),i=uE.min(),a=$S();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=H_(e),i=r.Gi.get(n);return void 0!==i?_E.resolve(r.Ki.get(i)):r.Ns.getTargetData(t,n)}(r,e,YC(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ns.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Ui.getDocumentsMatchingQuery(e,t,n?i:uE.min(),n?a:$S())})).next((function(e){return Nx(r,nS(t),e),{documents:e,Yi:a}}))}))}function Nx(e,t,n){var r=e.Qi.get(t)||uE.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Qi.set(t,r)}var Rx=function(){function e(){d(this,e),this.activeTargetIds=tI()}return g(e,[{key:"sr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"ir",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"nr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Px=function(){function e(){d(this,e),this.Ur=new Rx,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return g(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Ur.sr(e),this.Kr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Kr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Ur.ir(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Kr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Ur.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Ur=new Rx,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Dx=function(){function e(){d(this,e)}return g(e,[{key:"Gr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Ox=function(){function e(){var t=this;d(this,e),this.Qr=function(){return t.jr()},this.zr=function(){return t.Wr()},this.Hr=[],this.Jr()}return g(e,[{key:"Gr",value:function(e){this.Hr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}},{key:"Jr",value:function(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}},{key:"jr",value:function(){B_("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=S(this.Hr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Wr",value:function(){B_("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=S(this.Hr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Lx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Mx=function(){function e(t){d(this,e),this.Yr=t.Yr,this.Zr=t.Zr}return g(e,[{key:"Xr",value:function(e){this.eo=e}},{key:"no",value:function(e){this.so=e}},{key:"onMessage",value:function(e){this.io=e}},{key:"close",value:function(){this.Zr()}},{key:"send",value:function(e){this.Yr(e)}},{key:"ro",value:function(){this.eo()}},{key:"oo",value:function(e){this.so(e)}},{key:"uo",value:function(e){this.io(e)}}]),e}(),Ux=function(e){A(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return g(n,[{key:"wo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new D_;o.setWithCredentials(!0),o.listenOnce(x_.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case I_.NO_ERROR:var t=o.getResponseJson();B_("Connection","XHR received:",JSON.stringify(t)),i(t);break;case I_.TIMEOUT:B_("Connection",'RPC "'+e+'" timed out'),a(new K_(W_.DEADLINE_EXCEEDED,"Request time out"));break;case I_.HTTP_ERROR:var n=o.getStatus();if(B_("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(W_).indexOf(t)>=0?t:W_.UNKNOWN}(s.status);a(new K_(u,s.message))}else a(new K_(W_.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new K_(W_.UNAVAILABLE,"Connection failed."));break;default:z_()}}finally{B_("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"yo",value:function(e,t,n){var r=[this.co,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=C_(),a=S_(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new R_({})),this._o(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var s=r.join("");B_("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new Mx({Yr:function(e){l?B_("Connection","Not sending because WebChannel is closed:",e):(c||(B_("Connection","Opening WebChannel transport."),u.open(),c=!0),B_("Connection","WebChannel sending:",e),u.send(e))},Zr:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,P_.EventType.OPEN,(function(){l||B_("Connection","WebChannel transport opened.")})),h(u,P_.EventType.CLOSE,(function(){l||(l=!0,B_("Connection","WebChannel transport closed"),f.oo())})),h(u,P_.EventType.ERROR,(function(e){l||(l=!0,V_("Connection","WebChannel transport errored:",e),f.oo(new K_(W_.UNAVAILABLE,"The operation could not be completed")))})),h(u,P_.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Q_(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){B_("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=LS[e];if(void 0!==t)return VS(t)}(a),s=i.message;void 0===o&&(o=W_.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.oo(new K_(o,s)),u.close()}else B_("Connection","WebChannel received:",n),f.uo(n)}})),h(a,T_.STAT_EVENT,(function(e){e.stat===N_.PROXY?B_("Connection","Detected buffering proxy"):e.stat===N_.NOPROXY&&B_("Connection","Detected no buffering proxy")})),setTimeout((function(){f.ro()}),0),f}}]),n}(function(){function e(t){d(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.co=n+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return g(e,[{key:"ho",get:function(){return!1}},{key:"lo",value:function(e,t,n,r,i){var a=this.fo(e,t);B_("RestConnection","Sending: ",a,n);var o={};return this._o(o,r,i),this.wo(e,a,o,n).then((function(e){return B_("RestConnection","Received: ",e),e}),(function(t){throw V_("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"mo",value:function(e,t,n,r,i,a){return this.lo(e,t,n,r,i)}},{key:"_o",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+M_,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"fo",value:function(e,t){var n=Lx[e];return"".concat(this.co,"/v1/").concat(t,":").concat(n)}}]),e}());function Fx(){return"undefined"!=typeof document?document:null}function Bx(e){return new pI(e,!0)}var jx=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;d(this,e),this.Ys=t,this.timerId=n,this.po=r,this.Io=i,this.To=a,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}return g(e,[{key:"reset",value:function(){this.Eo=0}},{key:"bo",value:function(){this.Eo=this.To}},{key:"vo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Eo+this.Po()),r=Math.max(0,Date.now()-this.Ro),i=Math.max(0,n-r);i>0&&B_("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Eo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,i,(function(){return t.Ro=Date.now(),e()})),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}},{key:"Vo",value:function(){null!==this.Ao&&(this.Ao.skipDelay(),this.Ao=null)}},{key:"cancel",value:function(){null!==this.Ao&&(this.Ao.cancel(),this.Ao=null)}},{key:"Po",value:function(){return(Math.random()-.5)*this.Eo}}]),e}(),Vx=function(){function e(t,n,r,i,a,o,s,u){d(this,e),this.Ys=t,this.So=r,this.Do=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new jx(t,n)}return g(e,[{key:"Oo",value:function(){return 1===this.state||5===this.state||this.Mo()}},{key:"Mo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Fo()}},{key:"stop",value:function(){var e=as(rs().mark((function e(){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Oo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$o",value:function(){this.state=0,this.ko.reset()}},{key:"Bo",value:function(){var e=this;this.Mo()&&null===this.xo&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,(function(){return e.Lo()})))}},{key:"qo",value:function(e){this.Uo(),this.stream.send(e)}},{key:"Lo",value:function(){var e=as(rs().mark((function e(){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Mo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){this.xo&&(this.xo.cancel(),this.xo=null)}},{key:"Ko",value:function(){this.No&&(this.No.cancel(),this.No=null)}},{key:"close",value:function(){var e=as(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Uo(),this.Ko(),this.ko.cancel(),this.Co++,4!==t?this.ko.reset():n&&n.code===W_.RESOURCE_EXHAUSTED?(j_(n.toString()),j_("Using maximum backoff delay to prevent overloading the backend."),this.ko.bo()):n&&n.code===W_.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Go(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.no(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Go",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Qo(this.Co),n=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=u(t,2),i=r[0],a=r[1];e.Co===n&&e.jo(i,a)}),(function(n){t((function(){var t=new K_(W_.UNKNOWN,"Fetching auth token failed: "+n.message);return e.zo(t)}))}))}},{key:"jo",value:function(e,t){var n=this,r=this.Qo(this.Co);this.stream=this.Wo(e,t),this.stream.Xr((function(){r((function(){return n.state=2,n.No=n.Ys.enqueueAfterDelay(n.Do,1e4,(function(){return n.Mo()&&(n.state=3),Promise.resolve()})),n.listener.Xr()}))})),this.stream.no((function(e){r((function(){return n.zo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Fo",value:function(){var e=this;this.state=5,this.ko.vo(as(rs().mark((function t(){return rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"zo",value:function(e){return B_("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Qo",value:function(e){var t=this;return function(n){t.Ys.enqueueAndForget((function(){return t.Co===e?n():(B_("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),qx=function(e){A(n,e);var t=_(n);function n(e,r,i,a,o,s){var u;return d(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).Tt=o,u}return g(n,[{key:"Wo",value:function(e,t){return this.connection.yo("Listen",e,t)}},{key:"onMessage",value:function(e){this.ko.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:z_()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.yt?(Q_(void 0===t||"string"==typeof t),LE.fromBase64String(t||"")):(Q_(void 0===t||t instanceof Uint8Array),LE.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?W_.UNKNOWN:VS(e.code);return new K_(t,e.message||"")}(o);n=new oI(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=bI(e,u.document.name),l=mI(u.document.updateTime),f=u.document.createTime?mI(u.document.createTime):uE.min(),h=new DC({mapValue:{fields:u.document.fields}}),d=LC.newFoundDocument(c,l,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new iI(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var y=t.documentDelete;y.document;var g=bI(e,y.document),m=y.readTime?mI(y.readTime):uE.min(),A=LC.newNoDocument(g,m),k=y.removedTargetIds||[];n=new iI([],k,A.key,A)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var b=bI(e,w.document),_=w.removedTargetIds||[];n=new iI([],_,b,null)}else{if(!("filter"in t))return z_();t.filter;var E=t.filter;E.targetId;var C=E.count||0,S=new BS(C),I=E.targetId;n=new aI(I,S)}return n}(this.Tt,e),n=function(e){if(!("targetChange"in e))return uE.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?uE.min():t.readTime?mI(t.readTime):uE.min()}(e);return this.listener.Ho(t,n)}},{key:"Jo",value:function(e){var t={};t.database=CI(this.Tt),t.addTarget=function(e,t){var n,r=t.target;return(n=jC(r)?{documents:TI(e,r)}:{query:NI(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=yI(e,t.resumeToken):t.snapshotVersion.compareTo(uE.min())>0&&(n.readTime=vI(e,t.snapshotVersion.toTimestamp())),n}(this.Tt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return z_()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.Tt,e);n&&(t.labels=n),this.qo(t)}},{key:"Yo",value:function(e){var t={};t.database=CI(this.Tt),t.removeTarget=e,this.qo(t)}}]),n}(Vx),zx=function(e){A(n,e);var t=_(n);function n(e,r,i,a,o,s){var u;return d(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).Tt=o,u.Zo=!1,u}return g(n,[{key:"Xo",get:function(){return this.Zo}},{key:"start",value:function(){this.Zo=!1,this.lastStreamToken=void 0,cs(k(n.prototype),"start",this).call(this)}},{key:"Go",value:function(){this.Zo&&this.tu([])}},{key:"Wo",value:function(e,t){return this.connection.yo("Write",e,t)}},{key:"onMessage",value:function(e){if(Q_(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Zo){this.ko.reset();var t=function(e,t){return e&&e.length>0?(Q_(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?mI(e.updateTime):mI(t);return n.isEqual(uE.min())&&(n=mI(t)),new wS(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=mI(e.commitTime);return this.listener.eu(n,t)}return Q_(!e.writeResults||0===e.writeResults.length),this.Zo=!0,this.listener.nu()}},{key:"su",value:function(){var e={};e.database=CI(this.Tt),this.qo(e)}},{key:"tu",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return xI(t.Tt,e)}))};this.qo(n)}}]),n}(Vx),Qx=function(e){A(n,e);var t=_(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.Tt=a,o.iu=!1,o}return g(n,[{key:"ru",value:function(){if(this.iu)throw new K_(W_.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"lo",value:function(e,t,n){var r=this;return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=u(i,2),o=a[0],s=a[1];return r.connection.lo(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===W_.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new K_(W_.UNKNOWN,e.toString())}))}},{key:"mo",value:function(e,t,n,r){var i=this;return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=u(a,2),s=o[0],c=o[1];return i.connection.mo(e,t,n,s,c,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===W_.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new K_(W_.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.iu=!0}}]),n}(function(){return g((function e(){d(this,e)}))}());var Hx=function(){function e(t,n){d(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}return g(e,[{key:"au",value:function(){var e=this;0===this.ou&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.uu=null,e.lu("Backend didn't respond within 10 seconds."),e.hu("Offline"),Promise.resolve()})))}},{key:"fu",value:function(e){"Online"===this.state?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.hu("Offline")))}},{key:"set",value:function(e){this.du(),this.ou=0,"Online"===e&&(this.cu=!1),this.hu(e)}},{key:"hu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"lu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.cu?(j_(t),this.cu=!1):B_("OnlineStateTracker",t)}},{key:"du",value:function(){null!==this.uu&&(this.uu.cancel(),this.uu=null)}}]),e}(),Wx=g((function e(t,n,r,i,a){var o=this;d(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=a,this.yu.Gr((function(e){r.enqueueAndForget(as(rs().mark((function e(){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=rT(o),!e.t0){e.next=5;break}return B_("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=as(rs().mark((function e(t){var n;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=H_(t)).mu.add(4),e.next=4,Yx(n);case 4:return n.pu.set("Unknown"),n.mu.delete(4),e.next=8,Kx(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.pu=new Hx(r,i)}));function Kx(e){return Gx.apply(this,arguments)}function Gx(){return Gx=as(rs().mark((function e(t){var n,r,i;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!rT(t)){e.next=18;break}n=S(t.gu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Gx.apply(this,arguments)}function Yx(e){return Jx.apply(this,arguments)}function Jx(){return Jx=as(rs().mark((function e(t){var n,r,i;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=S(t.gu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Jx.apply(this,arguments)}function Xx(e,t){var n=H_(e);n.wu.has(t.targetId)||(n.wu.set(t.targetId,t),nT(n)?tT(n):PT(n).Mo()&&$x(n,t))}function Zx(e,t){var n=H_(e),r=PT(n);n.wu.delete(t),r.Mo()&&eT(n,t),0===n.wu.size&&(r.Mo()?r.Bo():rT(n)&&n.pu.set("Unknown"))}function $x(e,t){e.Iu.Ft(t.targetId),PT(e).Jo(t)}function eT(e,t){e.Iu.Ft(t),PT(e).Yo(t)}function tT(e){e.Iu=new uI({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ie:function(t){return e.wu.get(t)||null}}),PT(e).start(),e.pu.au()}function nT(e){return rT(e)&&!PT(e).Oo()&&e.wu.size>0}function rT(e){return 0===H_(e).mu.size}function iT(e){e.Iu=void 0}function aT(e){return oT.apply(this,arguments)}function oT(){return oT=as(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.wu.forEach((function(e,n){$x(t,e)}));case 1:case"end":return e.stop()}}),e)}))),oT.apply(this,arguments)}function sT(e,t){return uT.apply(this,arguments)}function uT(){return uT=as(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:iT(t),nT(t)?(t.pu.fu(n),tT(t)):t.pu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),uT.apply(this,arguments)}function cT(e,t,n){return lT.apply(this,arguments)}function lT(){return lT=as(rs().mark((function e(t,n,r){var i;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.pu.set("Online"),!(n instanceof oI&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=as(rs().mark((function e(t,n){var r,i,a,o;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=S(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.wu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.wu.delete(o),t.Iu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),B_("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,fT(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof iI?t.Iu.Qt(n):n instanceof aI?t.Iu.Zt(n):t.Iu.Wt(n),r.isEqual(uE.min())){e.next=29;break}return e.prev=14,e.next=17,bx(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Iu.ee(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.wu.get(r);i&&e.wu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.wu.get(t);if(n){e.wu.set(t,n.withResumeToken(LE.EMPTY_BYTE_STRING,n.snapshotVersion)),eT(e,t);var r=new KI(n.target,t,1,n.sequenceNumber);$x(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),B_("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,fT(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),lT.apply(this,arguments)}function fT(e,t,n){return hT.apply(this,arguments)}function hT(){return hT=as(rs().mark((function e(t,n,r){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(EE(n)){e.next=2;break}throw n;case 2:return t.mu.add(1),e.next=5,Yx(t);case 5:t.pu.set("Offline"),r||(r=function(){return bx(t.localStore)}),t.asyncQueue.enqueueRetryable(as(rs().mark((function e(){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B_("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.mu.delete(1),e.next=6,Kx(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),hT.apply(this,arguments)}function dT(e,t){return t().catch((function(n){return fT(e,n,t)}))}function pT(e){return vT.apply(this,arguments)}function vT(){return vT=as(rs().mark((function e(t){var n,r,i,a;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=H_(t),r=DT(n),i=n._u.length>0?n._u[n._u.length-1].batchId:-1;case 2:if(!yT(n)){e.next=19;break}return e.prev=3,e.next=6,Cx(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n._u.length&&r.Bo(),e.abrupt("break",19);case 10:i=a.batchId,gT(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,fT(n,e.t0);case 17:e.next=2;break;case 19:mT(n)&&AT(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),vT.apply(this,arguments)}function yT(e){return rT(e)&&e._u.length<10}function gT(e,t){e._u.push(t);var n=DT(e);n.Mo()&&n.Xo&&n.tu(t.mutations)}function mT(e){return rT(e)&&!DT(e).Oo()&&e._u.length>0}function AT(e){DT(e).start()}function kT(e){return wT.apply(this,arguments)}function wT(){return wT=as(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:DT(t).su();case 1:case"end":return e.stop()}}),e)}))),wT.apply(this,arguments)}function bT(e){return _T.apply(this,arguments)}function _T(){return _T=as(rs().mark((function e(t){var n,r,i,a;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=DT(t),r=S(t._u);try{for(r.s();!(i=r.n()).done;)a=i.value,n.tu(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),_T.apply(this,arguments)}function ET(e,t,n){return CT.apply(this,arguments)}function CT(){return CT=as(rs().mark((function e(t,n,r){var i,a;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t._u.shift(),a=HI.from(i,n,r),e.next=3,dT(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,pT(t);case 5:case"end":return e.stop()}}),e)}))),CT.apply(this,arguments)}function ST(e,t){return IT.apply(this,arguments)}function IT(){return IT=as(rs().mark((function e(t,n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&DT(t).Xo,!e.t0){e.next=4;break}return e.next=4,function(){var e=as(rs().mark((function e(t,n){var r,i;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!jS(i=n.code)||i===W_.ABORTED){e.next=7;break}return r=t._u.shift(),DT(t).$o(),e.next=5,dT(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,pT(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:mT(t)&&AT(t);case 5:case"end":return e.stop()}}),e)}))),IT.apply(this,arguments)}function xT(e,t){return TT.apply(this,arguments)}function TT(){return TT=as(rs().mark((function e(t,n){var r,i;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=H_(t)).asyncQueue.verifyOperationInProgress(),B_("RemoteStore","RemoteStore received new credentials"),i=rT(r),r.mu.add(3),e.next=6,Yx(r);case 6:return i&&r.pu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.mu.delete(3),e.next=12,Kx(r);case 12:case"end":return e.stop()}}),e)}))),TT.apply(this,arguments)}function NT(e,t){return RT.apply(this,arguments)}function RT(){return RT=as(rs().mark((function e(t,n){var r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=H_(t),!n){e.next=7;break}return r.mu.delete(2),e.next=5,Kx(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.mu.add(2),e.next=12,Yx(r);case 12:r.pu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),RT.apply(this,arguments)}function PT(e){return e.Tu||(e.Tu=function(e,t,n){var r=H_(e);return r.ru(),new qx(t,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,n)}(e.datastore,e.asyncQueue,{Xr:aT.bind(null,e),no:sT.bind(null,e),Ho:cT.bind(null,e)}),e.gu.push(function(){var t=as(rs().mark((function t(n){return rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Tu.$o(),nT(e)?tT(e):e.pu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Tu.stop();case 6:iT(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Tu}function DT(e){return e.Eu||(e.Eu=function(e,t,n){var r=H_(e);return r.ru(),new zx(t,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,n)}(e.datastore,e.asyncQueue,{Xr:kT.bind(null,e),no:ST.bind(null,e),nu:bT.bind(null,e),eu:ET.bind(null,e)}),e.gu.push(function(){var t=as(rs().mark((function t(n){return rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Eu.$o(),t.next=4,pT(e);case 4:t.next=9;break;case 6:return t.next=8,e.Eu.stop();case 8:e._u.length>0&&(B_("RemoteStore","Stopping write stream with ".concat(e._u.length," pending writes")),e._u=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Eu}var OT=function(){function e(t,n,r,i,a){d(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new G_,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return g(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new K_(W_.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function LT(e,t){if(j_("AsyncQueue","".concat(t,": ").concat(e)),EE(e))return new K_(W_.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var MT=function(){function e(t){d(this,e),this.comparator=t?function(e,n){return t(e,n)||dE.comparator(e.key,n.key)}:function(e,t){return dE.comparator(e.key,t.key)},this.keyedMap=WS(),this.sortedSet=new IC(this.comparator)}return g(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),UT=function(){function e(){d(this,e),this.Au=new IC(dE.comparator)}return g(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Au.get(t);n?0!==e.type&&3===n.type?this.Au=this.Au.insert(t,e):3===e.type&&1!==n.type?this.Au=this.Au.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Au=this.Au.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Au=this.Au.remove(t):1===e.type&&2===n.type?this.Au=this.Au.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):z_():this.Au=this.Au.insert(t,e)}},{key:"Ru",value:function(){var e=[];return this.Au.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),FT=function(){function e(t,n,r,i,a,o,s,u,c){d(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return g(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ZC(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,MT.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),BT=g((function e(){d(this,e),this.bu=void 0,this.listeners=[]})),jT=g((function e(){d(this,e),this.queries=new qS((function(e){return $C(e)}),ZC),this.onlineState="Unknown",this.vu=new Set}));function VT(e,t){return qT.apply(this,arguments)}function qT(){return qT=as(rs().mark((function e(t,n){var r,i,a,o,s;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=H_(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new BT),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.bu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=LT(e.t0,"Initialization of query '".concat(eS(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.Pu(r.onlineState),o.bu&&n.Vu(o.bu)&&KT(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),qT.apply(this,arguments)}function zT(e,t){return QT.apply(this,arguments)}function QT(){return QT=as(rs().mark((function e(t,n){var r,i,a,o,s;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=H_(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),QT.apply(this,arguments)}function HT(e,t){var n,r=H_(e),i=!1,a=S(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=S(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Vu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.bu=o}}}catch(f){a.e(f)}finally{a.f()}i&&KT(r)}function WT(e,t,n){var r=H_(e),i=r.queries.get(t);if(i){var a,o=S(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function KT(e){e.vu.forEach((function(e){e.next()}))}var GT=function(){function e(t,n,r){d(this,e),this.query=t,this.Su=n,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=r||{}}return g(e,[{key:"Vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=S(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new FT(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Du?this.xu(e)&&(this.Su.next(e),a=!0):this.Nu(e,this.onlineState)&&(this.ku(e),a=!0),this.Cu=e,a}},{key:"onError",value:function(e){this.Su.error(e)}},{key:"Pu",value:function(e){this.onlineState=e;var t=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,e)&&(this.ku(this.Cu),t=!0),t}},{key:"Nu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Ou||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"xu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Cu&&this.Cu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"ku",value:function(e){e=FT.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Du=!0,this.Su.next(e)}}]),e}();var YT=g((function e(t){d(this,e),this.key=t})),JT=g((function e(t){d(this,e),this.key=t})),XT=function(){function e(t,n){d(this,e),this.query=t,this.Ku=n,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=$S(),this.mutatedKeys=$S(),this.ju=rS(t),this.zu=new MT(this.ju)}return g(e,[{key:"Wu",get:function(){return this.Ku}},{key:"Hu",value:function(e,t){var n=this,r=t?t.Ju:new UT,i=t?t.zu:this.zu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=tS(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Yu(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.ju(f,u)>0||c&&n.ju(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{zu:o,Ju:r,Li:s,mutatedKeys:a}}},{key:"Yu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.zu;this.zu=e.zu,this.mutatedKeys=e.mutatedKeys;var a=e.Ju.Ru();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return z_()}};return n(e)-n(t)}(e.type,t.type)||r.ju(e.doc,t.doc)})),this.Zu(n);var o=t?this.Xu():[],s=0===this.Qu.size&&this.current?1:0,u=s!==this.Gu;return this.Gu=s,0!==a.length||u?{snapshot:new FT(this.query,e.zu,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),tc:o}:{tc:o}}},{key:"Pu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new UT,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}},{key:"ec",value:function(e){return!this.Ku.has(e)&&!!this.zu.has(e)&&!this.zu.get(e).hasLocalMutations}},{key:"Zu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Ku=t.Ku.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Ku=t.Ku.delete(e)})),this.current=e.current)}},{key:"Xu",value:function(){var e=this;if(!this.current)return[];var t=this.Qu;this.Qu=$S(),this.zu.forEach((function(t){e.ec(t.key)&&(e.Qu=e.Qu.add(t.key))}));var n=[];return t.forEach((function(t){e.Qu.has(t)||n.push(new JT(t))})),this.Qu.forEach((function(e){t.has(e)||n.push(new YT(e))})),n}},{key:"nc",value:function(e){this.Ku=e.Yi,this.Qu=$S();var t=this.Hu(e.documents);return this.applyChanges(t,!0)}},{key:"sc",value:function(){return FT.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,0===this.Gu,this.hasCachedResults)}}]),e}(),ZT=g((function e(t,n,r){d(this,e),this.query=t,this.targetId=n,this.view=r})),$T=g((function e(t){d(this,e),this.key=t,this.ic=!1})),eN=function(){function e(t,n,r,i,a,o){d(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.rc={},this.oc=new qS((function(e){return $C(e)}),ZC),this.uc=new Map,this.cc=new Set,this.ac=new IC(dE.comparator),this.hc=new Map,this.lc=new ox,this.fc={},this.dc=new Map,this._c=ex.Sn(),this.onlineState="Unknown",this.wc=void 0}return g(e,[{key:"isPrimaryClient",get:function(){return!0===this.wc}}]),e}();function tN(e,t){return nN.apply(this,arguments)}function nN(){return nN=as(rs().mark((function e(t,n){var r,i,a,o,s,u;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=NN(t),!(o=r.oc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.sc(),e.next=15;break;case 6:return e.next=8,Sx(r.localStore,YC(n));case 8:return s=e.sent,r.isPrimaryClient&&Xx(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,rN(r,n,i,"current"===u,s.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),nN.apply(this,arguments)}function rN(e,t,n,r,i){return iN.apply(this,arguments)}function iN(){return iN=as(rs().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.mc=function(e,n,r){return function(){var e=as(rs().mark((function e(t,n,r,i){var a,o,s;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Hu(r),e.t0=a.Li,!e.t0){e.next=6;break}return e.next=5,Tx(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Hu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(bN(t,n.targetId,s.tc),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Tx(t.localStore,n,!0);case 3:return o=e.sent,s=new XT(n,o.Yi),u=s.Hu(o.documents),c=rI.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),bN(t,r,l.tc),f=new ZT(n,r,s),e.abrupt("return",(t.oc.set(n,f),t.uc.has(r)?t.uc.get(r).push(n):t.uc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),iN.apply(this,arguments)}function aN(e,t){return oN.apply(this,arguments)}function oN(){return oN=as(rs().mark((function e(t,n){var r,i,a;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=H_(t),i=r.oc.get(n),!((a=r.uc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.uc.set(i.targetId,a.filter((function(e){return!ZC(e,n)}))),void r.oc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Ix(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Zx(r.remoteStore,i.targetId),kN(r,i.targetId)})).catch(wE);case 9:e.next=14;break;case 11:return kN(r,i.targetId),e.next=14,Ix(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),oN.apply(this,arguments)}function sN(e,t,n){return uN.apply(this,arguments)}function uN(){return uN=as(rs().mark((function e(t,n,r){var i,a,o;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=RN(t),e.prev=1,e.next=4,function(e,t){var n,r,i=H_(e),a=sE.now(),o=t.reduce((function(e,t){return e.add(t.key)}),$S());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=QS(),u=$S();return i.ji.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=S(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=xS(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new RS(c.key,l,OC(l.value.mapValue),bS.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:KS(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.fc[e.currentUser.toKey()];r||(r=new IC(aE)),r=r.insert(t,n),e.fc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,CN(i,a.changes);case 9:return e.next=11,pT(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=LT(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),uN.apply(this,arguments)}function cN(e,t){return lN.apply(this,arguments)}function lN(){return lN=as(rs().mark((function e(t,n){var r,i;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=H_(t),e.prev=1,e.next=4,_x(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.hc.get(t);n&&(Q_(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ic=!0:e.modifiedDocuments.size>0?Q_(n.ic):e.removedDocuments.size>0&&(Q_(n.ic),n.ic=!1))})),e.next=8,CN(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,wE(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),lN.apply(this,arguments)}function fN(e,t,n){var r=H_(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.oc.forEach((function(e,n){var r=n.view.Pu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=H_(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=S(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Pu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&KT(n)}(r.eventManager,t),i.length&&r.rc.Ho(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function hN(e,t,n){return dN.apply(this,arguments)}function dN(){return dN=as(rs().mark((function e(t,n,r){var i,a,o,s,u,c;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=H_(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.hc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new IC(dE.comparator)).insert(o,LC.newNoDocument(o,uE.min())),u=$S().add(o),c=new nI(uE.min(),new Map,new NC(aE),s,u),e.next=9,cN(i,c);case 9:i.ac=i.ac.remove(o),i.hc.delete(n),EN(i),e.next=16;break;case 14:return e.next=16,Ix(i.localStore,n,!1).then((function(){return kN(i,n,r)})).catch(wE);case 16:case"end":return e.stop()}}),e)}))),dN.apply(this,arguments)}function pN(e,t){return vN.apply(this,arguments)}function vN(){return vN=as(rs().mark((function e(t,n){var r,i,a;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=H_(t),i=n.batch.batchId,e.prev=1,e.next=4,wx(r.localStore,n);case 4:return a=e.sent,AN(r,i,null),mN(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,CN(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,wE(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),vN.apply(this,arguments)}function yN(e,t,n){return gN.apply(this,arguments)}function gN(){return gN=as(rs().mark((function e(t,n,r){var i,a;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=H_(t),e.prev=1,e.next=4,function(e,t){var n=H_(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Q_(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,AN(i,n,r),mN(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,CN(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,wE(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),gN.apply(this,arguments)}function mN(e,t){(e.dc.get(t)||[]).forEach((function(e){e.resolve()})),e.dc.delete(t)}function AN(e,t,n){var r=H_(e),i=r.fc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.fc[r.currentUser.toKey()]=i}}function kN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=S(e.uc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.oc.delete(a),n&&e.rc.gc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.uc.delete(t),e.isPrimaryClient&&e.lc.ds(t).forEach((function(t){e.lc.containsKey(t)||wN(e,t)}))}function wN(e,t){e.cc.delete(t.path.canonicalString());var n=e.ac.get(t);null!==n&&(Zx(e.remoteStore,n),e.ac=e.ac.remove(t),e.hc.delete(n),EN(e))}function bN(e,t,n){var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof YT?(e.lc.addReference(a.key,t),_N(e,a)):a instanceof JT?(B_("SyncEngine","Document no longer in limbo: "+a.key),e.lc.removeReference(a.key,t),e.lc.containsKey(a.key)||wN(e,a.key)):z_()}}catch(o){i.e(o)}finally{i.f()}}function _N(e,t){var n=t.key,r=n.path.canonicalString();e.ac.get(n)||e.cc.has(r)||(B_("SyncEngine","New document in limbo: "+n),e.cc.add(r),EN(e))}function EN(e){for(;e.cc.size>0&&e.ac.size<e.maxConcurrentLimboResolutions;){var t=e.cc.values().next().value;e.cc.delete(t);var n=new dE(lE.fromString(t)),r=e._c.next();e.hc.set(r,new $T(n)),e.ac=e.ac.insert(n,r),Xx(e.remoteStore,new KI(YC(zC(n.path)),r,2,CE.at))}}function CN(e,t,n){return SN.apply(this,arguments)}function SN(){return SN=as(rs().mark((function e(t,n,r){var i,a,o,s;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=H_(t),a=[],o=[],s=[],e.t0=i.oc.isEmpty(),e.t0){e.next=9;break}return i.oc.forEach((function(e,t){s.push(i.mc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=vx.Ni(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.rc.Ho(a),e.next=9,function(){var e=as(rs().mark((function e(t,n){var r,i,a,o,s,u,c,l;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=H_(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return _E.forEach(n,(function(t){return _E.forEach(t.Ci,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return _E.forEach(t.xi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),EE(e.t0)){e.next=10;break}throw e.t0;case 10:B_("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=S(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.Ki.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.Ki=r.Ki.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),SN.apply(this,arguments)}function IN(e,t){return xN.apply(this,arguments)}function xN(){return xN=as(rs().mark((function e(t,n){var r,i;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=H_(t)).currentUser.isEqual(n)){e.next=11;break}return B_("SyncEngine","User change. New user:",n.toKey()),e.next=5,Ax(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.dc.forEach((function(e){e.forEach((function(e){e.reject(new K_(W_.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.dc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,CN(r,i.Wi);case 11:case"end":return e.stop()}}),e)}))),xN.apply(this,arguments)}function TN(e,t){var n=H_(e),r=n.hc.get(t);if(r&&r.ic)return $S().add(r.key);var i=$S(),a=n.uc.get(t);if(!a)return i;var o,s=S(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.oc.get(u);i=i.unionWith(c.view.Wu)}}catch(l){s.e(l)}finally{s.f()}return i}function NN(e){var t=H_(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=cN.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=TN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=hN.bind(null,t),t.rc.Ho=HT.bind(null,t.eventManager),t.rc.gc=WT.bind(null,t.eventManager),t}function RN(e){var t=H_(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=pN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=yN.bind(null,t),t}var PN=function(){function e(){d(this,e),this.synchronizeTabs=!1}return g(e,[{key:"initialize",value:function(){var e=as(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Tt=Bx(t.databaseInfo.databaseId),this.sharedClientState=this.Ic(t),this.persistence=this.Tc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ec(t),this.gcScheduler=this.Ac(t,this.localStore),this.indexBackfillerScheduler=this.Rc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ac",value:function(e,t){return null}},{key:"Rc",value:function(e,t){return null}},{key:"Ec",value:function(e){return mx(this.persistence,new yx,e.initialUser,this.Tt)}},{key:"Tc",value:function(e){return new hx(px.qs,this.Tt)}},{key:"Ic",value:function(e){return new Px}},{key:"terminate",value:function(){var e=as(rs().mark((function e(){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),DN=function(){function e(){d(this,e)}return g(e,[{key:"initialize",value:function(){var e=as(rs().mark((function e(t,n){var r=this;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return fN(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=IN.bind(null,this.syncEngine),e.next=12,NT(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new jT}},{key:"createDatastore",value:function(e){var t,n=Bx(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Ux(t));return function(e,t,n,r){return new Qx(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return fN(o.syncEngine,e,0)},a=Ox.C()?new Ox:new Dx,new Wx(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new eN(e,t,n,r,i,a);return o&&(s.wc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=as(rs().mark((function e(t){var n;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=H_(t),B_("RemoteStore","RemoteStore shutting down."),n.mu.add(5),e.next=5,Yx(n);case 5:n.yu.shutdown(),n.pu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var ON=function(){function e(t){d(this,e),this.observer=t,this.muted=!1}return g(e,[{key:"next",value:function(e){this.observer.next&&this.vc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.vc(this.observer.error,e):j_("Uncaught Error in snapshot listener:",e.toString())}},{key:"Pc",value:function(){this.muted=!0}},{key:"vc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),LN=function(){function e(t,n,r,i){var a=this;d(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=L_.UNAUTHENTICATED,this.clientId=iE.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=as(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B_("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return B_("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return g(e,[{key:"getConfiguration",value:function(){var e=as(rs().mark((function e(){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new K_(W_.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new G_;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(as(rs().mark((function n(){var r;return rs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=LT(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function MN(e,t){return UN.apply(this,arguments)}function UN(){return UN=as(rs().mark((function e(t,n){var r,i;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),B_("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=as(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Ax(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),UN.apply(this,arguments)}function FN(e,t){return BN.apply(this,arguments)}function BN(){return BN=as(rs().mark((function e(t,n){var r,i;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,jN(t);case 3:return r=e.sent,B_("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return xT(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return xT(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),BN.apply(this,arguments)}function jN(e){return VN.apply(this,arguments)}function VN(){return VN=as(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return B_("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,MN(t,new PN);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),VN.apply(this,arguments)}function qN(e){return zN.apply(this,arguments)}function zN(){return zN=as(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return B_("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,FN(t,new DN);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),zN.apply(this,arguments)}function QN(e){return qN(e).then((function(e){return e.syncEngine}))}function HN(e){return WN.apply(this,arguments)}function WN(){return WN=as(rs().mark((function e(t){var n,r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qN(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=tN.bind(null,n.syncEngine),r.onUnlisten=aN.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),WN.apply(this,arguments)}function KN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new G_;return e.asyncQueue.enqueueAndForget(as(rs().mark((function i(){return rs().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new ON({next:function(a){t.enqueueAndForget((function(){return zT(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new K_(W_.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new K_(W_.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new GT(zC(n.path),a,{includeMetadataChanges:!0,Ou:!0});return VT(e,o)},i.next=3,HN(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function GN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new G_;return e.asyncQueue.enqueueAndForget(as(rs().mark((function i(){return rs().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new ON({next:function(n){t.enqueueAndForget((function(){return zT(e,o)})),n.fromCache&&"server"===r.source?i.reject(new K_(W_.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new GT(n,a,{includeMetadataChanges:!0,Ou:!0});return VT(e,o)},i.next=3,HN(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var YN=new Map;function JN(e,t,n){if(!n)throw new K_(W_.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function XN(e){if(!dE.isDocumentKey(e))throw new K_(W_.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function ZN(e){if(dE.isDocumentKey(e))throw new K_(W_.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function $N(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":z_()}function eR(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new K_(W_.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=$N(e);throw new K_(W_.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var tR=function(){function e(t){var n;if(d(this,e),void 0===t.host){if(void 0!==t.ssl)throw new K_(W_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new K_(W_.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new K_(W_.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return g(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),nR=function(){function e(t,n,r,i){d(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tR({}),this._settingsFrozen=!1}return g(e,[{key:"app",get:function(){if(!this._app)throw new K_(W_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new K_(W_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tR(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new J_;switch(e.type){case"gapi":var t=e.client;return new eE(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new K_(W_.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=YN.get(e);t&&(B_("ComponentProvider","Removing Datastore"),YN.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function rR(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=eR(e,nR))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&V_("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=L_.MOCK_USER;else{o=xs(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new K_(W_.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new L_(u)}e._authCredentials=new X_(new Y_(o,s))}}var iR=function(){function e(t,n,r){d(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return g(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new oR(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),aR=function(){function e(t,n,r){d(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return g(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),oR=function(e){A(n,e);var t=_(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,e,r,zC(i)))._path=i,a.type="collection",a}return g(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new iR(this.firestore,null,new dE(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(aR);function sR(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=tu(e),JN("collection","path",t),e instanceof nR){var a=lE.fromString.apply(lE,[t].concat(r));return ZN(a),new oR(e,null,a)}if(!(e instanceof iR||e instanceof oR))throw new K_(W_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(lE.fromString.apply(lE,[t].concat(r)));return ZN(o),new oR(e.firestore,null,o)}function uR(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=tu(e),1===arguments.length&&(t=iE.R()),JN("doc","path",t),e instanceof nR){var a=lE.fromString.apply(lE,[t].concat(r));return XN(a),new iR(e,null,new dE(a))}if(!(e instanceof iR||e instanceof oR))throw new K_(W_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(lE.fromString.apply(lE,[t].concat(r)));return XN(o),new iR(e.firestore,e instanceof oR?e.converter:null,new dE(o))}var cR=function(){function e(){var t=this;d(this,e),this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new jx(this,"async_queue_retry"),this.Hc=function(){var e=Fx();e&&B_("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ko.Vo()};var n=Fx();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Hc)}return g(e,[{key:"isShuttingDown",get:function(){return this.Kc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Jc(),this.Yc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;var t=Fx();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Hc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Jc(),this.Kc)return new Promise((function(){}));var n=new G_;return this.Yc((function(){return t.Kc&&t.zc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Uc.push(e),t.Zc()}))}},{key:"Zc",value:function(){var e=as(rs().mark((function e(){var t=this;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Uc.length){e.next=14;break}return e.prev=1,e.next=4,this.Uc[0]();case 4:this.Uc.shift(),this.ko.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),EE(e.t0)){e.next=12;break}throw e.t0;case 12:B_("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Uc.length>0&&this.ko.vo((function(){return t.Zc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Yc",value:function(e){var t=this,n=this.qc.then((function(){return t.jc=!0,e().catch((function(e){t.Qc=e,t.jc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw j_("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.jc=!1,e}))}));return this.qc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Jc(),this.Wc.indexOf(e)>-1&&(t=0);var i=OT.createAndSchedule(this,e,t,n,(function(e){return r.Xc(e)}));return this.Gc.push(i),i}},{key:"Jc",value:function(){this.Qc&&z_()}},{key:"verifyOperationInProgress",value:function(){}},{key:"ta",value:function(){var e=as(rs().mark((function e(){var t;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.qc,e.next=3,t;case 3:if(t!==this.qc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ea",value:function(e){var t,n=S(this.Gc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"na",value:function(e){var t=this;return this.ta().then((function(){t.Gc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=S(t.Gc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.ta()}))}},{key:"sa",value:function(e){this.Wc.push(e)}},{key:"Xc",value:function(e){var t=this.Gc.indexOf(e);this.Gc.splice(t,1)}}]),e}();var lR=function(e){A(n,e);var t=_(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new cR,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return g(n,[{key:"_terminate",value:function(){return this._firestoreClient||hR(this),this._firestoreClient.terminate()}}]),n}(nR);function fR(e){return e._firestoreClient||hR(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function hR(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new SE(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new LN(e._authCredentials,e._appCheckCredentials,e._queue,r)}var dR=function(){function e(t){d(this,e),this._byteString=t}return g(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(LE.fromBase64String(t))}catch(t){throw new K_(W_.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(LE.fromUint8Array(t))}}]),e}(),pR=function(){function e(){d(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new K_(W_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hE(n)}return g(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var vR=g((function e(t){d(this,e),this._methodName=t})),yR=function(){function e(t,n){if(d(this,e),!isFinite(t)||t<-90||t>90)throw new K_(W_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new K_(W_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return g(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return aE(this._lat,e._lat)||aE(this._long,e._long)}}]),e}(),gR=/^__.*__$/,mR=function(){function e(t,n,r){d(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return g(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new RS(e,this.data,this.fieldMask,t,this.fieldTransforms):new NS(e,this.data,t,this.fieldTransforms)}}]),e}(),AR=function(){function e(t,n,r){d(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return g(e,[{key:"toMutation",value:function(e,t){return new RS(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function kR(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw z_()}}var wR=function(){function e(t,n,r,i,a,o){d(this,e),this.settings=t,this.databaseId=n,this.Tt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ia(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return g(e,[{key:"path",get:function(){return this.settings.path}},{key:"ra",get:function(){return this.settings.ra}},{key:"oa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ua",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.oa({path:n,ca:!1});return r.aa(e),r}},{key:"ha",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.oa({path:n,ca:!1});return r.ia(),r}},{key:"la",value:function(e){return this.oa({path:void 0,ca:!0})}},{key:"fa",value:function(e){return BR(e,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ia",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.aa(this.path.get(e))}},{key:"aa",value:function(e){if(0===e.length)throw this.fa("Document fields must not be empty");if(kR(this.ra)&&gR.test(e))throw this.fa('Document fields cannot begin and end with "__"')}}]),e}(),bR=function(){function e(t,n,r){d(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.Tt=r||Bx(t)}return g(e,[{key:"wa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new wR({ra:e,methodName:t,_a:n,path:hE.emptyPath(),ca:!1,da:r},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}]),e}();function _R(e){var t=e._freezeSettings(),n=Bx(e._databaseId);return new bR(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ER(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.wa(a.merge||a.mergeFields?2:0,t,n,i);LR("Data must be an object, but it was:",o,r);var s,u,c=DR(r,o);if(a.merge)s=new PC(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=S(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=MR(t,l.value,n);if(!o.contains(d))throw new K_(W_.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));jR(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}s=new PC(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new mR(new DC(c),s,u)}var CR=function(e){A(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ra)throw 1===e.ra?e.fa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.fa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(vR);function SR(e,t,n){return new wR({ra:3,_a:t.settings._a,methodName:e._methodName,ca:n},t.databaseId,t.Tt,t.ignoreUndefinedProperties)}var IR=function(e){A(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e)).ma=r,i}return g(n,[{key:"_toFieldTransform",value:function(e){var t=SR(this,e,!0),n=this.ma.map((function(e){return PR(e,t)})),r=new dS(n);return new kS(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(vR),xR=function(e){A(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e)).ma=r,i}return g(n,[{key:"_toFieldTransform",value:function(e){var t=SR(this,e,!0),n=this.ma.map((function(e){return PR(e,t)})),r=new vS(n);return new kS(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(vR);function TR(e,t,n,r){var i=e.wa(1,t,n);LR("Data must be an object, but it was:",i,r);var a=[],o=DC.empty();TE(r,(function(e,r){var s=FR(t,e,n);r=tu(r);var u=i.ha(s);if(r instanceof CR)a.push(s);else{var c=PR(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new PC(a);return new AR(o,s,i.fieldTransforms)}function NR(e,t,n,r,i,a){var o=e.wa(1,t,n),s=[MR(t,r,n)],u=[i];if(a.length%2!=0)throw new K_(W_.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(MR(t,a[c])),u.push(a[c+1]);for(var l=[],f=DC.empty(),h=s.length-1;h>=0;--h)if(!jR(l,s[h])){var d=s[h],p=u[h];p=tu(p);var v=o.ha(d);if(p instanceof CR)l.push(d);else{var y=PR(p,v);null!=y&&(l.push(d),f.set(d,y))}}var g=new PC(l);return new AR(f,g,o.fieldTransforms)}function RR(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return PR(n,e.wa(r?4:3,t))}function PR(e,t){if(OR(e=tu(e)))return LR("Unsupported field value:",t,e),DR(e,t);if(e instanceof vR)return function(e,t){if(!kR(t.ra))throw t.fa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.fa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ca&&4!==t.ra)throw t.fa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=S(e);try{for(a.s();!(n=a.n()).done;){var o=PR(n.value,t.la(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=tu(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return sS(t.Tt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=sE.fromDate(e);return{timestampValue:vI(t.Tt,n)}}if(e instanceof sE){var r=new sE(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:vI(t.Tt,r)}}if(e instanceof yR)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof dR)return{bytesValue:yI(t.Tt,e._byteString)};if(e instanceof iR){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.fa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:AI(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.fa("Unsupported field value: ".concat($N(e)))}(e,t)}function DR(e,t){var n={};return NE(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):TE(e,(function(e,r){var i=PR(r,t.ua(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function OR(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof sE||e instanceof yR||e instanceof dR||e instanceof iR||e instanceof vR)}function LR(e,t,n){if(!OR(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=$N(n);throw"an object"===r?t.fa(e+" a custom object"):t.fa(e+" "+r)}}function MR(e,t,n){if((t=tu(t))instanceof pR)return t._internalPath;if("string"==typeof t)return FR(e,t);throw BR("Field path arguments must be of type string or ",e,!1,void 0,n)}var UR=new RegExp("[~\\*/\\[\\]]");function FR(e,t,n){if(t.search(UR)>=0)throw BR("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return E(pR,h(t.split(".")))._internalPath}catch(r){throw BR("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function BR(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new K_(W_.INVALID_ARGUMENT,s+e+u)}function jR(e,t){return e.some((function(e){return e.isEqual(t)}))}var VR=function(){function e(t,n,r,i,a){d(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return g(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new iR(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new qR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(zR("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),qR=function(e){A(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(){return cs(k(n.prototype),"data",this).call(this)}}]),n}(VR);function zR(e,t){return"string"==typeof t?FR(e,t):t instanceof pR?t._internalPath:t._delegate._internalPath}function QR(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new K_(W_.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var HR=g((function e(){d(this,e)})),WR=function(e){A(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n)}(HR);function KR(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof HR&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof JR})).length,n=e.filter((function(e){return e instanceof GR})).length;if(t>1||t>0&&n>0)throw new K_(W_.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=S(n);try{for(s.s();!(o=s.n()).done;){e=o.value._apply(e)}}catch(u){s.e(u)}finally{s.f()}return e}var GR=function(e){A(n,e);var t=_(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return g(n,[{key:"_apply",value:function(e){var t=this._parse(e);return $R(e._query,t),new aR(e.firestore,e.converter,JC(e._query,t))}},{key:"_parse",value:function(e){var t=_R(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new K_(W_.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){ZR(o,a);var u,c=[],l=S(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(XR(r,e,f))}}catch(h){l.e(h)}finally{l.f()}s={arrayValue:{values:c}}}else s=XR(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||ZR(o,a),s=RR(n,"where",o,"in"===a||"not-in"===a);return cC.create(i,a,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(WR);function YR(e,t,n){var r=t,i=zR("where",e);return GR._create(i,r,n)}var JR=function(e){A(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return g(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:lC.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=S(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;$R(r,a),r=JC(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new aR(e.firestore,e.converter,JC(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(HR);function XR(e,t,n){if("string"==typeof(n=tu(n))){if(""===n)throw new K_(W_.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!KC(t)&&-1!==n.indexOf("/"))throw new K_(W_.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(lE.fromString(n));if(!dE.isDocumentKey(r))throw new K_(W_.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return XE(e,new dE(r))}if(n instanceof iR)return XE(e,n._key);throw new K_(W_.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat($N(n),"."))}function ZR(e,t){if(!Array.isArray(e)||0===e.length)throw new K_(W_.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function $R(e,t){if(t.isInequality()){var n=WC(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new K_(W_.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=HC(e);null!==i&&eP(e,r,i)}var a=function(e,t){var n,r=S(e);try{for(r.s();!(n=r.n()).done;){var i,a=S(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new K_(W_.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new K_(W_.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function eP(e,t,n){if(!n.isEqual(t))throw new K_(W_.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var tP=function(){function e(){d(this,e)}return g(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(QE(e)){case 0:return null;case 1:return e.booleanValue;case 2:return FE(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(BE(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw z_()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return TE(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new yR(FE(e.latitude),FE(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=VE(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(qE(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=UE(e);return new sE(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=lE.fromString(e);Q_(jI(n));var r=new IE(n.get(1),n.get(3)),i=new dE(n.popFirst(5));return r.isEqual(t)||j_("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function nP(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var rP=function(){function e(t,n){d(this,e),this.hasPendingWrites=t,this.fromCache=n}return g(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),iP=function(e){A(n,e);var t=_(n);function n(e,r,i,a,o,s){var u;return d(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return g(n,[{key:"exists",value:function(){return cs(k(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new aP(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(zR("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(VR),aP=function(e){A(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return cs(k(n.prototype),"data",this).call(this,e)}}]),n}(iP),oP=function(){function e(t,n,r,i){d(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new rP(i.hasPendingWrites,i.fromCache),this.query=r}return g(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new aP(n._firestore,n._userDataWriter,r.key,r,new rP(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new K_(W_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new aP(e._firestore,e._userDataWriter,t.doc.key,t.doc,new rP(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new aP(e._firestore,e._userDataWriter,t.doc.key,t.doc,new rP(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:sP(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function sP(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return z_()}}function uP(e){e=eR(e,iR);var t=eR(e.firestore,lR);return KN(fR(t),e._key).then((function(n){return vP(t,e,n)}))}var cP=function(e){A(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return g(n,[{key:"convertBytes",value:function(e){return new dR(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new iR(this.firestore,null,t)}}]),n}(tP);function lP(e){e=eR(e,aR);var t=eR(e.firestore,lR),n=fR(t),r=new cP(t);return QR(e._query),GN(n,e._query).then((function(n){return new oP(t,r,e,n)}))}function fP(e,t,n){e=eR(e,iR);var r=eR(e.firestore,lR),i=nP(e.converter,t,n);return pP(r,[ER(_R(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,bS.none())])}function hP(e,t,n){e=eR(e,iR);for(var r=eR(e.firestore,lR),i=_R(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return pP(r,[("string"==typeof(t=tu(t))||t instanceof pR?NR(i,"updateDoc",e._key,t,n,o):TR(i,"updateDoc",e._key,t)).toMutation(e._key,bS.exists(!0))])}function dP(e){return pP(eR(e.firestore,lR),[new US(e._key,bS.none())])}function pP(e,t){return function(e,t){var n=new G_;return e.asyncQueue.enqueueAndForget(as(rs().mark((function r(){return rs().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=sN,r.next=3,QN(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(fR(e),t)}function vP(e,t,n){var r=n.docs.get(t._key),i=new cP(e);return new iP(e,i,t._key,r,new rP(n.hasPendingWrites,n.fromCache),t.converter)}function yP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new IR("arrayUnion",t)}function gP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new xR("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){M_=e}(Ku),qu(new nu("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new lR(new Z_(e.getProvider("auth-internal")),new nE(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new K_(W_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new IE(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Ju(O_,"3.8.4",e),Ju(O_,"3.8.4","esm2017")}();var mP,AP=Gu({apiKey:"AIzaSyBat-YL7LctaH5CRu3TzdWWlXSvPB41bEs",authDomain:"insta-clone-30755.firebaseapp.com",databaseURL:"https://insta-clone-30755-default-rtdb.europe-west1.firebasedatabase.app",projectId:"insta-clone-30755",storageBucket:"gs://insta-clone-30755.appspot.com",messagingSenderId:"281434029671",appId:"1:281434029671:web:9c5edda7987815648bdec2"}),kP=Id(),wP=function(e,t){var n="string"==typeof e?e:t||"(default)",r=zu("object"==typeof e?e:Yu(),"firestore").getImmediate({identifier:n});if(!r._initialized){var i=Es("firestore");i&&rR.apply(void 0,[r].concat(h(i)))}return r}(AP),bP=xA(AP),_P=(new df,"firebasestorage.googleapis.com"),EP="storageBucket",CP=function(e){A(n,e);var t=_(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return d(this,n),(i=t.call(this,SP(e),"Firebase Storage: ".concat(r," (").concat(SP(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(b(i),n.prototype),i}return g(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return SP(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Ls);function SP(e){return"storage/"+e}function IP(){return new CP(mP.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function xP(){return new CP(mP.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function TP(){return new CP(mP.CANCELED,"User canceled the upload/download.")}function NP(){return new CP(mP.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function RP(e){return new CP(mP.INVALID_ARGUMENT,e)}function PP(){return new CP(mP.APP_DELETED,"The Firebase app was deleted.")}function DP(e,t){return new CP(mP.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function OP(e){throw new CP(mP.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(mP||(mP={}));var LP,MP=function(){function e(t,n){d(this,e),this.bucket=t,this.path_=n}return g(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r,i;try{r=e.makeFromUrl(t,n)}catch(a){return new e(t,"")}if(""===r.path)return r;throw i=t,new CP(mP.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===_P?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new CP(mP.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return r}}]),e}(),UP=function(){function e(t){d(this,e),this.promise_=Promise.reject(t)}return g(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function FP(e){return"string"===typeof e||e instanceof String}function BP(e){return jP()&&e instanceof Blob}function jP(){return"undefined"!==typeof Blob&&!Rs()}function VP(e,t,n,r){if(r<t)throw RP("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw RP("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function qP(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function zP(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function QP(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(LP||(LP={}));var HP=function(){function e(t,n,r,i,a,o,s,u,c,l,f){var h=this,p=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];d(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return g(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(u){i(u)}else if(null!==a){var s=IP();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?PP():TP());else i(xP())}};this.canceled_?t(0,new WP(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new WP(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===LP.NO_ERROR,a=r.getStatus();if(!n||QP(a,e.additionalRetryCodes_)&&e.retry){var o=r.getErrorCode()===LP.ABORT;t(!1,new WP(!1,null,o))}else{var s=-1!==e.successCodes_.indexOf(a);t(!0,new WP(s,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),WP=g((function e(t,n,r){d(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function KP(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function GP(){for(var e=KP(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(jP())return new Blob(n);throw new CP(mP.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function YP(e){if("undefined"===typeof atob)throw t="base-64",new CP(mP.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}var JP={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},XP=g((function e(t,n){d(this,e),this.data=t,this.contentType=n||null}));function ZP(e,t){switch(e){case JP.RAW:return new XP($P(t));case JP.BASE64:case JP.BASE64URL:return new XP(eD(e,t));case JP.DATA_URL:return new XP(function(e){var t=new tD(e);return t.base64?eD(JP.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw DP(JP.DATA_URL,"Malformed data URL.")}return $P(t)}(t.rest)}(t),new tD(t).contentType)}throw IP()}function $P(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function eD(e,t){switch(e){case JP.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw DP(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case JP.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw DP(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=YP(t)}catch(c){if(c.message.includes("polyfill"))throw c;throw DP(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var tD=g((function e(t){d(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw DP(JP.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var nD=function(){function e(t,n){d(this,e);var r=0,i="";BP(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return g(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(BP(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(jP()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(GP.apply(null,i))}var a=n.map((function(e){return FP(e)?ZP(JP.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function rD(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function iD(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function aD(e,t){return t}var oD=g((function e(t,n,r,i){d(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||aD})),sD=null;function uD(){if(sD)return sD;var e=[];e.push(new oD("bucket")),e.push(new oD("generation")),e.push(new oD("metageneration")),e.push(new oD("name","fullPath",!0));var t=new oD("name");t.xform=function(e,t){return function(e){return!FP(e)||e.length<2?e:iD(e)}(t)},e.push(t);var n=new oD("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new oD("timeCreated")),e.push(new oD("updated")),e.push(new oD("md5Hash",null,!0)),e.push(new oD("cacheControl",null,!0)),e.push(new oD("contentDisposition",null,!0)),e.push(new oD("contentEncoding",null,!0)),e.push(new oD("contentLanguage",null,!0)),e.push(new oD("contentType",null,!0)),e.push(new oD("metadata","customMetadata",!0)),sD=e}function cD(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new MP(n,r);return t._makeStorageReference(i)}})}(r,e),r}function lD(e,t,n){var r=rD(t);return null===r?null:cD(e,r,n)}function fD(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var hD=g((function e(t,n,r,i){d(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function dD(e){if(!e)throw IP()}function pD(e,t){return function(n,r){var i=lD(e,r,t);return dD(null!==i),i}}function vD(e,t){return function(n,r){var i=lD(e,r,t);return dD(null!==i),function(e,t,n,r){var i=rD(t);if(null===i)return null;if(!FP(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return qP("/b/"+o(i)+"/o/"+o(a),n,r)+zP({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function yD(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new CP(mP.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new CP(mP.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new CP(mP.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new CP(mP.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function gD(e){var t=yD(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new CP(mP.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function mD(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function AD(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=mD(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+fD(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=nD.getBlob(c,r,l);if(null===f)throw NP();var h={name:u.fullPath},d=qP(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new hD(d,"POST",pD(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=yD(t),v}var kD=null,wD=function(){function e(){var t=this;d(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=LP.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=LP.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=LP.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return g(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw OP("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw OP("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw OP("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw OP("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw OP("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),bD=function(e){A(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(wD);function _D(){return kD?kD():new bD}var ED=function(){function e(t,n){d(this,e),this._service=t,this._location=n instanceof MP?n:MP.makeFromUrl(n,t.host)}return g(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new MP(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return iD(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new MP(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new CP(mP.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function CD(e,t,n){e._throwIfRoot("uploadBytes");var r=AD(e.storage,e._location,uD(),new nD(t,!0),n);return e.storage.makeRequestWithTokens(r,_D).then((function(t){return{metadata:t,ref:e}}))}function SD(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=qP(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new hD(r,"GET",vD(e,n),i);return a.errorHandler=gD(t),a}(e.storage,e._location,uD());return e.storage.makeRequestWithTokens(t,_D).then((function(e){if(null===e)throw new CP(mP.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function ID(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new MP(e._location.bucket,n);return new ED(e.storage,r)}function xD(e,t){if(e instanceof RD){var n=e;if(null==n._bucket)throw new CP(mP.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+EP+"' property when initializing the app?");var r=new ED(n,n._bucket);return null!=t?xD(r,t):r}return void 0!==t?ID(e,t):e}function TD(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof RD)return new ED(e,t);throw RP("To use ref(service, url), the first argument must be a Storage instance.")}return xD(e,t)}function ND(e,t){var n=null===t||void 0===t?void 0:t[EP];return null==n?null:MP.makeFromBucketSpec(n,e)}var RD=function(){function e(t,n,r,i,a){d(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=_P,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?MP.makeFromBucketSpec(i,this._host):ND(this._host,this.app.options)}return g(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=MP.makeFromBucketSpec(this._url,e):this._bucket=ND(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){VP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){VP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=as(rs().mark((function e(){var t,n;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=as(rs().mark((function e(){var t,n;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new ED(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new UP(PP());var o=function(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=zP(e.urlParams),u=e.url+s,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new HP(u,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=as(rs().mark((function e(t,n){var r,i,a,o;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=u(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),PD="@firebase/storage",DD="0.11.2",OD="storage";function LD(e,t,n){return CD(e=tu(e),t,n)}function MD(e){return SD(e=tu(e))}function UD(e,t){return TD(e=tu(e),t)}function FD(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yu(),t=arguments.length>1?arguments[1]:void 0,n=zu(e=tu(e),OD).getImmediate({identifier:t}),r=Es("storage");return r&&BD.apply(void 0,[n].concat(h(r))),n}function BD(e,t,n){!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:xs(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function jD(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new RD(r,i,a,n,Ku)}qu(new nu(OD,jD,"PUBLIC").setMultipleInstances(!0)),Ju(PD,DD,""),Ju(PD,DD,"esm2017");var VD=function(){function e(){d(this,e),this.RealtimeDataBase=bP,this.DatabaseRef=oA(bP),this.firebaseAPP=AP,this.firebaseStorage=FD(this.firebaseAPP),this.storageRefrence=UD(this.firebaseStorage),this.firebaseAuth=kP,this.googleAuthProvider=new df,this.onValue=vA,this.ref=oA}return g(e,[{key:"getAuthProvider",value:function(){return this.googleAuthProvider}},{key:"getAuthInstatnce",value:function(){return this.firebaseAuth}},{key:"getApp",value:function(){return this.firebaseAPP}},{key:"getDatabase",value:function(){return this.RealtimeDataBase}}]),e}(),qD=function(e){A(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.call(this)).checkAuthState=Df,e}return g(n,[{key:"signInWithPopUp",value:function(){var e=as(rs().mark((function e(){var t,n=this;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sh(this.firebaseAuth,this.googleAuthProvider).then((function(e){var t;fA(oA(n.RealtimeDataBase,"Users/"+(null===(t=n.firebaseAuth.currentUser)||void 0===t?void 0:t.uid))).then((function(e){if(null===e.val()||void 0===e.val()){var t,r,i,a;console.log("ADDING NEW USER");var o={fullName:null===(t=n.firebaseAuth.currentUser)||void 0===t?void 0:t.displayName,posts:{},status:null,foloowers:{},subscribes:{},userID:null===(r=n.firebaseAuth.currentUser)||void 0===r?void 0:r.uid,avatar:null===(i=n.firebaseAuth.currentUser)||void 0===i?void 0:i.photoURL},s={};return s["Users/"+(null===(a=n.firebaseAuth.currentUser)||void 0===a?void 0:a.uid)]=o,lA(oA(n.RealtimeDataBase),s),e}}));return e}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"signInByEmailAndPassword",value:function(){var e=as(rs().mark((function e(t,n){var r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pf(this.firebaseAuth,t,n);case 3:return e.next=5,e.sent.user.uid;case 5:return r=e.sent,e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=as(rs().mark((function e(){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tu(this.firebaseAuth).signOut();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createUserWithEmailAndPassword",value:function(){var e=as(rs().mark((function e(t,n,r,i,a){var o,s,u,c;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Nf(this.firebaseAuth,t,n);case 3:return o=e.sent.user,uA(sA(oA(this.RealtimeDataBase),"Users/")).key,s={fullName:r,userID:o.uid,avatar:null,posts:{},likesCount:null,status:null,followers:{},subscibes:{},chat:{},savedPosts:{}},(u={})["Users/"+o.uid]=s,lA(oA(this.RealtimeDataBase),u),c=fA(sA(this.ref(this.RealtimeDataBase),"Users/"+o.uid)),console.log(c),e.abrupt("return",c);case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(t,n,r,i,a){return e.apply(this,arguments)}}()},{key:"getCurrentUserID",value:function(){var e=as(rs().mark((function e(){var t,n;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.firebaseAuth.currentUser)||void 0===t?void 0:t.uid;case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAccount",value:function(){var e=as(rs().mark((function e(t){var n,r,i;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=oA(this.RealtimeDataBase,"Users/"+t),e.next=4,fA(bA(n));case 4:return e.next=6,e.sent.val();case 6:if(!(r=e.sent)){e.next=12;break}return i={fullName:r.fullName,avatar:r.avatar,userID:r.userID,status:r.status,chats:Object.hasOwn(r,"chats")?Object.values(r.chats):[]},e.abrupt("return",i);case 12:throw new Error;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error(e.t0);case 18:case"end":return e.stop()}}),e,this,[[0,15]])})));return function(t){return e.apply(this,arguments)}}()}]),n}(VD),zD=new qD,QD=function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length,i=0;i<e;i++)t+=n.charAt(Math.floor(Math.random()*r));return t},HD=function(e){A(n,e);var t=_(n);function n(){return d(this,n),t.call(this)}return g(n,[{key:"getCurrentUserStatus",value:function(){var e=as(rs().mark((function e(t){var n;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fA(oA(this.RealtimeDataBase,"Users/"+t+"/status/"));case 2:return n=e.sent,e.abrupt("return",n.val());case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateStatus",value:function(){var e=as(rs().mark((function e(t,n){var r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(n.length>0)){e.next=8;break}return(r={})["Users/"+t+"/status/"]=n,e.abrupt("return",lA(oA(this.RealtimeDataBase),r));case 8:throw new Error("Error : Cannot update!Status is empty string!");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateAvatar",value:function(){var e=as(rs().mark((function e(t,n){var r,i,a=this;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{r=QD(12),i=UD(this.storageRefrence,r),console.log(n),null!==n&&LD(i,n).then((function(){MD(i).then((function(e){var n=e,r={};r["Users/"+t+"/avatar/"]=n,lA(oA(a.RealtimeDataBase),r)}))}))}catch(o){console.log(o)}case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getFollowers",value:function(){var e=as(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSubscribes",value:function(){var e=as(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),n}(VD),WD=new HD,KD={userID:null,fullName:null,avatar:null,status:null,chats:[],newStatus:null,newAvatar:null},GD=function(e){return{type:"instaClone/profile_reducer/set_current_user+profile",payload:e}},YD=function(e){return{type:"instaClone/profileReducer/updateAvatar",payload:e}},JD=function(e){return{type:"instaClone/profileReducer/updateStatus",payload:e}},XD=function(e,t){return function(){var n=as(rs().mark((function n(r){var i;return rs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,console.log("Upadte avatar thunk"),r(eO.set_is_fetch_true()),n.next=5,WD.updateAvatar(t,e);case 5:i=n.sent,r(YD(i)),r(eO.set_is_fetch_fasle()),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.error(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},ZD=function(e,t){return function(){var n=as(rs().mark((function n(r){return rs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(eO.set_is_fetch_true()),n.next=3,WD.updateStatus(e,t);case 3:n.sent,r(JD(t)),r(eO.set_is_fetch_fasle());case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},$D={is_initialize:!1,is_fetch:!1,currentUserID:null,onLoad:!1},eO={init:function(e){return{type:"SET_INITIALIZE",payload:e}},set_is_fetch_true:function(){return{type:"messenger/app_reducer/set_is_fetch_true"}},set_is_fetch_fasle:function(){return{type:"messenger/app_reducer/set_is_fetch_false"}},setCurrentUserID:function(e){return{type:"messenger/app_reducer/set_current_user_id",payload:e}},setOnLoad:function(e){return{type:"insta-clone/postReducer/set_on_load",payload:e}}},tO={is_auth:!1,auth_token:null,is_initialize:!1,user_id:null,onError:!1,regForm:{username:"",email:"",passTake1:"",passTake2:"",avatar:null,status:null}},nO={set_auth_true:function(){return{type:"messenger/auth_reducer/set_true",payload:!0}},set_auth_false:function(){return{type:"messenger/auth_reducer/set_false"}},set_auth_token:function(e){return{type:"messenger/auth_reducer/set_token",payload:e}},create_user:function(e){return{type:"messenger/auth_reducer/create_user",payload:e}},setError:function(e){return{type:"messenger/authReducer/setError",payload:e}}},rO={formDivContainer:"Login_formDivContainer__JRhtB",wrapper:"Login_wrapper__olPZx",loginForms:"Login_loginForms__KUoGI",loginFormsError:"Login_loginFormsError__GlHhU",spanError:"Login_spanError__qRHYe",loginButton:"Login_loginButton__HoRsd",loginButtonGoogle:"Login_loginButtonGoogle__ML1bz"},iO=n(184),aO=e.memo((function(e){var t=xo((function(e){return e.auth.onError})),n=xo((function(e){return e.app.is_fetch})),r=ts();return(0,iO.jsx)("div",{className:rO.formDivContainer,children:(0,iO.jsxs)("div",{className:rO.wrapper,children:[(0,iO.jsx)("h1",{children:"Login"}),t?(0,iO.jsx)("span",{className:rO.spanError,children:"Error : Invalid username or password"}):null,(0,iO.jsx)(oo,{enableReinitialize:!0,className:rO.loginForms,initialValues:{login:"",password:""},onSubmit:function(e){var t=r(function(e,t){return function(){var n=as(rs().mark((function n(r){return rs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r(eO.set_is_fetch_true()),n.next=4,Pf(zD.getAuthInstatnce(),e,t).catch((function(e){throw new Error(e)})).then((function(e){console.log(e),r(nO.create_user(e.user.uid)),r(nO.set_auth_true()),r(eO.set_is_fetch_fasle())}));case 4:return n.next=6,n.sent;case 6:n.sent,n.next=15;break;case 9:n.prev=9,n.t0=n.catch(0),r(nO.setError(!0)),r(nO.set_auth_false()),r(eO.set_is_fetch_fasle()),console.log(n.t0);case 15:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}(e.login,e.password));console.log(t)},children:(0,iO.jsxs)(ho,{className:t?rO.loginFormsError:rO.loginForms,children:[(0,iO.jsx)(fo,{type:"text",name:"login"}),(0,iO.jsx)("br",{}),(0,iO.jsx)(fo,{type:"text",name:"password"}),(0,iO.jsx)("br",{}),(0,iO.jsx)("hr",{}),(0,iO.jsx)("button",{className:rO.loginButton,type:"submit",disabled:n,children:"Login"})]})}),(0,iO.jsx)("br",{}),(0,iO.jsxs)("div",{children:[(0,iO.jsx)("span",{children:"OR"}),(0,iO.jsx)("br",{}),(0,iO.jsx)(Xe,{to:"/registration",children:"Create account"})]}),(0,iO.jsxs)("section",{className:rO.Sign_in_with_google,children:[(0,iO.jsx)("br",{}),(0,iO.jsx)("button",{className:rO.loginButtonGoogle,type:"button",onClick:function(){r(function(){var e=as(rs().mark((function e(t){var n,r,i;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zD.signInWithPopUp();case 2:n=e.sent,r=df.credentialFromResult(n),null!==(i=null===r||void 0===r?void 0:r.accessToken)&&void 0!==i&&i.length?(t(nO.set_auth_token(i)),t(nO.set_auth_true())):t(nO.set_auth_token(""));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Sign in with Google"}),(0,iO.jsx)("img",{src:ns,alt:"#",className:rO.googleButtonImg})]})]})})})),oO=Yo((function(e){return{is_auth:e.auth.is_auth,auth_token:e.auth.auth_token}}),(function(e){return{}}))(aO),sO={userName:"",passwordField1:"",passwordField2:"",avatar:null,email:"",status:"",newUserID:""},uO=function(e){return{type:"messenger/registrationReducer/setNewUserUsername",payload:e}},cO=function(e){return{type:"messenger/registrationReducer/setNewUserPassword",payload:e}},lO=function(e){return{type:"messenger/registrationReducer/setNewUserPassword2",payload:e}},fO=function(e){return{type:"messenger/registrationReducer/setNewUserAvatar",payload:e}},hO=function(e){return{type:"messenger/registrationReducer/setNewUserEmail",payload:e}},dO=function(e){return{type:"messenger/registrationReducer/setNewUserStatus",payload:e}},pO={regWrapper:"Registration_regWrapper__AJ3yq",container:"Registration_container__JIXH8",loginForms:"Registration_loginForms__hAuUx",loginFormsOnError:"Registration_loginFormsOnError__zwWLM",registrationButton:"Registration_registrationButton__Fw7xx",registrationStep2:"Registration_registrationStep2__qCK3K",step2:"Registration_step2__OLVZx",regUserStatus:"Registration_regUserStatus__pGkO8",avatarPicker:"Registration_avatarPicker__3riDB",registrationAvatar:"Registration_registrationAvatar__tvryO",regAvatarIcon:"Registration_regAvatarIcon__2gy4j"},vO=n.p+"static/media/imageGallery.6efc1d3040f2b00bf278.png",yO="NOT_FOUND";var gO=function(e,t){return e===t};function mO(e,t){var n="object"===typeof t?t:{equalityCheck:t},r=n.equalityCheck,i=void 0===r?gO:r,a=n.maxSize,o=void 0===a?1:a,s=n.resultEqualityCheck,u=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0}}(i),c=1===o?function(e){var t;return{get:function(n){return t&&e(t.key,n)?t.value:yO},put:function(e,n){t={key:e,value:n}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}(u):function(e,t){var n=[];function r(e){var r=n.findIndex((function(n){return t(e,n.key)}));if(r>-1){var i=n[r];return r>0&&(n.splice(r,1),n.unshift(i)),i.value}return yO}return{get:r,put:function(t,i){r(t)===yO&&(n.unshift({key:t,value:i}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(o,u);function l(){var t=c.get(arguments);if(t===yO){if(t=e.apply(null,arguments),s){var n=c.getEntries().find((function(e){return s(e.value,t)}));n&&(t=n.value)}c.put(arguments,t)}return t}return l.clearCache=function(){return c.clear()},l}function AO(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var a,o=0,s={memoizeOptions:void 0},u=r.pop();if("object"===typeof u&&(s=u,u=r.pop()),"function"!==typeof u)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof u+"]");var c=s.memoizeOptions,l=void 0===c?n:c,f=Array.isArray(l)?l:[l],h=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}(r),d=e.apply(void 0,[function(){return o++,u.apply(null,arguments)}].concat(f)),p=e((function(){for(var e=[],t=h.length,n=0;n<t;n++)e.push(h[n].apply(null,arguments));return a=d.apply(null,e)}));return Object.assign(p,{resultFunc:u,memoizedResultFunc:d,dependencies:h,lastResult:function(){return a},recomputations:function(){return o},resetRecomputations:function(){return o=0}}),p}}var kO=AO(mO),wO=(kO((function(e){return e.userPage}),(function(e){return e||null})),kO((function(e){return e.registration}),(function(e){return e}))),bO=e.memo((function(t){var n=ts(),r=(Se(),xo((function(e){return e.registration.avatar}))),i=xo(wO),a=u((0,e.useState)(null),2),o=(a[0],a[1]),s=u((0,e.useState)({onError:!1,errorMessage:null}),2),c=s[0],l=s[1],f=u((0,e.useState)(1),2),h=f[0],d=f[1];return(0,iO.jsx)("section",{className:pO.regWrapper,children:(0,iO.jsxs)("section",{className:pO.container,children:[(0,iO.jsx)("h1",{children:"Registration"}),(0,iO.jsx)("hr",{}),c?(0,iO.jsx)("span",{children:c.errorMessage}):null,(0,iO.jsx)(oo,{enableReinitialize:!0,initialValues:{avatar:i.avatar,passwordField1:i.passwordField1,passwordField2:i.passwordField2,status:i.status,userName:i.userName,email:i.email},onSubmit:function(e){var t;e.email.length<6||e.userName.length<6||e.passwordField1.length<6?l({onError:!0,errorMessage:"Fields should contain minimum 6 charecters"}):e.passwordField1!==e.passwordField2?l({onError:!0,errorMessage:"Password dint match"}):n((t=e,function(){var e=as(rs().mark((function e(n){var r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(eO.set_is_fetch_true()),n(eO.init(!1)),e.next=4,zD.createUserWithEmailAndPassword(t.email,t.passwordField1,t.userName);case 4:return r=e.sent,e.next=7,n(eO.setCurrentUserID(null===r||void 0===r?void 0:r.val().userID));case 7:return e.next=9,n(XD(null===r||void 0===r?void 0:r.val().userID,t.avatar));case 9:if(n(GD(null===r||void 0===r?void 0:r.val())),!(null!==t.status&&t.status.length>0)){e.next=13;break}return e.next=13,n(ZD(null===r||void 0===r?void 0:r.val().userID,t.status));case 13:n(GD(null===r||void 0===r?void 0:r.val())),n(nO.set_auth_true()),n(eO.set_is_fetch_fasle()),n(eO.init(!0));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},children:(0,iO.jsx)(ho,{className:pO.loginForms,children:1===h?(0,iO.jsxs)("div",{className:c?pO.loginFormsDIV:pO.loginFormsOnError,children:[(0,iO.jsx)(fo,{type:"text",name:"username",placeholder:"Username",autocomplete:"off",onChange:function(e){n(uO(e.currentTarget.value))}}),(0,iO.jsx)("br",{}),(0,iO.jsx)(fo,{type:"text",name:"email",placeholder:"Email",autocomplete:"off",onChange:function(e){n(hO(e.currentTarget.value))}}),(0,iO.jsx)("br",{}),(0,iO.jsx)(fo,{type:"text",name:"passTake1",placeholder:"Password",autocomplete:"off",onChange:function(e){n(cO(e.currentTarget.value))}}),(0,iO.jsx)("br",{}),(0,iO.jsx)(fo,{type:"text",name:"passTake2",placeholder:"Repeat the password",autocomplete:"off",onChange:function(e){e.currentTarget.value!==i.passwordField1&&console.log("Pass dint match"),n(lO(e.currentTarget.value))}}),(0,iO.jsx)("br",{}),(0,iO.jsx)("button",{className:pO.registrationButton,onClick:function(){d(2)},type:"button",children:"Next Step"})]}):(0,iO.jsxs)("section",{className:pO.registrationStep2,children:[(0,iO.jsx)("label",{htmlFor:"AvatarSelector",children:(0,iO.jsx)("div",{className:pO.avatarPicker,children:(0,iO.jsx)("label",{htmlFor:"file_input",children:i.avatar?(0,iO.jsx)("img",{className:pO.registrationAvatar,src:r,alt:"#"}):(0,iO.jsx)("img",{className:pO.regAvatarIcon,src:vO,alt:"#"})})})}),(0,iO.jsx)("input",{className:pO.login_forms,type:"file",id:"file_input",style:{display:"none"},placeholder:"avatar",accept:"image/*",onChange:function(e){var t=e.target,r=new FileReader;o(e.target.files[0]),t.files.length?(r.readAsDataURL(t.files[0]),r.onload=function(e){n(fO(r.result))}):console.log("ERROR")}}),(0,iO.jsx)(fo,{type:"text",name:"status",placeholder:"Set your status",onInput:function(e){n(dO(e.currentTarget.value))},autocomplete:"off",className:pO.regUserStatus}),(0,iO.jsx)("button",{type:"submit",className:pO.registrationButton,children:"Create Acount"})]})})})]})})})),_O=(oA(xA()),{getAllPosts:function(){var e=as(rs().mark((function e(){var t,n,r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=sR(wP,"Posts"),n=[],e.next=5,lP(t);case 5:if((r=e.sent).empty){e.next=11;break}return e.next=9,r.forEach((function(e){n.push(e.data())}));case 9:e.next=12;break;case 11:throw new Error("Cant load posts");case 12:return e.abrupt("return",n);case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}(),getPostSinglePostByPostID:function(){var e=as(rs().mark((function e(t){var n,r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=uR(wP,"Posts/"+t),e.next=4,uP(n);case 4:return r=e.sent,e.abrupt("return",r.data());case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),getPostsByUserID:function(){var e=as(rs().mark((function e(t){var n,r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=KR(sR(wP,"Posts"),YR("creatorID","==",t)),r=[],e.next=5,lP(n);case 5:return e.sent.forEach((function(e){r.push(e.data())})),e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),addPost:function(){var e=as(rs().mark((function e(t,n,r,i,a){var o,s,u,c,l,f,h;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=QD(12),e.next=4,sR(wP,"Posts");case 4:return s=e.sent,e.next=7,uR(s);case 7:return u=e.sent,c=FD(AP),l=UD(c,o),e.next=12,LD(l,i);case 12:return e.next=14,MD(l);case 14:return f=e.sent,h={postIMG:f,likesCount:[],creator:t,creatorID:n,postText:r,id:u.id,createdAt:sE.fromDate(new Date).toDate().toString(),coments:[],creatorAvatar:a},e.next=18,fP(u,h);case 18:return e.abrupt("return",u.id);case 21:e.prev=21,e.t0=e.catch(0),console.log(e.t0);case 24:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(t,n,r,i,a){return e.apply(this,arguments)}}(),toggleLikesAtPost:function(){var e=as(rs().mark((function e(t,n){var r,i;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=uR(wP,"Posts/"+t),e.next=4,uP(r);case 4:if(!(i=e.sent).exists()){e.next=13;break}return console.log(i.data()),e.next=9,i.data();case 9:e.sent,i.data().likesCount.includes(n)?hP(r,{likesCount:gP(n)}):hP(r,{likesCount:yP(n)}),e.next=14;break;case 13:console.log("Post does not exist");case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,n){return e.apply(this,arguments)}}(),deletePostByID:function(){var e=as(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{dP(uR(wP,"Posts/"+t))}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addComentToPost:function(){var e=as(rs().mark((function e(t,n,r,i,a){var o,s,u;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{o=sR(wP,"Coments/"),s=uR(o),u={comentatorName:r,comentatorID:i,coment_text:a,avatar:t,createdAt:sE.fromDate(new Date).toDate().toString(),comentID:s.id,postID:n},fP(s,u)}catch(c){console.log(c)}case 1:case"end":return e.stop()}}),e)})));return function(t,n,r,i,a){return e.apply(this,arguments)}}(),deleteComentByID:function(){var e=as(rs().mark((function e(t){var n;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=uR(wP,"Coments/"+t),e.next=4,dP(n);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),getComents:function(){var e=as(rs().mark((function e(t){var n,r,i,a;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=sR(wP,"Coments"),e.next=4,KR(n,YR("postID","==",t));case 4:return r=e.sent,i=[],e.next=8,lP(r);case 8:if((a=e.sent).empty){e.next=14;break}return e.next=12,a.forEach((function(e){i.push(e.data())}));case 12:e.next=15;break;case 14:console.log("Empty");case 15:return e.abrupt("return",i);case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t){return e.apply(this,arguments)}}()}),EO={posts:[],newPost:null,currentPost:null,isOnNewPost:!1,newPostPhoto:null,newPostText:""},CO=function(e){return{type:"messenger/posts_reducer/get_post",payload:e}},SO=function(e){return{type:"messenger/posts_reducer/set_showed_post",payload:e}},IO=function(e){return{type:"messenger/posts_reducer/like",payload:e}},xO=function(e){return{type:"messenger/posts_reducer/dislike",payload:e}},TO=function(e){return{type:"insta-clone/postReducer/setIsOnNewPost",payload:e}},NO=function(e){return{type:"insta-clone/postReducer/setNewPostPhoto",payload:e}},RO=function(e){return{type:"insta-clone/postReducer/setNewPostText",payload:e}},PO={newPostContainer:"NewPostModal_newPostContainer__BTGIJ",newPostModal:"NewPostModal_newPostModal__8UqHC",imgContainer:"NewPostModal_imgContainer__Me9m9",step2:"NewPostModal_step2__F8vXX",showNext:"NewPostModal_showNext__g6HY-",next:"NewPostModal_next__-cK41",disableNext:"NewPostModal_disableNext__ZYSJi",imgIcon:"NewPostModal_imgIcon__JS6ok",newPostIMG:"NewPostModal_newPostIMG__JUQjo",stepBack:"NewPostModal_stepBack__6F+hb",publish:"NewPostModal_publish__izdir",cancelNewPost:"NewPostModal_cancelNewPost__wM2-d",Next:"NewPostModal_Next__-zLWU",transform:"NewPostModal_transform__vakR4"},DO=e.memo((function(t){xo((function(e){return e.app.is_fetch}));var n=ts(),r=Se(),i=(Se(),u((0,e.useState)(1),2)),a=i[0],o=i[1],s=xo((function(e){return e.app.onLoad})),c=xo((function(e){return e.userPosts.newPostPhoto})),l=xo((function(e){return e.userPosts.newPostText})),f=xo((function(e){return e.account})),h=u((0,e.useState)(null),2),d=h[0],p=h[1];return(0,iO.jsx)("section",{className:PO.newPostContainer,children:(0,iO.jsxs)("div",{className:PO.newPostModal,children:[(0,iO.jsx)(oo,{enableReinitialize:!0,onSubmit:function(e){var t,i,a,o,s;n((t=f.avatar,i=f.userID,a=e.file,o=e.post_text,e.post_tag,s=f.fullName,f.userID,function(){var e=as(rs().mark((function e(n){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n(eO.set_is_fetch_true()),null===a||void 0===a){e.next=10;break}return n(eO.setOnLoad(!0)),e.next=6,_O.addPost(s,i,o,a,t);case 6:e.sent&&(n(eO.set_is_fetch_fasle()),n(NO(null)),n(eO.setOnLoad(!1))),e.next=11;break;case 10:throw new Error("Post image is null.Cant upload the post");case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}())),r("/profile/id=".concat(f.userID))},initialValues:{post_text:"",post_img:c,post_tag:"",file:d},children:(0,iO.jsx)(ho,{children:1===a?(0,iO.jsxs)("div",{children:[(0,iO.jsxs)("label",{htmlFor:"file_input",children:[(0,iO.jsx)("div",{className:PO.imgContainer}),c?(0,iO.jsx)("img",{className:PO.newPostIMG,src:c,alt:"#"}):(0,iO.jsxs)("div",{className:PO.selectPhoto,children:[(0,iO.jsx)("h1",{children:"Select photo from galery"}),(0,iO.jsx)("img",{className:PO.imgIcon,src:vO,alt:"#"})]})]}),(0,iO.jsx)("br",{}),(0,iO.jsx)("input",{type:"file",id:"file_input",style:{display:"none"},accept:"image/*",onChange:function(e){var t=e.target,r=new FileReader;p(e.target.files[0]),t.files.length?(r.readAsDataURL(t.files[0]),r.onload=function(e){n(eO.setOnLoad(!0)),n(NO(r.result)),n(eO.setOnLoad(!1))}):console.log("ERROR")}}),(0,iO.jsx)("button",{onClick:function(){o(2)},disabled:!c,className:PO.Next,children:"Next\t>>"})]}):(0,iO.jsxs)("div",{className:PO.step2,children:[(0,iO.jsx)("h1",{children:"Come up with a signature"}),(0,iO.jsx)(fo,{type:"text",name:"post_text",className:PO.textInput,autocomplete:"off",onKeyUp:function(e){console.log(e.key),n(RO(e.key))}}),(0,iO.jsx)("h1",{children:"Add tags to your post"}),(0,iO.jsx)(fo,{type:"text",name:"post_tag",autocomplete:"off",className:PO.textInput}),(0,iO.jsx)("br",{}),(0,iO.jsx)("button",{type:"submit",className:PO.publish,disabled:s||null===c||l.length<1,children:"Publish"}),(0,iO.jsx)("br",{}),(0,iO.jsx)("h2",{onClick:function(){o(1)},className:PO.stepBack,children:"<<\tBack"})]})})}),(0,iO.jsx)("button",{className:PO.cancelNewPost,onClick:function(){n(TO(!1)),n(NO(null)),r("/profile/id=".concat(f.userID))},children:"Cancel"})]})})})),OO="OpenPost_postWrapper__t21WA",LO="OpenPost_coments__2IuDT",MO="OpenPost_postIMGContainer__tX1KW",UO="OpenPost_controls__noEqu",FO="OpenPost_likesCount__xYn6E",BO="OpenPost_likeIcon__6A8eD",jO="OpenPost_deletePost__pjGfF",VO="OpenPost_postIMG__TMb8P",qO="OpenPost_postInfo__wwp6+",zO="OpenPost_name__KQSZr",QO="OpenPost_creatorInfo__wLJWI",HO="OpenPost_autorName__IB+58",WO="OpenPost_saveToTheGaleryButton__4fHe6",KO="OpenPost_comentIcon__Y0K3Y",GO="Avatar_defaultAvatarLarge__sbFno",YO="Avatar_defaultAvatarSmall__+YQOn",JO="Avatar_avatarLarge__mRPJz",XO="Avatar_avatarSmall__iho6Y",ZO=e.memo((function(e){var t=ts(),n=function(n){var r=new FileReader;n.target.files.length?(r.readAsDataURL(n.target.files[0]),r.onload=function(){var i;t(XD(n.target.files[0],e.userID)),t(YD(null===(i=r.result)||void 0===i?void 0:i.toString()))}):console.log("ERROR")};if(null===e.avatarIMG||void 0===e.avatarIMG){var r,i=null===(r=e.fullName)||void 0===r?void 0:r.charAt(0).toUpperCase();return(0,iO.jsxs)("div",{className:"large"===e.size?GO:YO,children:[(0,iO.jsx)("label",{htmlFor:"avatarInput",children:(0,iO.jsx)("span",{children:i})}),(0,iO.jsx)("input",{type:"file",placeholder:"Files",accept:"image/*",onChange:n,id:"avatarInput",style:{display:"none"}})]})}return(0,iO.jsxs)("div",{className:"large"===e.size?JO:XO,children:[(0,iO.jsx)("label",{htmlFor:"avatarInputImg",children:(0,iO.jsx)("img",{src:e.avatarIMG,alt:"#"})}),(0,iO.jsx)("input",{type:"file",placeholder:"Files",accept:"image/*",onChange:n,id:"avatarInputImg",style:{display:"none"}})]})})),$O=n.p+"static/media/6.865b752f64bfb5e2345f.gif",eL="Preloader_loader__KmDZK",tL="Preloader_lineLoader__4oFJo",nL=function(){return(0,iO.jsx)(iO.Fragment,{children:(0,iO.jsx)("img",{src:$O,alt:"#",className:eL})})},rL={coments:[],newComentText:""},iL=function(e){return{type:"insta-clone/comentReducer/getComents",payload:e}},aL=function(e){return{type:"insta-clone/comentReducer/deleteComent",payload:e}},oL=function(e){return{type:"insta-clone/comentReducer/addComent",payload:e}},sL=function(e){return{type:"insta-clone/comentReducer/setNewComent",payload:e}},uL={singleComentWrapper:"SingleComent_singleComentWrapper__2ghPh",coment:"SingleComent_coment__rdxKz",singleComentDelete:"SingleComent_singleComentDelete__T3F6m",delete:"SingleComent_delete__86i0n",avatar:"SingleComent_avatar__fhA0Z",deleteComent:"SingleComent_deleteComent__YkiTL"},cL=e.memo((function(t){var n,r,i,a,o=ts(),s=u((0,e.useState)(!1),2),c=s[0];s[1];return(0,iO.jsxs)("div",{className:c?uL.singleComentDelete:uL.singleComentWrapper,children:[(0,iO.jsx)("img",{className:uL.avatar,src:t.coment.avatar}),(0,iO.jsx)("span",{children:(null===(r=t.coment)||void 0===r?void 0:r.comentatorName)+"\t:\t"}),(0,iO.jsx)("br",{}),(0,iO.jsx)("span",{className:uL.comentText,children:null===(i=t.coment)||void 0===i?void 0:i.coment_text}),(0,iO.jsx)("br",{}),(null===(a=t.coment)||void 0===a?void 0:a.comentatorID)===t.currentUserID?(0,iO.jsx)("span",{className:uL.deleteComent,onClick:function(){var e,n;o((n=null===(e=t.coment)||void 0===e?void 0:e.comentID,function(){var e=as(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(eO.set_is_fetch_true()),_O.deleteComentByID(n),t(aL(n)),t(eO.set_is_fetch_fasle());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},children:"Delete coment"}):null]},null===(n=t.coment)||void 0===n?void 0:n.comentID)})),lL=e.memo((function(t){var n=Se(),r=ts(),i=xo((function(e){return e.account.userID})),a=Ce().pathname.split("=")[1];(0,e.useEffect)((function(){var e;r((e=a,function(){var t=as(rs().mark((function t(n){var r;return rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(eO.set_is_fetch_true()),t.next=3,_O.getPostSinglePostByPostID(e);case 3:r=t.sent,n(SO(r)),n(eO.set_is_fetch_fasle());case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),r(function(e){return function(){var t=as(rs().mark((function t(n){var r;return rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(eO.set_is_fetch_true()),t.next=3,_O.getComents(e);case 3:(r=t.sent)?(n(iL(r)),n(eO.set_is_fetch_fasle())):n(eO.set_is_fetch_fasle());case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(a))}),[]);var o,s=xo((function(e){return e.userPage})),u=xo((function(e){return e.userPosts.currentPost})),c=xo((function(e){return e.coments.coments})),l=function(){n("coments")};return u?(0,iO.jsxs)("section",{className:OO,children:[(0,iO.jsx)("div",{className:QO,children:(0,iO.jsxs)(Xe,{to:"/profile/id:=".concat(u.creatorID),children:[(0,iO.jsx)(ZO,{avatarIMG:s.avatar,fullName:s.fullName,size:"small"}),(0,iO.jsx)("h1",{className:HO,children:null===u||void 0===u?void 0:u.creator})]})}),(0,iO.jsxs)("div",{className:qO,children:[(0,iO.jsx)("span",{className:zO,children:u.creator+"\t:\t"}),(0,iO.jsx)("span",{children:null===u||void 0===u?void 0:u.postText})]}),(0,iO.jsx)("div",{className:MO,children:(0,iO.jsx)("img",{className:VO,src:u.postIMG,alt:""})}),(0,iO.jsxs)("section",{className:UO,children:[(0,iO.jsx)("img",{src:u.likesCount.includes(i)?"data:image/png;base64,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":"data:image/png;base64,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",alt:"#",className:BO,onClick:function(){var e;r(function(e,t){return function(){var n=as(rs().mark((function n(r){return rs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(eO.set_is_fetch_true()),n.prev=1,n.next=4,_O.toggleLikesAtPost(e,t);case 4:r(eO.set_is_fetch_fasle()),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[1,7]])})));return function(e){return n.apply(this,arguments)}}()}(u.id,i)),null!==(e=u.likesCount)&&void 0!==e&&e.includes(i)?(console.log("CONTAINS"),r(xO(i))):(console.log("NOT CONTAINS"),r(IO(i)))}}),(0,iO.jsx)("img",{src:"data:image/png;base64,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",alt:"#",className:KO,onClick:l}),(0,iO.jsx)("span",{className:FO,onClick:l,children:(null===(o=u.likesCount)||void 0===o?void 0:o.length)+"\t likes"}),i===u.creatorID?(0,iO.jsx)("img",{src:"data:image/png;base64,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",alt:"#",className:jO,onClick:function(){var e;r((e=u.id,function(){var t=as(rs().mark((function t(n){return rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(eO.set_is_fetch_true()),t.next=3,_O.deletePostByID(e);case 3:n(eO.set_is_fetch_fasle());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),n("/profile/id=".concat(i))}}):null,(0,iO.jsx)("figure",{className:WO,children:(0,iO.jsx)("img",{src:"data:image/png;base64,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"})})]}),(0,iO.jsx)("section",{className:LO,children:c.length>0?c.map((function(e){return(0,iO.jsx)(cL,{coment:e,currentUserID:i},e.comentID)})):(0,iO.jsx)("h1",{children:"There are no Coments"})})]}):(0,iO.jsx)(iO.Fragment,{children:(0,iO.jsx)(nL,{})})})),fL=function(e){A(n,e);var t=_(n);function n(){return d(this,n),t.call(this)}return g(n,[{key:"getAllUsers",value:function(){var e=as(rs().mark((function e(){var t,n;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fA(sA(this.DatabaseRef,"Users/"));case 2:return e.next=4,e.sent.val();case 4:return t=e.sent,n=oA(this.RealtimeDataBase,"Users/"),e.next=8,fA(bA(n));case 8:return e.sent,e.abrupt("return",t);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getUserPageById",value:function(){var e=as(rs().mark((function e(t){var n,r,i;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=oA(this.RealtimeDataBase,"Users/"+t),e.next=3,fA(bA(n));case 3:return e.next=5,e.sent.val();case 5:if(!(r=e.sent)){e.next=9;break}return i={userID:r.userID,fullName:r.fullName,avatar:Object.hasOwn(r,"avatar")?r.avatar:null,followers:Object.hasOwn(r,"followers")?Object.values(r.followers):[],subscribes:Object.hasOwn(r,"subscribers")?Object.values(r.subscribers):[],status:r.status},e.abrupt("return",i);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUserPageByName",value:function(){var e=as(rs().mark((function e(t){var n,r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=oA(this.RealtimeDataBase,"Users/"),e.next=3,fA(bA(n,kA("fullName/"),(i=t,hm("equalTo","key",a=void 0,!0),new wA(i,a))));case 3:if(!(r=e.sent).exists()){e.next=8;break}return e.abrupt("return",Object.values(r.val()));case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}var i,a}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendMessage",value:function(){var e=as(rs().mark((function e(t,n,r){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"followUser",value:function(){var e=as(rs().mark((function e(t,n){var r,i,a,o,s,u,c;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fA(sA(this.DatabaseRef,"Users/"+n));case 2:return e.next=4,e.sent;case 4:if(r=e.sent,!Object.hasOwn(r.val(),"followers")||!Object.values(r.val().followers).includes(t)){e.next=13;break}return i={},a=Object.keys(r.val().followers).find((function(e){return r.val().followers[e]===t})),i["Users/"+n+"/followers/"+a]=null,i["Users/"+t+"/subscribers/"+n]=null,e.abrupt("return",lA(oA(this.RealtimeDataBase),i));case 13:return o=oA(this.RealtimeDataBase,"Users/"+n),e.next=16,fA(bA(o));case 16:return s=e.sent,u=uA(sA(oA(this.RealtimeDataBase),"Users"+n+"/followers/")).key,(c={})["Users/"+t+"/subscribers/"+n]=s.val(),c["Users/"+n+"/followers/"+u]=t,e.abrupt("return",lA(oA(this.RealtimeDataBase),c));case 22:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getAvatar",value:function(){var e=as(rs().mark((function e(t){var n,r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=oA(this.RealtimeDataBase,"Users/"+t+"/avatar/"),e.next=3,fA(bA(n));case 3:return e.next=5,e.sent.val();case 5:if(!(r=e.sent)){e.next=10;break}return e.abrupt("return",r);case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getFollowers",value:function(){var e=as(rs().mark((function e(t){var n,r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oA(this.RealtimeDataBase,"Users/"+t+"/followers");case 3:return n=e.sent,e.next=6,fA(bA(n));case 6:return e.next=8,e.sent.val();case 8:if(!(r=e.sent)){e.next=13;break}return e.abrupt("return",r);case 13:return e.abrupt("return",null);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,this,[[0,16]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getFollowedUsers",value:function(){var e=as(rs().mark((function e(t){var n,r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=oA(this.RealtimeDataBase,"Users/"+t+"subscribes"),e.next=4,fA(bA(n));case 4:if(!(r=e.sent.val())){e.next=9;break}return e.abrupt("return",r);case 9:return e.abrupt("return",null);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()}]),n}(VD),hL=new fL,dL={fullName:null,avatar:null,status:null,userID:null,subscribes:[],followers:[],followed:!1},pL=function(e){return{type:"messenger/Users_reducer/get_users",payload:e}},vL=function(e){return{type:"instaClone/UsersReducer/setNewStatus",payload:e}},yL=function(e){return{type:"instaClone/UsersReducer/follow",payload:e}},gL=function(e){return{type:"instaClone/UsersReducer/unfollow",payload:e}},mL=function(e){return{type:"instaClone/profileReducer/updateStatus",payload:e}},AL=function(e,t){return function(){var n=as(rs().mark((function n(r){return rs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(eO.set_is_fetch_true()),n.next=3,hL.followUser(e,t);case 3:n.sent,r(eO.set_is_fetch_fasle());case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},kL="Posts_postsWrapper__vdSix",wL="Posts_postPreview__-tSaB",bL=e.memo((function(t){var n=Se(),r=ts(),i=Ce().pathname.split("=")[1];xo((function(e){}));(0,e.useEffect)((function(){var e;r((e=i,function(){var t=as(rs().mark((function t(n){var r;return rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(eO.set_is_fetch_true()),t.next=3,_O.getPostsByUserID(e);case 3:r=t.sent,n(CO(Object.values(r))),n(eO.set_is_fetch_fasle());case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}),[i]);var a=xo((function(e){return e.userPosts.posts}));return(0,iO.jsx)("section",{className:kL,children:a.length>0?a.map((function(e){return(0,iO.jsx)("div",{children:(0,iO.jsx)("img",{src:e.postIMG,className:wL,alt:"",onClick:function(){var t;n("/p/id="+(t=e).id),r(SO(t))}})},e.id)})):null})})),_L={userPageContainer:"UserPage_userPageContainer__Sn2hl",userPageWrapper:"UserPage_userPageWrapper__XOXZL",SELECTOR:"UserPage_SELECTOR__II23W",hr:"UserPage_hr__tVG2m",info:"UserPage_info__34i4v",status:"UserPage_status__OOcKH",fullName:"UserPage_fullName__78ElR",defaultAvatarSmall:"UserPage_defaultAvatarSmall__-Cikl",avatarSmall:"UserPage_avatarSmall__W2y6Z",avatarLarge:"UserPage_avatarLarge__w1bJG",defaultAvatarLarge:"UserPage_defaultAvatarLarge__ZIeIo",input:"UserPage_input__7iQ5d",publications:"UserPage_publications__8+3iO",Follower:"UserPage_Follower__tw5Rr",Followed:"UserPage_Followed__Fzt-P",contrtolButtons:"UserPage_contrtolButtons__MiQbI",btn:"UserPage_btn__UyLV9",transform:"UserPage_transform__1c40W"},EL=function(t){var n=ts(),r=xo((function(e){return e.userPage.status})),i=xo((function(e){return e.account.userID})),a=u((0,e.useState)(!1),2),o=a[0],s=a[1];return(0,iO.jsx)(iO.Fragment,{children:o?(0,iO.jsx)("div",{className:_L.status,children:(0,iO.jsx)("input",{type:"text",title:"Edit",value:r,onChange:function(e){n(mL(e.currentTarget.value))},onBlur:function(){s(!1),n(ZD(i,r))},autoFocus:!0})}):(0,iO.jsx)("span",{className:_L.status,onClick:function(){s(!0)},children:t.status?t.status:"Set status"})})},CL=e.memo((function(){Se();var t,n,r=Ce().pathname.split("=")[1],i=xo((function(e){return e.userPosts.posts.length})),a=ts();(0,e.useEffect)((function(){var e;a((e=r,function(){var t=as(rs().mark((function t(n){var r;return rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(eO.set_is_fetch_true()),t.next=3,hL.getUserPageById(e);case 3:(r=t.sent)?(n(pL(r)),n(eO.set_is_fetch_fasle())):n(eO.set_is_fetch_fasle());case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),_O.getPostsByUserID(r)}),[r]);var o=xo((function(e){return e.app.currentUserID})),s=xo((function(e){return e.userPage}));return(0,iO.jsxs)("div",{className:_L.userPageContainr,children:[(0,iO.jsxs)("section",{className:_L.userPageWrapper,children:[(0,iO.jsx)(ZO,{avatarIMG:s.avatar,userID:s.userID,fullName:s.fullName,size:"large"}),(0,iO.jsx)("br",{}),(0,iO.jsx)("h1",{className:_L.fullName,children:s.fullName}),(0,iO.jsxs)("div",{className:_L.info,children:[r===o?(0,iO.jsx)(EL,{status:s.status,userID:r,setNewStatus:function(e,t){a(vL(t))}}):(0,iO.jsx)("p",{className:_L.status,children:s.status}),(0,iO.jsxs)("div",{className:_L.publications,children:[(0,iO.jsx)("span",{children:i}),(0,iO.jsx)("br",{}),(0,iO.jsx)("span",{children:"Posts"})]}),(0,iO.jsx)(Xe,{to:"./followers",children:(0,iO.jsxs)("div",{className:_L.Follower,children:[(0,iO.jsx)("span",{children:null===(t=s.followers)||void 0===t?void 0:t.length}),(0,iO.jsx)("br",{}),(0,iO.jsx)("span",{children:"Follower"})]})}),(0,iO.jsx)(Xe,{to:"./Followed",children:(0,iO.jsxs)("div",{className:_L.Followed,children:[(0,iO.jsx)("span",{children:null===(n=s.subscribes)||void 0===n?void 0:n.length}),(0,iO.jsx)("br",{}),(0,iO.jsx)("span",{children:"Followed"})]})})]}),r!==o?(0,iO.jsx)("button",{className:_L.btn,onClick:function(){var e;null!==(e=s.followers)&&void 0!==e&&e.includes(o)?(a(AL(o,s.userID)),a(gL(o))):(a(AL(o,s.userID)),a(yL(o)))},children:Object.values(s.followers).includes(o)?"Unfollow":"Follow"}):null]}),(0,iO.jsx)("section",{className:_L.SELECTOR,children:(0,iO.jsxs)("ul",{children:[(0,iO.jsx)("li",{children:(0,iO.jsx)("img",{src:vO,alt:""})}),(0,iO.jsx)("li",{children:(0,iO.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAADsQAAA7EB9YPtSQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAT7SURBVHic7ZxNaB1VGIafeL21RXAhSbGxJkFQ3NqliNidSyGFUnDRhbgQd7qRloIbxVUtiFhcSCn412p156ZUpbUgWGurdCFoFLSmaLOzIdjExdyhoWbmzmR+zsx53wcOgWTmu9857zN/l9w7QbM8DDwNPAXMAjuAbQ2/Zt+5AVwFFoDPgU+Bn0I2tBnmgKPATWDNo9JYBT4CHioTQEj2Af8QfuFiG8vA/uIxhOEQ4Rcq9nGwcBots5fkdBV6gWIfq8AzBTMZy0RNdeaAK8DWmuqZfG4AjwC/VS00qN4LAG8Bj9ZUy4xnCEwCp6oWquMM8ADw65haa8Bp4CLJk4HJZgDsAnaTv6arwAzwextN5fEC+desReCxYN31l8eBa+Sv7fPBulvHZ+TfsDwRrrXes5t8ASpfAurgAtkNngvYVyycJ3t9v61a/I6qBUje3s3iUg311bmY87fpqsXrECDv0W+5hvrq5K1h5cfuOgQwPcYCiGMBxLEA4lgAcSyAOBZAHAsgjgUQxwKIYwHEsQDiWABxLIA4FkAcCyCOBRDHAohjAcSxAOJYAHEsgDgWQBwLII4FEMcCiGMBxLEA4lgAcSyAOBZAHAsgjgUQxwKIYwHEsQDiWABxLIA4FkAcCyCOBRDHAohjAcSxAOJYAHEsgDgWQBwLII4FEMcCiGMBxLEA4lgAcSyAOBZAHAsgjgUQxwKIYwHEsQDiWABxLIA4FkAcCyCOBRDHAohjAcSxAOJYAHEsgDgWQBwLII4FEMcCiGMBxLkzdAMB2AE8Ofo5PfrdH8BV4AzwZ5i2wqAiwBbgOWA/sAuYyNhuDbgAvAu8A6y00VzfWSJZuI3G4YB9pewDFsjuMWv8Auxpv93/cZjsHpeqFo/5HmBAchS/B8xuYv854ATwKhGvU6wTGwIfAM/WUOtlEomivFzGKMAAOEa9p++9JEINa6zZCWITYAAcJ7nu18088D6RSRCTAEPgQ8qFv0S5G6l5kstBNBLEIsCQ5OicL7DtX8CLJO8D3Dsa08BLwN8F9t9DZBJUJfRj4BA4mdPD+vEjMJNTa3a0TZFaJ2hHgkYfA+sgpAADkiO/SGBXSI76cUwBlwrWPEnzEliADJoIP6VLEliADWgy/JQyEnxMcxJYgNtoI/yULkhgAdbRZvgpoSWwACOGwCc5r9VE+CkhJbAAhA0/JZQE8gKUDf++Gl4zixASSAvQpfBT2pZAVoAuhp/SpgSSAnQ5/JS2JJAToA/hp7QhgZQAfQo/pWkJZAToY/gpTUogIUCfw09pSoLoBYgh/JQmJIhagJjCT6lbgmgFiDH8lDoliFKAIXAqZ78+h59SlwTRCaAQfkodEnRegOtkN3jktm3LhH8Z2N58+42znWQuRea80b+XHcnZ/nrz7Y9ngewGv+LWJ3HvQi/8lLISbBntNwC+ydn259ZmkMMX5E/oDHAU+GHMdrGGn1JGgu+A14Gvx2x3utUZZPAKxSalHH5KGQmKjEPttr8xDwI3cfhFqUuCf9ncx94b4W2qTabvd/tlKfN0kDXebL3rHO6h+DV+oyN/qv2WgzPF5s8El0nWvFPspLzV54DJEM12hEngPOXW7HtufblV57ib5Ll1hfxJrACvAVvDtNkptpHc8RdZszdI1rjzzAAHgC+BRWCZ5OvXzgIHgfvDtdZZdpLc1Z8FrpEEvkiyhgfI/1TzpvkPuF8CqplV4bMAAAAASUVORK5CYII=",alt:""})})]})}),(0,iO.jsx)(bL,{})]})})),SL={userToSearch:"",users:null,onSearch:!1},IL=function(e){return{type:"messenger/usersSearchReducer/getAllUsers",payload:e}},xL=function(e){return{type:"messenger/userSearchReducer/setOnSearch",payload:e}},TL=function(e){return{type:"instaClone/userSearchReducer/getFollowers",payload:e}},NL=function(e){return{type:"instaClone/userSearchReducer/getFollowed",payload:e}},RL=function(){return function(){var e=as(rs().mark((function e(t){var n;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(eO.set_is_fetch_true()),t(xL(!0)),e.next=4,hL.getAllUsers();case 4:(n=e.sent)?(t(IL(Object.values(n))),t(eO.set_is_fetch_fasle()),t(xL(!1))):(t(xL(!1)),t(eO.set_is_fetch_fasle()));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},PL="Search_searchWrapper__HqHo9",DL="Search_searchResults__e3y-W",OL="Search_userMiniPage__qCWVL",LL="Search_userName__giRNN",ML="Search_input__d97lD",UL=function(){return(0,iO.jsx)("div",{className:tL})},FL=e.memo((function(t){var n=Se(),r=ts(),i=u((0,e.useState)(!1),2),a=i[0],o=i[1],s=xo((function(e){return e.search.users}));(0,e.useEffect)((function(){r(RL())}),[]);return(0,iO.jsxs)("section",{className:PL,children:[(0,iO.jsx)("div",{className:ML,children:(0,iO.jsx)("input",{type:"text",placeholder:"find users",onChange:function(e){var t;e.currentTarget.value.length>0?(o(!0),r((t=e.currentTarget.value,function(){var e=as(rs().mark((function e(n){var r;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(eO.set_is_fetch_true()),n(xL(!0)),e.next=4,hL.getUserPageByName(t);case 4:null!==(r=e.sent)&&(n(IL(r)),n(eO.set_is_fetch_fasle()),n(xL(!1)));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))):r(RL())},onBlur:function(){o(!1)}})}),(0,iO.jsx)("section",{className:DL,children:a?(0,iO.jsx)(UL,{}):null===s||void 0===s?void 0:s.map((function(e){return(0,iO.jsxs)("div",{className:OL,onClick:function(){var t;t=e.userID,r(pL(null)),n("/profile/id="+t)},children:[(0,iO.jsx)(ZO,{avatarIMG:e.avatar,userID:e.userID,fullName:e.fullName,size:"small"}),(0,iO.jsx)("span",{className:LL,children:e.fullName})]},e.userID)}))})]})})),BL="Router_router__1FSFN",jL="Coments_ComentInput__PwDo-",VL="Coments_comentWrapper__y4LWo",qL="Coments_noComents__PZtuX",zL="Coments_cancelButton__HPTc-",QL="Coments_publish__7rSAJ",HL="Coments_comentsList__P9uV+",WL=e.memo((function(t){var n=u((0,e.useState)(!1),2),r=(n[0],n[1],Se()),i=Ce(),a=ts(),o=xo((function(e){return e.account})),s=xo((function(e){return e.coments.coments})),c=xo((function(e){return e.coments.newComentText})),l={coment:c},f=function(e){console.log("DISPATCHED : "+c),a(sL(e.currentTarget.value))};return(0,iO.jsxs)("section",{className:VL,children:[(0,iO.jsx)("div",{className:HL,children:s.length>0?s.map((function(e){return(0,iO.jsx)("div",{children:(0,iO.jsx)(cL,{coment:e,currentUserID:o.userID},e.comentID)},e.comentID)})):(0,iO.jsx)("div",{children:(0,iO.jsx)("h1",{className:qL,children:"No coments yet"})})}),(0,iO.jsx)("section",{className:jL,children:(0,iO.jsx)(oo,{onChanhe:f,enableReinitialize:!0,initialValues:l,onSubmit:function(e){var t,n,r={avatar:o.avatar,comentatorID:o.userID,comentatorName:o.fullName,coment_text:e.coment};a((t=r,n=i.pathname.split("/")[2].split("=")[1],function(){var e=as(rs().mark((function e(r){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(eO.set_is_fetch_true()),_O.addComentToPost(t.avatar,n,t.comentatorName,t.comentatorID,t.coment_text),r(oL(t)),r(eO.set_is_fetch_fasle());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),a(sL(""))},children:(0,iO.jsxs)(ho,{children:[(0,iO.jsx)(fo,{onKeyUp:f,name:"coment",type:"text",autocomplete:"off"}),(0,iO.jsx)("br",{}),(0,iO.jsx)("button",{className:zL,onClick:function(){var e=i.pathname.split("/coments")[0];r(e)},children:"Back"}),(0,iO.jsx)("button",{className:QL,type:"submit",children:"Publish"})]})})})]})})),KL="News_news__nyFA-",GL="News_postIMGContainer__E8kk1",YL=e.memo((function(t){var n=ts(),r=xo((function(e){return e.app.is_fetch}));(0,e.useEffect)((function(){console.log(r)}),[r]),(0,e.useEffect)((function(){n(function(){var e=as(rs().mark((function e(t){var n;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(eO.set_is_fetch_true()),e.next=3,_O.getAllPosts();case 3:(n=e.sent)&&(t(CO(n)),t(eO.set_is_fetch_fasle()));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);var i=xo((function(e){return e.userPosts.posts}));return r?(0,iO.jsx)(iO.Fragment,{children:(0,iO.jsx)(nL,{})}):(0,iO.jsx)("div",{className:KL,children:i.length?i.map((function(e){return(0,iO.jsx)("div",{className:GL,children:(0,iO.jsx)(Xe,{to:"/p/id="+e.id,children:(0,iO.jsx)("img",{src:e.postIMG,alt:""})})},e.id)})):null})})),JL={},XL=e.memo((function(t){var n=ts(),r=Ce(),i=r.pathname.split("/")[3],a=r.pathname.split("/")[2].split("=")[1];(0,e.useEffect)((function(){var e;n("followers"===i?(e=a,function(){var t=as(rs().mark((function t(n){var r;return rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,hL.getFollowers(e);case 2:(r=t.sent)&&n(TL(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()):function(e){return function(){var t=as(rs().mark((function t(n){var r;return rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,hL.getFollowedUsers(e);case 2:(r=t.sent)&&n(NL(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(a))}),[]);var o=xo((function(e){return e.search.users}));return console.log(o),(0,iO.jsx)("section",{className:JL.UsersList,children:(0,iO.jsx)("input",{placeholder:"Search users",onClick:function(){},onBlur:function(){}})})})),ZL=function(e){A(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).state={hasError:!1},r}return g(n,[{key:"render",value:function(){return this.state.hasError?(0,iO.jsx)("section",{children:(0,iO.jsx)("h1",{children:"Something went wrong"})}):this.props.children}}],[{key:"componentDidCatch",value:function(e,t){return console.log("Error"),(0,iO.jsx)("div",{children:(0,iO.jsx)("h1",{children:"Something went wrong"})})}}]),n}(e.Component),$L="/login",eM="/profile/:id",tM=function(e){new ZL(e);return e.isAuth?(0,iO.jsx)("div",{className:BL,children:(0,iO.jsxs)(je,{children:[(0,iO.jsx)(Fe,{path:$L,element:(0,iO.jsx)(Ue,{to:eM+"="+e.actualUser})}),(0,iO.jsx)(Fe,{path:"/",element:null}),(0,iO.jsx)(Fe,{path:eM,element:(0,iO.jsx)(CL,{})}),(0,iO.jsx)(Fe,{path:"/p/:id",element:(0,iO.jsx)(ZL,{children:(0,iO.jsx)(lL,{})})}),(0,iO.jsx)(Fe,{path:"/search",element:(0,iO.jsx)(FL,{})}),(0,iO.jsx)(Fe,{path:"/newPost",element:(0,iO.jsx)(DO,{})}),(0,iO.jsx)(Fe,{path:"/p/:id/coments",element:(0,iO.jsx)(WL,{})}),(0,iO.jsx)(Fe,{path:"/news",element:(0,iO.jsx)(YL,{})}),(0,iO.jsx)(Fe,{path:"/profile/:id/Followers",element:(0,iO.jsx)(XL,{})}),(0,iO.jsx)(Fe,{path:"/profile/:id/Followed",element:(0,iO.jsx)(XL,{})})]})}):(0,iO.jsx)("div",{children:(0,iO.jsxs)(je,{children:[(0,iO.jsx)(Fe,{path:$L,element:(0,iO.jsx)(oO,{})}),(0,iO.jsx)(Fe,{path:"*",element:(0,iO.jsx)(Ue,{to:$L,replace:!0})}),(0,iO.jsx)(Fe,{path:"/registration",element:(0,iO.jsx)(bO,{})})]})})},nM={navbarContainer:"Navbar_navbarContainer__IC5gz",navigation_list:"Navbar_navigation_list__6JIvd"},rM=n.p+"static/media/search.bbf2dec15d518049563b.png",iM=e.memo((function(e){var t=ts(),n=xo((function(e){return e.auth.is_auth})),r=xo((function(e){return e.account.userID}));return(0,iO.jsx)("footer",{className:nM.navbarContainer,children:(0,iO.jsx)("section",{className:nM.navigation,children:(0,iO.jsxs)("ul",{className:nM.navigation_list,children:[(0,iO.jsx)("li",{children:(0,iO.jsx)(Xe,{to:"/search",children:(0,iO.jsx)("img",{src:rM,alt:"#"})})}),(0,iO.jsx)("li",{children:(0,iO.jsx)(Xe,{to:"/profile/id=".concat(r),children:(0,iO.jsx)("img",{src:"data:image/png;base64,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",alt:"#"})})}),(0,iO.jsx)("li",{children:(0,iO.jsx)(Xe,{to:"/news",children:(0,iO.jsx)("img",{src:"data:image/png;base64,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",alt:""})})}),(0,iO.jsx)("li",{children:(0,iO.jsx)(Xe,{to:"newPost",children:(0,iO.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAADsQAAA7EB9YPtSQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAATHSURBVHic7Z3NbxVVGIefTltIhHqbGFqoC1mybMJKSm9N3Rr/AXVtIELqVt1CG8LCP0WDWwQWfiRCwgqqC6QWNDQ1KVE++gF1cXpNc3vnzNyPmTs3v9+TvJuec2bOyfvMzDn3nukdon2GgRlgHjgNnALeAsaBoQ6OZ9pnF9gA1oFfgdvA98CPwKuiTjoFLAF/7nXAUb14DCwCJ1Jy2BFjwFXgZQUG6MgXL4ArwNEW+WyLOvBHBQbk6CxWgLMHspqTC8B2BQbh6C62gfO0yVcV6Lijt/ElOfmsAp11FBPnaKJ52VYHrgMjzRVT2CIsPVaAJ3snMcUzBEwC7wBngEM52+0A7wE/tCocA1bJZ9I94CPgzQ4HYHpHDfgYuE++3D0EjrQ60NUcjTcJk8O8dwhTHiPARUKOsvK42Nx4irB2jDVaB2YLHoTpnllCrmK5fA4c399oKaPBJk7+IFEn+05wuVF5mOyPdy+U13fTIxaI5/QRIffUMyrew8/8QWQEWCae25mE8K1ejEuE5YMZLHYIuYsxD/Ad6Ya8xEu9QaZGfC7wLcBvkQo3Su+y6TW3SM/vcgJMRBr/Xnj3TNHEcjiREP/O+EmPO2PK569I2VjC3lIghc0ed8aUTyyHI0lp3TCVxAKIYwHEsQDiWABxLIA4FkAcCyCOBRDHAohjAcSxAOJYAHEsgDgWQBwLII4FEEdxv/804R9atWIDuFtiX/qOogBfA3MpZbcIr0/L4EeAOBZAHAsgjgUQxwKIYwHEsQDiWABxLIA4FkAcCyCOBRDHAohjAcSxAOJYAHEsgDgWQBwLII4FEMcCiFPVXcHThN27RR07VnazoPMuUMEt51UVYJz0rdtFUivwvGnvIvQVPwLEsQDiWABxLIA4FkCcqq4CNggvahbBNGG234qnFLdU2yjouF1RVQHuUtxbujdJX+oVed5K4keAOBZAHAsgjgUQxwKIYwHEsQDiWABxLIA4FkAcCyCOBRDHAohjAcSxAOJYAHEsgDgWQBwLII4FEMcCiFPVXcFFskD8R6OkUBSgcq9o9xM/AsSxAOJYAHEsgDgWQBwLII4FEMcCiGMBxLEA4lgAcSyAOBZAHAsgjgUQxwKIYwHESYBXkfLDZXXEFEYshzsJ8G+kwvEed8aUz1Sk7J8EWItUONnbvpg+cDJStgZwDdhNiS0q+lMnJhc1YJP0/H6TALcjBxgFPii4k6Y4PgQORcrvAMySbsgucB/N7eODziiwTDy3ZwCGgccZFS+W23fTAz4nntNV9n0MsJhReROol9d30yVzhPlbLKeX9jc4AbzIaLCOJRgE5oC/iefyGTDZ3PBKRqPGnWABzwmqyCjhtp915R+4+hscBVZyNN4lTC4+If23d0x5jBNykTXha8QD4I1G46Gmg50FbpD/Ct8CfgYeEiaSTzsbg2mTGvA24UOedwlXfx62CY+In2KVzpPPJMfgxac0Mdz8B+AXYAeYb1FmBpcvaPMX2c8Rbhn9ttbRXWzR4srPywzh+d7vQTg6iweEOUJXHAGWgOcVGJAjXzwjLPX+n+33gkngMvCoAgN0tI5VQuInUnJ4gOZlYB4Swm3lfeA0cAo4RliaeItZObwmLLnXCOv/O8B1wpL8dTsH+g8rTSMiLBAhyQAAAABJRU5ErkJggg==",alt:"#"})})}),(0,iO.jsx)("li",{children:n?(0,iO.jsx)("img",{src:"data:image/png;base64,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",alt:"",onClick:function(){t(function(){var e=as(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:zD.signOut(),t(nO.set_auth_false());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}):null})]})})})})),aM=n(413),oM=e.memo((function(t){(0,e.useEffect)((function(){t.init()}),[]);var n=u((0,e.useState)(!1),2),r=n[0],i=n[1];return function(e,t,n,r){pA(e,"child_changed",t,n,r)}(oA(xA(),"Chat/"),(function(e){i(!0),console.log("Message recieved")})),t.isInit||!t.isFetch?(0,iO.jsx)("div",{className:l.app,children:(0,iO.jsxs)(Ke,{children:[r?(0,iO.jsx)("audio",{src:aM,autoPlay:!0}):null,(0,iO.jsx)(iM,{}),(0,iO.jsx)(tM,{actualUser:t.currentUserID,isAuth:t.isAuth})]})}):(0,iO.jsx)("div",{children:(0,iO.jsxs)(Ke,{children:[(0,iO.jsx)(nL,{}),(0,iO.jsx)(iM,{})]})})})),sM=Yo((function(e){return{isInit:e.app.is_initialize,isFetch:e.app.is_fetch,currentUserID:e.app.currentUserID,userPage:e.userPage,isNewPost:e.userPosts.isOnNewPost,isAuth:e.auth.is_auth}}),(function(e){return{init:function(){e(function(){var e=Id();return function(){var t=as(rs().mark((function t(n){return rs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(nO.set_auth_true()),n(eO.set_is_fetch_true()),Df(e,(function(e){var t;n(eO.init(!1)),null!==e?(n(eO.setCurrentUserID(null===e||void 0===e?void 0:e.uid)),n((t=e.uid,function(){var e=as(rs().mark((function e(n){var r,i;return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(eO.init(!1)),e.next=4,zD.getAccount(t);case 4:if(!(r=e.sent)){e.next=11;break}i={fullName:null===r||void 0===r?void 0:r.fullName,avatar:null===r||void 0===r?void 0:r.avatar,userID:null===r||void 0===r?void 0:r.userID,status:null===r||void 0===r?void 0:r.status,chats:r.chats},n(GD(i)),n(eO.init(!0)),e.next=12;break;case 11:throw new Error;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}())),n(nO.set_auth_true()),n(eO.set_is_fetch_fasle()),n(eO.init(!0))):(console.log("NOT_AUTHORIZED"),n(nO.set_auth_false()),n(eO.set_is_fetch_fasle()),n(eO.init(!0)))}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}())},setIsOnNewPost:function(t){e(TO(t))}}}))(oM),uM=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};function cM(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var lM="function"===typeof Symbol&&Symbol.observable||"@@observable",fM=function(){return Math.random().toString(36).substring(7).split("").join(".")},hM={INIT:"@@redux/INIT"+fM(),REPLACE:"@@redux/REPLACE"+fM(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+fM()}};function dM(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}var pM=function e(t,n,r){var i;if("function"===typeof n&&"function"===typeof r||"function"===typeof r&&"function"===typeof arguments[3])throw new Error(cM(0));if("function"===typeof n&&"undefined"===typeof r&&(r=n,n=void 0),"undefined"!==typeof r){if("function"!==typeof r)throw new Error(cM(1));return r(e)(t,n)}if("function"!==typeof t)throw new Error(cM(2));var a=t,o=n,s=[],u=s,c=!1;function l(){u===s&&(u=s.slice())}function f(){if(c)throw new Error(cM(3));return o}function h(e){if("function"!==typeof e)throw new Error(cM(4));if(c)throw new Error(cM(5));var t=!0;return l(),u.push(e),function(){if(t){if(c)throw new Error(cM(6));t=!1,l();var n=u.indexOf(e);u.splice(n,1),s=null}}}function d(e){if(!dM(e))throw new Error(cM(7));if("undefined"===typeof e.type)throw new Error(cM(8));if(c)throw new Error(cM(9));try{c=!0,o=a(o,e)}finally{c=!1}for(var t=s=u,n=0;n<t.length;n++){(0,t[n])()}return e}return d({type:hM.INIT}),(i={dispatch:d,subscribe:h,getState:f,replaceReducer:function(e){if("function"!==typeof e)throw new Error(cM(10));a=e,d({type:hM.REPLACE})}})[lM]=function(){var e,t=h;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(cM(11));function n(){e.next&&e.next(f())}return n(),{unsubscribe:t(n)}}})[lM]=function(){return this},e},i};function vM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function yM(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var gM=yM();gM.withExtraArgument=yM;var mM=gM,AM=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:hM.INIT}))throw new Error(cM(12));if("undefined"===typeof n(void 0,{type:hM.PROBE_UNKNOWN_ACTION()}))throw new Error(cM(13))}))}(n)}catch(s){a=s}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var u=o[s],c=n[u],l=e[u],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(cM(14))}i[u]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_INITIALIZE":return us(us({},e),{},{is_initialize:t.payload});case"messenger/app_reducer/set_is_fetch_true":return us(us({},e),{},{is_fetch:!0});case"messenger/app_reducer/set_is_fetch_false":return us(us({},e),{},{is_fetch:!1});case"messenger/app_reducer/set_current_user_id":return us(us({},e),{},{currentUserID:t.payload});case"insta-clone/postReducer/set_on_load":return us(us({},e),{},{onLoad:t.payload});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"messenger/auth_reducer/create_user":return us(us({},e),{},{user_id:t.payload});case"messenger/authReducer/setError":return us(us({},e),{},{onError:t.payload});case"messenger/auth_reducer/set_true":return us(us({},e),{},{is_auth:!0});case"messenger/auth_reducer/set_false":return us(us({},e),{},{is_auth:!1});case"messenger/auth_reducer/set_token":return us(us({},e),{},{auth_token:t.payload});default:return e}},account:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:KD,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"instaClone/profile_reducer/set_current_user+profile":return us(us({},e),t.payload);case"instaClone/profileReducer/updateAvatar":return us(us({},e),{},{avatar:t.payload});case"instaClone/profileReducer/updateStatus":return us(us({},e),{},{status:t.payload});case"instaClone/profileReducer/setNewStatus":return us(us({},e),{},{newStatus:t.payload});case"instaClone/profileReducer/setNewAvatar":return us(us({},e),{},{newAvatar:t.payload});default:return e}},userPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dL,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"messenger/Users_reducer/get_users":return us(us({},e),t.payload);case"instaClone/UsersReducer/setNewStatus":case"instaClone/profileReducer/updateStatus":return us(us({},e),{},{status:t.payload});case"instaClone/UsersReducer/follow":var n;return us(us({},e),{},{followers:null===(n=e.followers)||void 0===n?void 0:n.concat(t.payload)});case"instaClone/UsersReducer/unfollow":var r;return us(us({},e),{},{followers:null===(r=e.followers)||void 0===r?void 0:r.filter((function(e){return e!==t.payload}))});default:return e}},userPosts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:EO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"messenger/posts_reducer/get_post":return us(us({},e),{},{posts:t.payload});case"insta-clone/postReducer/createPost":return us(us({},e),{},{posts:us({},e.posts.concat(t.payload))});case"messenger/posts_reducer/set_showed_post":return us(us({},e),{},{currentPost:t.payload});case"messenger/posts_reducer/like":return us(us({},e),{},{currentPost:us(us({},e.currentPost),{},{likesCount:e.currentPost.likesCount.concat(t.payload)})});case"messenger/posts_reducer/dislike":return us(us({},e),{},{currentPost:us(us({},e.currentPost),{},{likesCount:e.currentPost.likesCount.filter((function(e){return e!==t.payload}))})});case"insta-clone/postReducer/setIsOnNewPost":return us(us({},e),{},{isOnNewPost:t.payload});case"insta-clone/postReducer/setNewPostPhoto":return us(us({},e),{},{newPostPhoto:t.payload});case"insta-clone/postReducer/setNewPostText":return us(us({},e),{},{newPostText:e.newPostText.concat(t.payload)});default:return e}},coments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rL,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"insta-clone/comentReducer/getComents":return us(us({},e),{},{coments:t.payload});case"insta-clone/comentReducer/addComent":return us(us({},e),{},{coments:e.coments.concat(t.payload)});case"insta-clone/comentReducer/deleteComent":return us(us({},e),{},{coments:e.coments.filter((function(e){return e.comentID!==t.payload}))});case"insta-clone/comentReducer/setNewComent":return us(us({},e),{},{newComentText:t.payload});default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:SL,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"messenger/usersSearchReducer/getAllUsers":case"messenger/usersSearchReducer/getUserPage":case"instaClone/userSearchReducer/getFollowers":case"instaClone/userSearchReducer/getFollowed":return us(us({},e),{},{users:t.payload});case"messenger/userSearchReducer/setSearchName":return us(us({},e),{},{userToSearch:t.payload});case"messenger/userSearchReducer/setOnSearch":return us(us({},e),{},{onSearch:t.payload});default:return e}},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"messenger/registrationReducer/setNewUserUsername":return us(us({},e),{},{userName:t.payload});case"messenger/registrationReducer/setNewUserPassword":return us(us({},e),{},{passwordField1:t.payload});case"messenger/registrationReducer/setNewUserPassword2":return us(us({},e),{},{passwordField2:t.payload});case"messenger/registrationReducer/setNewUserEmail":return us(us({},e),{},{email:t.payload});case"messenger/registrationReducer/setNewUserAvatar":return us(us({},e),{},{avatar:t.payload});case"messenger/registrationReducer/setUserID":return us(us({},e),{},{newUserID:t.payload});case"messenger/registrationReducer/setNewUserStatus":return us(us({},e),{},{status:t.payload});default:return e}}}),kM=pM(AM,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(cM(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=vM.apply(void 0,a)(n.dispatch),us(us({},n),{},{dispatch:r})}}}(mM));window.store=kM,r.createRoot(document.getElementById("root")).render((0,iO.jsx)(e.StrictMode,{children:(0,iO.jsx)(Jo,{store:kM,children:(0,iO.jsx)(sM,{})})})),uM()}()}();
//# sourceMappingURL=main.501b6d73.js.map